[2025-11-19 00:15:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.383, 'infer_time': 0.182, 'content': '星空下散步，带个小毯子更温馨。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '全民约会时如何营造浪漫气氛'}]}, {'role': 'assistant', 'content': '烛光晚餐配轻音乐，氛围感拉满。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:15:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.397, 'turn': 1, 'state': 'LISTEN', 'content': '如果是在户外约会呢'}}
[2025-11-19 00:15:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.668, 'infer_time': 0.28, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:15:38] 收到 tts_done, timestamp=13.668s
[2025-11-19 00:15:38] 在 13.67s 插入 TTS（3.60s）
[2025-11-19 00:15:39] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 14.898}}
[2025-11-19 00:15:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 16.401, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.623, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.267, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.364, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.454, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '全民约会时如何营造浪漫气氛'}]}, {'role': 'assistant', 'content': '烛光晚餐配轻音乐，氛围感拉满。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果是在户外约会呢'}]}, {'role': 'assistant', 'content': '星空下散步，带个小毯子更温馨。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 19.632, 'turn': 2, 'state': 'LISTEN', 'content': '最近皮肤有点干是不是该换一款保湿面霜了'}}
[2025-11-19 00:15:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.671, 'infer_time': 0.211, 'content': '换保湿面霜是好选择，秋冬干燥需加强护理。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '全民约会时如何营造浪漫气氛'}]}, {'role': 'assistant', 'content': '烛光晚餐配轻音乐，氛围感拉满。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果是在户外约会呢'}]}, {'role': 'assistant', 'content': '星空下散步，带个小毯子更温馨。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.031, 'infer_time': 0.354, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:15:44] 收到 tts_done, timestamp=20.031s
[2025-11-19 00:15:44] 在 20.03s 插入 TTS（4.65s）
[2025-11-19 00:15:52] 音频发送完毕，用时 28.67s
[2025-11-19 00:15:52] WebSocket 已关闭，结束接收循环
[2025-11-19 00:15:52] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0003_output.wav，时长 28.28s
[2025-11-19 00:15:52] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0003_output.wav
[2025-11-19 00:15:52] 处理完成: 0006_0003.wav
[2025-11-19 00:15:52] -----------------------------------
[2025-11-19 00:15:52] 开始处理文件: 0006_0004.wav
[2025-11-19 00:15:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:15:52] 初始化输出 buffer，总时长 27.84s（445440 samples）
[2025-11-19 00:15:52] 开始发送 0006_0004.wav，总帧 1740，时长 27.84s
[2025-11-19 00:15:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.832, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.928, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.089, 'turn': 0, 'state': 'LISTEN', 'content': '纪念币的收藏价值主要取决于哪些因素'}}
[2025-11-19 00:15:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.122, 'infer_time': 0.19, 'content': '发行量、品相和历史背景是关键因素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.457, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:15:57] 收到 tts_done, timestamp=4.457s
[2025-11-19 00:15:57] 在 4.46s 插入 TTS（4.26s）
[2025-11-19 00:16:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.263}}
[2025-11-19 00:16:02] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.767, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.682, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.334, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.431, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.518, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纪念币的收藏价值主要取决于哪些因素'}]}, {'role': 'assistant', 'content': '发行量、品相和历史背景是关键因素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.658, 'turn': 1, 'state': 'LISTEN', 'content': '材质具体有哪些常见类型'}}
[2025-11-19 00:16:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.715, 'infer_time': 0.193, 'content': '铜镍合金、不锈钢和双色铜合金最常见。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纪念币的收藏价值主要取决于哪些因素'}]}, {'role': 'assistant', 'content': '发行量、品相和历史背景是关键因素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.018, 'infer_time': 0.297, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:05] 收到 tts_done, timestamp=12.018s
[2025-11-19 00:16:05] 在 12.02s 插入 TTS（3.86s）
[2025-11-19 00:16:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 15.898}}
[2025-11-19 00:16:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.411, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.406, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.053, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.146, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.236, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纪念币的收藏价值主要取决于哪些因素'}]}, {'role': 'assistant', 'content': '发行量、品相和历史背景是关键因素。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '材质具体有哪些常见类型'}]}, {'role': 'assistant', 'content': '铜镍合金、不锈钢和双色铜合金最常见。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 19.348, 'turn': 2, 'state': 'LISTEN', 'content': '跟我去爬山需要准备哪些装备'}}
[2025-11-19 00:16:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.406, 'infer_time': 0.166, 'content': '登山鞋、背包、水和食物必备。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纪念币的收藏价值主要取决于哪些因素'}]}, {'role': 'assistant', 'content': '发行量、品相和历史背景是关键因素。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '材质具体有哪些常见类型'}]}, {'role': 'assistant', 'content': '铜镍合金、不锈钢和双色铜合金最常见。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 19.705, 'infer_time': 0.293, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:12] 收到 tts_done, timestamp=19.705s
[2025-11-19 00:16:12] 在 19.70s 插入 TTS（3.74s）
[2025-11-19 00:16:21] 音频发送完毕，用时 28.40s
[2025-11-19 00:16:21] WebSocket 已关闭，结束接收循环
[2025-11-19 00:16:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0004_output.wav，时长 27.84s
[2025-11-19 00:16:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0004_output.wav
[2025-11-19 00:16:21] 处理完成: 0006_0004.wav
[2025-11-19 00:16:21] -----------------------------------
[2025-11-19 00:16:21] 开始处理文件: 0006_0008.wav
[2025-11-19 00:16:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:16:21] 初始化输出 buffer，总时长 30.85s（493600 samples）
[2025-11-19 00:16:21] 开始发送 0006_0008.wav，总帧 1929，时长 30.85s
[2025-11-19 00:16:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.044, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.377, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.025, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.125, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.256, 'turn': 0, 'state': 'LISTEN', 'content': '在领域对缓解压力具体有什么科切依据吗'}}
[2025-11-19 00:16:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.337, 'infer_time': 0.207, 'content': '森林浴通过负氧离子等改善情绪，有科学依据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.688, 'infer_time': 0.347, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:26] 收到 tts_done, timestamp=4.688s
[2025-11-19 00:16:26] 在 4.69s 插入 TTS（4.55s）
[2025-11-19 00:16:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.504}}
[2025-11-19 00:16:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.008, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.315, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.97, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.067, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.157, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在领域对缓解压力具体有什么科切依据吗'}]}, {'role': 'assistant', 'content': '森林浴通过负氧离子等改善情绪，有科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.272, 'turn': 1, 'state': 'LISTEN', 'content': '诺金具体对哪些压力技术有影响'}}
[2025-11-19 00:16:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.35, 'infer_time': 0.188, 'content': '多巴胺影响情绪调节，降低焦虑和抑郁。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在领域对缓解压力具体有什么科切依据吗'}]}, {'role': 'assistant', 'content': '森林浴通过负氧离子等改善情绪，有科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.637, 'infer_time': 0.283, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:16:34] 收到 tts_done, timestamp=12.637s
[2025-11-19 00:16:34] 在 12.64s 插入 TTS（3.65s）
[2025-11-19 00:16:37] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.463}}
[2025-11-19 00:16:39] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.97, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.605, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.425, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.073, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.175, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.271, 'infer_time': 0.092, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在领域对缓解压力具体有什么科切依据吗'}]}, {'role': 'assistant', 'content': '森林浴通过负氧离子等改善情绪，有科学依据。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '诺金具体对哪些压力技术有影响'}]}, {'role': 'assistant', 'content': '多巴胺影响情绪调节，降低焦虑和抑郁。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 22.474, 'turn': 2, 'state': 'LISTEN', 'content': '年冬天暖气供应好像提前开始了屋里温度挺合适的'}}
[2025-11-19 00:16:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.477, 'infer_time': 0.201, 'content': '提前供暖是为应对寒潮，保障居民舒适度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在领域对缓解压力具体有什么科切依据吗'}]}, {'role': 'assistant', 'content': '森林浴通过负氧离子等改善情绪，有科学依据。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '诺金具体对哪些压力技术有影响'}]}, {'role': 'assistant', 'content': '多巴胺影响情绪调节，降低焦虑和抑郁。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.802, 'infer_time': 0.32, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:16:44] 收到 tts_done, timestamp=22.802s
[2025-11-19 00:16:44] 在 22.80s 插入 TTS（4.11s）
[2025-11-19 00:16:52] 音频发送完毕，用时 31.48s
[2025-11-19 00:16:52] WebSocket 已关闭，结束接收循环
[2025-11-19 00:16:52] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0008_output.wav，时长 30.85s
[2025-11-19 00:16:52] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0008_output.wav
[2025-11-19 00:16:52] 处理完成: 0006_0008.wav
[2025-11-19 00:16:52] -----------------------------------
[2025-11-19 00:16:52] 开始处理文件: 0006_0013.wav
[2025-11-19 00:16:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:16:52] 初始化输出 buffer，总时长 27.87s（445920 samples）
[2025-11-19 00:16:52] 开始发送 0006_0013.wav，总帧 1742，时长 27.87s
[2025-11-19 00:16:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.886, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.534, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.63, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.79, 'turn': 0, 'state': 'LISTEN', 'content': '洗发后头发容易打结该怎么护理'}}
[2025-11-19 00:16:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.894, 'infer_time': 0.261, 'content': '用宽齿梳从发尾慢慢往上梳，洗护时多用护发素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.295, 'infer_time': 0.395, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:16:57] 收到 tts_done, timestamp=4.295s
[2025-11-19 00:16:57] 在 4.29s 插入 TTS（5.28s）
[2025-11-19 00:17:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.136}}
[2025-11-19 00:17:02] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.641, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.305, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.95, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.046, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.134, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洗发后头发容易打结该怎么护理'}]}, {'role': 'assistant', 'content': '用宽齿梳从发尾慢慢往上梳，洗护时多用护发素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.233, 'turn': 1, 'state': 'LISTEN', 'content': '柱子应该选哪一种比较好'}}
[2025-11-19 00:17:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.343, 'infer_time': 0.205, 'content': '选宽齿梳或气垫梳，能减少拉扯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洗发后头发容易打结该怎么护理'}]}, {'role': 'assistant', 'content': '用宽齿梳从发尾慢慢往上梳，洗护时多用护发素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.644, 'infer_time': 0.294, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:04] 收到 tts_done, timestamp=11.644s
[2025-11-19 00:17:04] 在 11.64s 插入 TTS（3.70s）
[2025-11-19 00:17:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 15.461}}
[2025-11-19 00:17:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.757, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 00:17:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 16.971, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.429, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.074, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.167, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.253, 'infer_time': 0.082, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洗发后头发容易打结该怎么护理'}]}, {'role': 'assistant', 'content': '用宽齿梳从发尾慢慢往上梳，洗护时多用护发素。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '柱子应该选哪一种比较好'}]}, {'role': 'assistant', 'content': '选宽齿梳或气垫梳，能减少拉扯。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.432, 'infer_time': 0.178, 'content': '选宽齿梳或气垫梳，能减少拉扯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洗发后头发容易打结该怎么护理'}]}, {'role': 'assistant', 'content': '用宽齿梳从发尾慢慢往上梳，洗护时多用护发素。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '柱子应该选哪一种比较好'}]}, {'role': 'assistant', 'content': '选宽齿梳或气垫梳，能减少拉扯。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 19.722, 'infer_time': 0.285, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:12] 收到 tts_done, timestamp=19.722s
[2025-11-19 00:17:12] 在 19.72s 插入 TTS（3.69s）
[2025-11-19 00:17:21] 音频发送完毕，用时 28.37s
[2025-11-19 00:17:21] WebSocket 已关闭，结束接收循环
[2025-11-19 00:17:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0013_output.wav，时长 27.87s
[2025-11-19 00:17:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0013_output.wav
[2025-11-19 00:17:21] 处理完成: 0006_0013.wav
[2025-11-19 00:17:21] -----------------------------------
[2025-11-19 00:17:21] 开始处理文件: 0006_0017.wav
[2025-11-19 00:17:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:17:21] 初始化输出 buffer，总时长 31.76s（508160 samples）
[2025-11-19 00:17:21] 开始发送 0006_0017.wav，总帧 1985，时长 31.76s
[2025-11-19 00:17:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.913, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.564, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.663, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.848, 'infer_time': 0.181, 'content': '金毛是狗狗，星座运势不适用哦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.881, 'turn': 0, 'state': 'LISTEN', 'content': '我家养了就是狮子座的金毛他这个月的运势怎么样'}}
[2025-11-19 00:17:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.132, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:26] 收到 tts_done, timestamp=5.132s
[2025-11-19 00:17:26] 在 5.13s 插入 TTS（3.59s）
[2025-11-19 00:17:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.163}}
[2025-11-19 00:17:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.673, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.526, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.178, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.271, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.361, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我家养了就是狮子座的金毛他这个月的运势怎么样'}]}, {'role': 'assistant', 'content': '金毛是狗狗，星座运势不适用哦。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.486, 'turn': 1, 'state': 'LISTEN', 'content': '他在健康方面有什么需要特别注意的吗'}}
[2025-11-19 00:17:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.582, 'infer_time': 0.216, 'content': '金毛易患髋关节病，注意控制体重和适度运动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我家养了就是狮子座的金毛他这个月的运势怎么样'}]}, {'role': 'assistant', 'content': '金毛是狗狗，星座运势不适用哦。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.909, 'infer_time': 0.322, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:17:35] 收到 tts_done, timestamp=13.909s
[2025-11-19 00:17:35] 在 13.91s 插入 TTS（4.20s）
[2025-11-19 00:17:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.65}}
[2025-11-19 00:17:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.153, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.643, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.506, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.484, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.129, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.228, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.323, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我家养了就是狮子座的金毛他这个月的运势怎么样'}]}, {'role': 'assistant', 'content': '金毛是狗狗，星座运势不适用哦。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '他在健康方面有什么需要特别注意的吗'}]}, {'role': 'assistant', 'content': '金毛易患髋关节病，注意控制体重和适度运动。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 23.484, 'turn': 2, 'state': 'LISTEN', 'content': '我最近读的那本百年孤独情节真是曲折离奇你觉得呢'}}
[2025-11-19 00:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.544, 'infer_time': 0.216, 'content': '马尔克斯写得真绝，魔幻现实太迷人了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我家养了就是狮子座的金毛他这个月的运势怎么样'}]}, {'role': 'assistant', 'content': '金毛是狗狗，星座运势不适用哦。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '他在健康方面有什么需要特别注意的吗'}]}, {'role': 'assistant', 'content': '金毛易患髋关节病，注意控制体重和适度运动。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.872, 'infer_time': 0.323, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:17:45] 收到 tts_done, timestamp=23.872s
[2025-11-19 00:17:45] 在 23.87s 插入 TTS（4.18s）
[2025-11-19 00:17:53] 音频发送完毕，用时 32.44s
[2025-11-19 00:17:53] WebSocket 已关闭，结束接收循环
[2025-11-19 00:17:53] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0017_output.wav，时长 31.76s
[2025-11-19 00:17:53] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0017_output.wav
[2025-11-19 00:17:53] 处理完成: 0006_0017.wav
[2025-11-19 00:17:53] -----------------------------------
[2025-11-19 00:17:53] 开始处理文件: 0006_0021.wav
[2025-11-19 00:17:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:17:53] 初始化输出 buffer，总时长 34.83s（557280 samples）
[2025-11-19 00:17:53] 开始发送 0006_0021.wav，总帧 2177，时长 34.83s
[2025-11-19 00:17:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.996, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.648, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.75, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.892, 'turn': 0, 'state': 'LISTEN', 'content': '移数据库如何帮助普通人了解和学习非移项目'}}
[2025-11-19 00:17:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.933, 'infer_time': 0.178, 'content': '非遗数据库让普通人轻松了解和学习传统技艺。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.264, 'infer_time': 0.325, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:17:59] 收到 tts_done, timestamp=5.264s
[2025-11-19 00:17:59] 在 5.26s 插入 TTS（4.23s）
[2025-11-19 00:18:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.062}}
[2025-11-19 00:18:04] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.573, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.556, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.031, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.684, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.789, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.903, 'infer_time': 0.109, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '移数据库如何帮助普通人了解和学习非移项目'}]}, {'role': 'assistant', 'content': '非遗数据库让普通人轻松了解和学习传统技艺。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.092, 'infer_time': 0.184, 'content': '有的，非遗数据库常收录剪纸教学视频。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '移数据库如何帮助普通人了解和学习非移项目'}]}, {'role': 'assistant', 'content': '非遗数据库让普通人轻松了解和学习传统技艺。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.115, 'turn': 1, 'state': 'LISTEN', 'content': '那如果我想学习具体的剪纸记忆数据库里会有教学视频吗'}}
[2025-11-19 00:18:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.43, 'infer_time': 0.332, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:10] 收到 tts_done, timestamp=16.43s
[2025-11-19 00:18:10] 在 16.43s 插入 TTS（4.16s）
[2025-11-19 00:18:14] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.214}}
[2025-11-19 00:18:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.726, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.304, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.85, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 26.499, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.6, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.712, 'infer_time': 0.107, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '移数据库如何帮助普通人了解和学习非移项目'}]}, {'role': 'assistant', 'content': '非遗数据库让普通人轻松了解和学习传统技艺。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果我想学习具体的剪纸记忆数据库里会有教学视频吗'}]}, {'role': 'assistant', 'content': '有的，非遗数据库常收录剪纸教学视频。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.892, 'infer_time': 0.175, 'content': '抖音适合新手，流量大易上手。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '移数据库如何帮助普通人了解和学习非移项目'}]}, {'role': 'assistant', 'content': '非遗数据库让普通人轻松了解和学习传统技艺。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果我想学习具体的剪纸记忆数据库里会有教学视频吗'}]}, {'role': 'assistant', 'content': '有的，非遗数据库常收录剪纸教学视频。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 26.949, 'turn': 2, 'state': 'LISTEN', 'content': '我最近在考虑尝试做自媒体作为副业你觉得从哪个平台开始比较好'}}
[2025-11-19 00:18:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 27.163, 'infer_time': 0.265, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:20] 收到 tts_done, timestamp=27.163s
[2025-11-19 00:18:20] 在 27.16s 插入 TTS（3.36s）
[2025-11-19 00:18:29] 音频发送完毕，用时 35.89s
[2025-11-19 00:18:29] WebSocket 已关闭，结束接收循环
[2025-11-19 00:18:29] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0021_output.wav，时长 34.83s
[2025-11-19 00:18:29] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0021_output.wav
[2025-11-19 00:18:29] 处理完成: 0006_0021.wav
[2025-11-19 00:18:29] -----------------------------------
[2025-11-19 00:18:29] 开始处理文件: 0006_0022.wav
[2025-11-19 00:18:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:18:29] 初始化输出 buffer，总时长 31.39s（502240 samples）
[2025-11-19 00:18:29] 开始发送 0006_0022.wav，总帧 1962，时长 31.39s
[2025-11-19 00:18:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.427, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.157, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.809, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.909, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.063, 'turn': 0, 'state': 'LISTEN', 'content': '南海争端中中国主张的历史依据有哪些'}}
[2025-11-19 00:18:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.087, 'infer_time': 0.173, 'content': '中国主张南海诸岛主权的历史依据有哪些？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.39, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:18:35] 收到 tts_done, timestamp=5.39s
[2025-11-19 00:18:35] 在 5.39s 插入 TTS（3.87s）
[2025-11-19 00:18:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.27}}
[2025-11-19 00:18:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.773, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.026, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.678, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.775, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.865, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '南海争端中中国主张的历史依据有哪些'}]}, {'role': 'assistant', 'content': '中国主张南海诸岛主权的历史依据有哪些？'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.046, 'turn': 1, 'state': 'LISTEN', 'content': '这些历史记录具体包括哪些文献或证据'}}
[2025-11-19 00:18:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.094, 'infer_time': 0.224, 'content': '包括《更路簿》、古代海图及史书记载等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '南海争端中中国主张的历史依据有哪些'}]}, {'role': 'assistant', 'content': '中国主张南海诸岛主权的历史依据有哪些？'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.38, 'infer_time': 0.281, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:18:44] 收到 tts_done, timestamp=14.38s
[2025-11-19 00:18:44] 在 14.38s 插入 TTS（3.62s）
[2025-11-19 00:18:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.257}}
[2025-11-19 00:18:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.76, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.85, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.495, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.592, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.684, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '南海争端中中国主张的历史依据有哪些'}]}, {'role': 'assistant', 'content': '中国主张南海诸岛主权的历史依据有哪些？'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些历史记录具体包括哪些文献或证据'}]}, {'role': 'assistant', 'content': '包括《更路簿》、古代海图及史书记载等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 22.853, 'turn': 2, 'state': 'LISTEN', 'content': '我最近想换个发型你觉得短发适合圆脸吗'}}
[2025-11-19 00:18:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.886, 'infer_time': 0.198, 'content': '短发适合圆脸，能修饰脸型显瘦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '南海争端中中国主张的历史依据有哪些'}]}, {'role': 'assistant', 'content': '中国主张南海诸岛主权的历史依据有哪些？'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些历史记录具体包括哪些文献或证据'}]}, {'role': 'assistant', 'content': '包括《更路簿》、古代海图及史书记载等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.136, 'infer_time': 0.243, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:18:52] 收到 tts_done, timestamp=23.136s
[2025-11-19 00:18:52] 在 23.14s 插入 TTS（3.09s）
[2025-11-19 00:19:01] 音频发送完毕，用时 31.87s
[2025-11-19 00:19:01] WebSocket 已关闭，结束接收循环
[2025-11-19 00:19:01] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0022_output.wav，时长 31.39s
[2025-11-19 00:19:01] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0022_output.wav
[2025-11-19 00:19:01] 处理完成: 0006_0022.wav
[2025-11-19 00:19:01] -----------------------------------
[2025-11-19 00:19:01] 开始处理文件: 0006_0024.wav
[2025-11-19 00:19:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:19:01] 初始化输出 buffer，总时长 30.32s（485120 samples）
[2025-11-19 00:19:01] 开始发送 0006_0024.wav，总帧 1895，时长 30.32s
[2025-11-19 00:19:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.992, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.648, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.738, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.852, 'turn': 0, 'state': 'LISTEN', 'content': '能量护盾在战斗中如何快速充能'}}
[2025-11-19 00:19:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.926, 'infer_time': 0.183, 'content': '攻击敌人或拾取能量球可快速充能。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.178, 'infer_time': 0.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:05] 收到 tts_done, timestamp=4.178s
[2025-11-19 00:19:05] 在 4.18s 插入 TTS（3.18s）
[2025-11-19 00:19:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.119}}
[2025-11-19 00:19:11] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.63, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.156, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.807, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.897, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.982, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能量护盾在战斗中如何快速充能'}]}, {'role': 'assistant', 'content': '攻击敌人或拾取能量球可快速充能。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.073, 'turn': 1, 'state': 'LISTEN', 'content': '自动恢复需要多长时间'}}
[2025-11-19 00:19:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.181, 'infer_time': 0.195, 'content': '自动恢复约需10秒，具体看装备属性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能量护盾在战斗中如何快速充能'}]}, {'role': 'assistant', 'content': '攻击敌人或拾取能量球可快速充能。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.443, 'infer_time': 0.256, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:13] 收到 tts_done, timestamp=11.443s
[2025-11-19 00:19:13] 在 11.44s 插入 TTS（3.26s）
[2025-11-19 00:19:16] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 15.349}}
[2025-11-19 00:19:18] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 16.86, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.183, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.503, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.347, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.996, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.097, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.192, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能量护盾在战斗中如何快速充能'}]}, {'role': 'assistant', 'content': '攻击敌人或拾取能量球可快速充能。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '自动恢复需要多长时间'}]}, {'role': 'assistant', 'content': '自动恢复约需10秒，具体看装备属性。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.363, 'infer_time': 0.17, 'content': '自动恢复约需10秒，具体看装备属性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能量护盾在战斗中如何快速充能'}]}, {'role': 'assistant', 'content': '攻击敌人或拾取能量球可快速充能。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '自动恢复需要多长时间'}]}, {'role': 'assistant', 'content': '自动恢复约需10秒，具体看装备属性。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.628, 'infer_time': 0.26, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:24] 收到 tts_done, timestamp=22.628s
[2025-11-19 00:19:24] 在 22.63s 插入 TTS（3.33s）
[2025-11-19 00:19:32] 音频发送完毕，用时 31.38s
[2025-11-19 00:19:32] WebSocket 已关闭，结束接收循环
[2025-11-19 00:19:32] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0024_output.wav，时长 30.32s
[2025-11-19 00:19:32] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0024_output.wav
[2025-11-19 00:19:32] 处理完成: 0006_0024.wav
[2025-11-19 00:19:32] -----------------------------------
[2025-11-19 00:19:32] 开始处理文件: 0006_0025.wav
[2025-11-19 00:19:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:19:32] 初始化输出 buffer，总时长 31.67s（506720 samples）
[2025-11-19 00:19:32] 开始发送 0006_0025.wav，总帧 1980，时长 31.67s
[2025-11-19 00:19:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.042, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.502, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.158, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.256, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.436, 'infer_time': 0.176, 'content': '观察对方是否主动找你聊天或约你。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.456, 'turn': 0, 'state': 'LISTEN', 'content': '在大学里如何判断对方是否对自己有好感'}}
[2025-11-19 00:19:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.711, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:19:37] 收到 tts_done, timestamp=4.711s
[2025-11-19 00:19:37] 在 4.71s 插入 TTS（3.40s）
[2025-11-19 00:19:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.769}}
[2025-11-19 00:19:43] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.28, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.963, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.618, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.713, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.806, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在大学里如何判断对方是否对自己有好感'}]}, {'role': 'assistant', 'content': '观察对方是否主动找你聊天或约你。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.937, 'turn': 1, 'state': 'LISTEN', 'content': '如果对方只是偶尔点赞我的朋友圈呢'}}
[2025-11-19 00:19:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.961, 'infer_time': 0.151, 'content': '点赞只是礼貌，不一定代表好感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在大学里如何判断对方是否对自己有好感'}]}, {'role': 'assistant', 'content': '观察对方是否主动找你聊天或约你。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.234, 'infer_time': 0.268, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:19:46] 收到 tts_done, timestamp=13.234s
[2025-11-19 00:19:46] 在 13.23s 插入 TTS（3.45s）
[2025-11-19 00:19:50] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.125}}
[2025-11-19 00:19:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.636, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.19, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.811, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.459, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.559, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.655, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在大学里如何判断对方是否对自己有好感'}]}, {'role': 'assistant', 'content': '观察对方是否主动找你聊天或约你。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果对方只是偶尔点赞我的朋友圈呢'}]}, {'role': 'assistant', 'content': '点赞只是礼貌，不一定代表好感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.773, 'infer_time': 0.118, 'content': '点赞只是礼貌，不一定代表好感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在大学里如何判断对方是否对自己有好感'}]}, {'role': 'assistant', 'content': '观察对方是否主动找你聊天或约你。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果对方只是偶尔点赞我的朋友圈呢'}]}, {'role': 'assistant', 'content': '点赞只是礼貌，不一定代表好感。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.02, 'infer_time': 0.24, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:19:57] 收到 tts_done, timestamp=24.02s
[2025-11-19 00:19:57] 在 24.02s 插入 TTS（3.18s）
[2025-11-19 00:20:05] 音频发送完毕，用时 32.87s
[2025-11-19 00:20:05] WebSocket 已关闭，结束接收循环
[2025-11-19 00:20:05] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0025_output.wav，时长 31.67s
[2025-11-19 00:20:05] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0025_output.wav
[2025-11-19 00:20:05] 处理完成: 0006_0025.wav
[2025-11-19 00:20:05] -----------------------------------
[2025-11-19 00:20:05] 开始处理文件: 0006_0029.wav
[2025-11-19 00:20:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:20:05] 初始化输出 buffer，总时长 30.39s（486240 samples）
[2025-11-19 00:20:05] 开始发送 0006_0029.wav，总帧 1900，时长 30.39s
[2025-11-19 00:20:06] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.302, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.957, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.051, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.22, 'infer_time': 0.164, 'content': '当然记得，那堂课让我终身难忘。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.251, 'turn': 0, 'state': 'LISTEN', 'content': '你还记得大学时最难忘的课堂经历吗'}}
[2025-11-19 00:20:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.469, 'infer_time': 0.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:10] 收到 tts_done, timestamp=4.469s
[2025-11-19 00:20:10] 在 4.47s 插入 TTS（3.04s）
[2025-11-19 00:20:14] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.465}}
[2025-11-19 00:20:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.975, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.45, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.105, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.199, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.291, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得大学时最难忘的课堂经历吗'}]}, {'role': 'assistant', 'content': '当然记得，那堂课让我终身难忘。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.411, 'turn': 1, 'state': 'LISTEN', 'content': '位老师还讲过哪些哲学家的例子'}}
[2025-11-19 00:20:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.452, 'infer_time': 0.157, 'content': '他常举苏格拉底的例子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得大学时最难忘的课堂经历吗'}]}, {'role': 'assistant', 'content': '当然记得，那堂课让我终身难忘。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.637, 'infer_time': 0.179, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:18] 收到 tts_done, timestamp=12.637s
[2025-11-19 00:20:18] 在 12.64s 插入 TTS（2.12s）
[2025-11-19 00:20:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.698}}
[2025-11-19 00:20:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.209, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.768, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.378, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.026, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.125, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.214, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得大学时最难忘的课堂经历吗'}]}, {'role': 'assistant', 'content': '当然记得，那堂课让我终身难忘。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '位老师还讲过哪些哲学家的例子'}]}, {'role': 'assistant', 'content': '他常举苏格拉底的例子。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 22.384, 'turn': 2, 'state': 'LISTEN', 'content': '最近想尝试做自媒体副业但不知道从哪个平台开始比较好'}}
[2025-11-19 00:20:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.394, 'infer_time': 0.175, 'content': '可以先从抖音或小红书开始。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得大学时最难忘的课堂经历吗'}]}, {'role': 'assistant', 'content': '当然记得，那堂课让我终身难忘。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '位老师还讲过哪些哲学家的例子'}]}, {'role': 'assistant', 'content': '他常举苏格拉底的例子。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.619, 'infer_time': 0.218, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:28] 收到 tts_done, timestamp=22.619s
[2025-11-19 00:20:28] 在 22.62s 插入 TTS（2.70s）
[2025-11-19 00:20:37] 音频发送完毕，用时 31.39s
[2025-11-19 00:20:37] WebSocket 已关闭，结束接收循环
[2025-11-19 00:20:37] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0029_output.wav，时长 30.39s
[2025-11-19 00:20:37] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0029_output.wav
[2025-11-19 00:20:37] 处理完成: 0006_0029.wav
[2025-11-19 00:20:37] -----------------------------------
[2025-11-19 00:20:37] 开始处理文件: 0006_0030.wav
[2025-11-19 00:20:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:20:37] 初始化输出 buffer，总时长 29.19s（467040 samples）
[2025-11-19 00:20:37] 开始发送 0006_0030.wav，总帧 1825，时长 29.19s
[2025-11-19 00:20:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.114, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.766, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.865, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.028, 'infer_time': 0.158, 'content': '每天运动30分钟，保持健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.051, 'turn': 0, 'state': 'LISTEN', 'content': '我每天应该运动多长时间才能保持健康'}}
[2025-11-19 00:20:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.258, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:20:41] 收到 tts_done, timestamp=4.258s
[2025-11-19 00:20:41] 在 4.26s 插入 TTS（2.77s）
[2025-11-19 00:20:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.231}}
[2025-11-19 00:20:47] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.735, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.976, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.628, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.723, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.81, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每天应该运动多长时间才能保持健康'}]}, {'role': 'assistant', 'content': '每天运动30分钟，保持健康。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.922, 'turn': 1, 'state': 'LISTEN', 'content': '中等强度运动具体怎么判断呢'}}
[2025-11-19 00:20:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.966, 'infer_time': 0.152, 'content': '说话时能呼吸但不能唱歌。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每天应该运动多长时间才能保持健康'}]}, {'role': 'assistant', 'content': '每天运动30分钟，保持健康。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.182, 'infer_time': 0.211, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:20:49] 收到 tts_done, timestamp=12.182s
[2025-11-19 00:20:49] 在 12.18s 插入 TTS（2.71s）
[2025-11-19 00:20:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.053}}
[2025-11-19 00:20:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.327, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 00:20:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.556, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.623, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.271, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.367, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.456, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每天应该运动多长时间才能保持健康'}]}, {'role': 'assistant', 'content': '每天运动30分钟，保持健康。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中等强度运动具体怎么判断呢'}]}, {'role': 'assistant', 'content': '说话时能呼吸但不能唱歌。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.577, 'infer_time': 0.121, 'content': '说话时能呼吸但不能唱歌。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每天应该运动多长时间才能保持健康'}]}, {'role': 'assistant', 'content': '每天运动30分钟，保持健康。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中等强度运动具体怎么判断呢'}]}, {'role': 'assistant', 'content': '说话时能呼吸但不能唱歌。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.782, 'infer_time': 0.199, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:20:58] 收到 tts_done, timestamp=20.782s
[2025-11-19 00:20:58] 在 20.78s 插入 TTS（2.43s）
[2025-11-19 00:21:06] 音频发送完毕，用时 29.66s
[2025-11-19 00:21:06] WebSocket 已关闭，结束接收循环
[2025-11-19 00:21:06] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0030_output.wav，时长 29.19s
[2025-11-19 00:21:06] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0030_output.wav
[2025-11-19 00:21:06] 处理完成: 0006_0030.wav
[2025-11-19 00:21:06] -----------------------------------
[2025-11-19 00:21:06] 开始处理文件: 0006_0031.wav
[2025-11-19 00:21:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:21:06] 初始化输出 buffer，总时长 30.81s（492960 samples）
[2025-11-19 00:21:06] 开始发送 0006_0031.wav，总帧 1926，时长 30.81s
[2025-11-19 00:21:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.977, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.624, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.718, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.885, 'infer_time': 0.163, 'content': '一般按摩2到3分钟即可促进吸收。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.933, 'turn': 0, 'state': 'LISTEN', 'content': '再用药膏涂抹后需要按摩多久才能促进吸收'}}
[2025-11-19 00:21:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.1, 'infer_time': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:12] 收到 tts_done, timestamp=5.1s
[2025-11-19 00:21:12] 在 5.10s 插入 TTS（2.83s）
[2025-11-19 00:21:16] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.098}}
[2025-11-19 00:21:17] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.607, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.811, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.467, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.559, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.647, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '再用药膏涂抹后需要按摩多久才能促进吸收'}]}, {'role': 'assistant', 'content': '一般按摩2到3分钟即可促进吸收。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.756, 'turn': 1, 'state': 'LISTEN', 'content': '如果皮肤有破损还能按摩吗'}}
[2025-11-19 00:21:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.845, 'infer_time': 0.194, 'content': '皮肤破损时不宜按摩，以免加重损伤或引发感染。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '再用药膏涂抹后需要按摩多久才能促进吸收'}]}, {'role': 'assistant', 'content': '一般按摩2到3分钟即可促进吸收。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.214, 'infer_time': 0.364, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:20] 收到 tts_done, timestamp=13.214s
[2025-11-19 00:21:20] 在 13.21s 插入 TTS（4.78s）
[2025-11-19 00:21:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.969}}
[2025-11-19 00:21:25] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.479, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.921, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.783, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.431, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.53, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.623, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '再用药膏涂抹后需要按摩多久才能促进吸收'}]}, {'role': 'assistant', 'content': '一般按摩2到3分钟即可促进吸收。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果皮肤有破损还能按摩吗'}]}, {'role': 'assistant', 'content': '皮肤破损时不宜按摩，以免加重损伤或引发感染。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 22.796, 'turn': 2, 'state': 'LISTEN', 'content': '次摄影采缝我想带广角镜头你觉得拍风景够用吗'}}
[2025-11-19 00:21:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.81, 'infer_time': 0.183, 'content': '广角镜头拍风景很合适，视野开阔。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '再用药膏涂抹后需要按摩多久才能促进吸收'}]}, {'role': 'assistant', 'content': '一般按摩2到3分钟即可促进吸收。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果皮肤有破损还能按摩吗'}]}, {'role': 'assistant', 'content': '皮肤破损时不宜按摩，以免加重损伤或引发感染。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.099, 'infer_time': 0.283, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:30] 收到 tts_done, timestamp=23.099s
[2025-11-19 00:21:30] 在 23.10s 插入 TTS（3.71s）
[2025-11-19 00:21:38] 音频发送完毕，用时 31.79s
[2025-11-19 00:21:38] WebSocket 已关闭，结束接收循环
[2025-11-19 00:21:38] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0031_output.wav，时长 30.81s
[2025-11-19 00:21:38] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0031_output.wav
[2025-11-19 00:21:38] 处理完成: 0006_0031.wav
[2025-11-19 00:21:38] -----------------------------------
[2025-11-19 00:21:38] 开始处理文件: 0006_0033.wav
[2025-11-19 00:21:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:21:38] 初始化输出 buffer，总时长 30.41s（486560 samples）
[2025-11-19 00:21:38] 开始发送 0006_0033.wav，总帧 1901，时长 30.41s
[2025-11-19 00:21:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.705, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.632, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.728, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.931, 'turn': 0, 'state': 'LISTEN', 'content': '共享游戏平台上如何确保我的个人数据安全'}}
[2025-11-19 00:21:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.932, 'infer_time': 0.2, 'content': '开启双重验证，定期改密，别乱点链接。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.243, 'infer_time': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:21:44] 收到 tts_done, timestamp=5.243s
[2025-11-19 00:21:44] 在 5.24s 插入 TTS（3.75s）
[2025-11-19 00:21:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.111}}
[2025-11-19 00:21:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.618, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.278, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.931, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.023, 'infer_time': 0.087, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.636, 'infer_time': 0.094, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '共享游戏平台上如何确保我的个人数据安全'}]}, {'role': 'assistant', 'content': '开启双重验证，定期改密，别乱点链接。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.795, 'turn': 1, 'state': 'LISTEN', 'content': '重新验证具体怎么设置'}}
[2025-11-19 00:21:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.87, 'infer_time': 0.229, 'content': '登录平台，进安全设置，选双重验证并按提示操作。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '共享游戏平台上如何确保我的个人数据安全'}]}, {'role': 'assistant', 'content': '开启双重验证，定期改密，别乱点链接。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.278, 'infer_time': 0.402, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:21:54] 收到 tts_done, timestamp=15.278s
[2025-11-19 00:21:54] 在 15.28s 插入 TTS（5.45s）
[2025-11-19 00:21:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.421}}
[2025-11-19 00:21:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.932, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:21:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.138, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.409, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.058, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.156, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.249, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '共享游戏平台上如何确保我的个人数据安全'}]}, {'role': 'assistant', 'content': '开启双重验证，定期改密，别乱点链接。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '重新验证具体怎么设置'}]}, {'role': 'assistant', 'content': '登录平台，进安全设置，选双重验证并按提示操作。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.434, 'infer_time': 0.184, 'content': '登录平台，进安全设置，选双重验证并按提示操作。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '共享游戏平台上如何确保我的个人数据安全'}]}, {'role': 'assistant', 'content': '开启双重验证，定期改密，别乱点链接。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '重新验证具体怎么设置'}]}, {'role': 'assistant', 'content': '登录平台，进安全设置，选双重验证并按提示操作。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.807, 'infer_time': 0.367, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:01] 收到 tts_done, timestamp=22.807s
[2025-11-19 00:22:01] 在 22.81s 插入 TTS（5.23s）
[2025-11-19 00:22:10] 音频发送完毕，用时 31.46s
[2025-11-19 00:22:10] WebSocket 已关闭，结束接收循环
[2025-11-19 00:22:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0006_0033_output.wav，时长 30.41s
[2025-11-19 00:22:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0006_0033_output.wav
[2025-11-19 00:22:10] 处理完成: 0006_0033.wav
[2025-11-19 00:22:10] -----------------------------------
[2025-11-19 00:22:10] 开始处理文件: 0007_0001.wav
[2025-11-19 00:22:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:22:10] 初始化输出 buffer，总时长 32.94s（527040 samples）
[2025-11-19 00:22:10] 开始发送 0007_0001.wav，总帧 2059，时长 32.94s
[2025-11-19 00:22:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.075, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.82, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.463, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.555, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.73, 'turn': 0, 'state': 'LISTEN', 'content': '泡泡纸有什么心理上的好处吗'}}
[2025-11-19 00:22:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.734, 'infer_time': 0.174, 'content': '捏泡泡纸能缓解压力，带来愉悦感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.006, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:14] 收到 tts_done, timestamp=4.006s
[2025-11-19 00:22:14] 在 4.01s 插入 TTS（3.42s）
[2025-11-19 00:22:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.097}}
[2025-11-19 00:22:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.604, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.275, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.929, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.024, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.114, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '泡泡纸有什么心理上的好处吗'}]}, {'role': 'assistant', 'content': '捏泡泡纸能缓解压力，带来愉悦感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.231, 'turn': 1, 'state': 'LISTEN', 'content': '那这种放松效果能持续多久呢'}}
[2025-11-19 00:22:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.27, 'infer_time': 0.151, 'content': '通常能持续几分钟到十几分钟。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '泡泡纸有什么心理上的好处吗'}]}, {'role': 'assistant', 'content': '捏泡泡纸能缓解压力，带来愉悦感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.508, 'infer_time': 0.233, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:22] 收到 tts_done, timestamp=12.508s
[2025-11-19 00:22:22] 在 12.51s 插入 TTS（2.93s）
[2025-11-19 00:22:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 21.094}}
[2025-11-19 00:22:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.604, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.768, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.416, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.509, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.598, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '泡泡纸有什么心理上的好处吗'}]}, {'role': 'assistant', 'content': '捏泡泡纸能缓解压力，带来愉悦感。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那这种放松效果能持续多久呢'}]}, {'role': 'assistant', 'content': '通常能持续几分钟到十几分钟。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.72, 'infer_time': 0.121, 'content': '通常能持续几分钟到十几分钟。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '泡泡纸有什么心理上的好处吗'}]}, {'role': 'assistant', 'content': '捏泡泡纸能缓解压力，带来愉悦感。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那这种放松效果能持续多久呢'}]}, {'role': 'assistant', 'content': '通常能持续几分钟到十几分钟。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.956, 'infer_time': 0.23, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:22:35] 收到 tts_done, timestamp=24.956s
[2025-11-19 00:22:35] 在 24.96s 插入 TTS（2.91s）
[2025-11-19 00:22:44] 音频发送完毕，用时 33.88s
[2025-11-19 00:22:44] WebSocket 已关闭，结束接收循环
[2025-11-19 00:22:44] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0001_output.wav，时长 32.94s
[2025-11-19 00:22:44] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0001_output.wav
[2025-11-19 00:22:44] 处理完成: 0007_0001.wav
[2025-11-19 00:22:44] -----------------------------------
[2025-11-19 00:22:44] 开始处理文件: 0007_0004.wav
[2025-11-19 00:22:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:22:44] 初始化输出 buffer，总时长 32.05s（512799 samples）
[2025-11-19 00:22:44] 开始发送 0007_0004.wav，总帧 2004，时长 32.05s
[2025-11-19 00:22:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.468, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.209, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.347, 'turn': 0, 'state': 'LISTEN', 'content': '家里客厅的沙发摆放有什么风水讲究'}}
[2025-11-19 00:22:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.39, 'infer_time': 0.177, 'content': '沙发宜靠墙摆放，寓意有靠山。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.695, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:22:48] 收到 tts_done, timestamp=4.695s
[2025-11-19 00:22:48] 在 4.70s 插入 TTS（3.69s）
[2025-11-19 00:22:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.013}}
[2025-11-19 00:22:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.527, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.133, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.786, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.881, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.969, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家里客厅的沙发摆放有什么风水讲究'}]}, {'role': 'assistant', 'content': '沙发宜靠墙摆放，寓意有靠山。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.13, 'turn': 1, 'state': 'LISTEN', 'content': '我沙发实在没法靠墙怎么办'}}
[2025-11-19 00:22:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.186, 'infer_time': 0.212, 'content': '可放屏风或柜子作靠山，化解无依。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家里客厅的沙发摆放有什么风水讲究'}]}, {'role': 'assistant', 'content': '沙发宜靠墙摆放，寓意有靠山。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.474, 'infer_time': 0.282, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:22:57] 收到 tts_done, timestamp=13.474s
[2025-11-19 00:22:57] 在 13.47s 插入 TTS（3.64s）
[2025-11-19 00:23:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.552}}
[2025-11-19 00:23:03] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.06, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.381, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.893, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.541, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.641, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.736, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家里客厅的沙发摆放有什么风水讲究'}]}, {'role': 'assistant', 'content': '沙发宜靠墙摆放，寓意有靠山。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我沙发实在没法靠墙怎么办'}]}, {'role': 'assistant', 'content': '可放屏风或柜子作靠山，化解无依。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.923, 'infer_time': 0.186, 'content': '可放屏风或柜子作靠山，化解无依。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家里客厅的沙发摆放有什么风水讲究'}]}, {'role': 'assistant', 'content': '沙发宜靠墙摆放，寓意有靠山。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我沙发实在没法靠墙怎么办'}]}, {'role': 'assistant', 'content': '可放屏风或柜子作靠山，化解无依。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.212, 'infer_time': 0.283, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:08] 收到 tts_done, timestamp=24.212s
[2025-11-19 00:23:08] 在 24.21s 插入 TTS（3.58s）
[2025-11-19 00:23:17] 音频发送完毕，用时 33.09s
[2025-11-19 00:23:17] WebSocket 已关闭，结束接收循环
[2025-11-19 00:23:17] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0004_output.wav，时长 32.05s
[2025-11-19 00:23:17] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0004_output.wav
[2025-11-19 00:23:17] 处理完成: 0007_0004.wav
[2025-11-19 00:23:17] -----------------------------------
[2025-11-19 00:23:17] 开始处理文件: 0007_0007.wav
[2025-11-19 00:23:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:23:17] 初始化输出 buffer，总时长 29.99s（479840 samples）
[2025-11-19 00:23:17] 开始发送 0007_0007.wav，总帧 1875，时长 29.99s
[2025-11-19 00:23:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.107, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.882, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.975, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.134, 'turn': 0, 'state': 'LISTEN', 'content': '我们下次聚会的时间和地点定好了吗'}}
[2025-11-19 00:23:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.151, 'infer_time': 0.172, 'content': '还没定，等大家商量好再通知你。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.408, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:21] 收到 tts_done, timestamp=4.408s
[2025-11-19 00:23:21] 在 4.41s 插入 TTS（3.15s）
[2025-11-19 00:23:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.537}}
[2025-11-19 00:23:27] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.044, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.652, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.297, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.391, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.483, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们下次聚会的时间和地点定好了吗'}]}, {'role': 'assistant', 'content': '还没定，等大家商量好再通知你。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.599, 'turn': 1, 'state': 'LISTEN', 'content': '那家咖啡馆具体在哪个位置'}}
[2025-11-19 00:23:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.68, 'infer_time': 0.192, 'content': '在解放路和中山街交叉口，靠近图书馆。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们下次聚会的时间和地点定好了吗'}]}, {'role': 'assistant', 'content': '还没定，等大家商量好再通知你。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.001, 'infer_time': 0.315, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:23:30] 收到 tts_done, timestamp=13.001s
[2025-11-19 00:23:30] 在 13.00s 插入 TTS（4.02s）
[2025-11-19 00:23:34] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.881}}
[2025-11-19 00:23:35] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.393, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.82, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.467, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.564, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.773, 'infer_time': 0.205, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们下次聚会的时间和地点定好了吗'}]}, {'role': 'assistant', 'content': '还没定，等大家商量好再通知你。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那家咖啡馆具体在哪个位置'}]}, {'role': 'assistant', 'content': '在解放路和中山街交叉口，靠近图书馆。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.934, 'infer_time': 0.16, 'content': '在解放路和中山街交叉口，靠近图书馆。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们下次聚会的时间和地点定好了吗'}]}, {'role': 'assistant', 'content': '还没定，等大家商量好再通知你。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那家咖啡馆具体在哪个位置'}]}, {'role': 'assistant', 'content': '在解放路和中山街交叉口，靠近图书馆。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.219, 'infer_time': 0.279, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:23:39] 收到 tts_done, timestamp=22.219s
[2025-11-19 00:23:39] 在 22.22s 插入 TTS（3.80s）
[2025-11-19 00:23:48] 音频发送完毕，用时 30.94s
[2025-11-19 00:23:48] WebSocket 已关闭，结束接收循环
[2025-11-19 00:23:48] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0007_output.wav，时长 29.99s
[2025-11-19 00:23:48] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0007_output.wav
[2025-11-19 00:23:48] 处理完成: 0007_0007.wav
[2025-11-19 00:23:48] -----------------------------------
[2025-11-19 00:23:48] 开始处理文件: 0007_0012.wav
[2025-11-19 00:23:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:23:48] 初始化输出 buffer，总时长 33.48s（535680 samples）
[2025-11-19 00:23:48] 开始发送 0007_0012.wav，总帧 2093，时长 33.48s
[2025-11-19 00:23:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.47, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.125, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.221, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.389, 'infer_time': 0.164, 'content': '长沙火宫殿臭豆腐，成都三大炮。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.424, 'turn': 0, 'state': 'LISTEN', 'content': '美食街里有哪些必打卡的网红小吃'}}
[2025-11-19 00:23:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.674, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:23:52] 收到 tts_done, timestamp=4.674s
[2025-11-19 00:23:52] 在 4.67s 插入 TTS（3.77s）
[2025-11-19 00:23:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.683}}
[2025-11-19 00:23:58] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.193, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.143, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.784, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.879, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.044, 'infer_time': 0.16, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '美食街里有哪些必打卡的网红小吃'}]}, {'role': 'assistant', 'content': '长沙火宫殿臭豆腐，成都三大炮。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.168, 'turn': 1, 'state': 'LISTEN', 'content': '芝士热狗棒的具体口味有哪些选择'}}
[2025-11-19 00:24:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.503, 'infer_time': 0.455, 'content': '经典芝士、辣味香肠、牛肉风味。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '美食街里有哪些必打卡的网红小吃'}]}, {'role': 'assistant', 'content': '长沙火宫殿臭豆腐，成都三大炮。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.859, 'infer_time': 0.349, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:02] 收到 tts_done, timestamp=13.859s
[2025-11-19 00:24:02] 在 13.86s 插入 TTS（4.52s）
[2025-11-19 00:24:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.368}}
[2025-11-19 00:24:07] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.878, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.284, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.536, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.185, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.291, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.406, 'infer_time': 0.109, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '美食街里有哪些必打卡的网红小吃'}]}, {'role': 'assistant', 'content': '长沙火宫殿臭豆腐，成都三大炮。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '芝士热狗棒的具体口味有哪些选择'}]}, {'role': 'assistant', 'content': '经典芝士、辣味香肠、牛肉风味。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.566, 'infer_time': 0.158, 'content': '经典芝士、辣味香肠、牛肉风味。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '美食街里有哪些必打卡的网红小吃'}]}, {'role': 'assistant', 'content': '长沙火宫殿臭豆腐，成都三大炮。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '芝士热狗棒的具体口味有哪些选择'}]}, {'role': 'assistant', 'content': '经典芝士、辣味香肠、牛肉风味。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.867, 'infer_time': 0.296, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:14] 收到 tts_done, timestamp=25.867s
[2025-11-19 00:24:14] 在 25.87s 插入 TTS（3.81s）
[2025-11-19 00:24:22] 音频发送完毕，用时 34.64s
[2025-11-19 00:24:22] WebSocket 已关闭，结束接收循环
[2025-11-19 00:24:22] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0012_output.wav，时长 33.48s
[2025-11-19 00:24:22] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0012_output.wav
[2025-11-19 00:24:22] 处理完成: 0007_0012.wav
[2025-11-19 00:24:22] -----------------------------------
[2025-11-19 00:24:22] 开始处理文件: 0007_0014.wav
[2025-11-19 00:24:22] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:24:22] 初始化输出 buffer，总时长 32.56s（520960 samples）
[2025-11-19 00:24:22] 开始发送 0007_0014.wav，总帧 2035，时长 32.56s
[2025-11-19 00:24:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.768, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.425, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.522, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.685, 'infer_time': 0.158, 'content': '多看案例，从小范围尝试开始。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.727, 'turn': 0, 'state': 'LISTEN', 'content': '修房子时如何克服对未知风格的恐惧'}}
[2025-11-19 00:24:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.935, 'infer_time': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:27] 收到 tts_done, timestamp=4.935s
[2025-11-19 00:24:27] 在 4.93s 插入 TTS（3.18s）
[2025-11-19 00:24:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.129}}
[2025-11-19 00:24:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.634, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.019, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.672, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.766, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.858, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '修房子时如何克服对未知风格的恐惧'}]}, {'role': 'assistant', 'content': '多看案例，从小范围尝试开始。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.993, 'turn': 1, 'state': 'LISTEN', 'content': '如果图片看多了反而更纠结了怎么办'}}
[2025-11-19 00:24:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.041, 'infer_time': 0.179, 'content': '先定一个基础风格，再慢慢调整细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '修房子时如何克服对未知风格的恐惧'}]}, {'role': 'assistant', 'content': '多看案例，从小范围尝试开始。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.316, 'infer_time': 0.27, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:24:37] 收到 tts_done, timestamp=14.316s
[2025-11-19 00:24:37] 在 14.32s 插入 TTS（3.39s）
[2025-11-19 00:24:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.288}}
[2025-11-19 00:24:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.796, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.438, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.086, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.187, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.28, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '修房子时如何克服对未知风格的恐惧'}]}, {'role': 'assistant', 'content': '多看案例，从小范围尝试开始。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果图片看多了反而更纠结了怎么办'}]}, {'role': 'assistant', 'content': '先定一个基础风格，再慢慢调整细节。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 24.445, 'turn': 2, 'state': 'LISTEN', 'content': '客厅的沙发颜色选浅灰色会不会容易脏呢'}}
[2025-11-19 00:24:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.474, 'infer_time': 0.189, 'content': '浅灰色耐脏，搭配深色地毯更实用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '修房子时如何克服对未知风格的恐惧'}]}, {'role': 'assistant', 'content': '多看案例，从小范围尝试开始。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果图片看多了反而更纠结了怎么办'}]}, {'role': 'assistant', 'content': '先定一个基础风格，再慢慢调整细节。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.776, 'infer_time': 0.297, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:24:47] 收到 tts_done, timestamp=24.776s
[2025-11-19 00:24:47] 在 24.78s 插入 TTS（3.85s）
[2025-11-19 00:24:56] 音频发送完毕，用时 33.63s
[2025-11-19 00:24:56] WebSocket 已关闭，结束接收循环
[2025-11-19 00:24:56] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0014_output.wav，时长 32.56s
[2025-11-19 00:24:56] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0014_output.wav
[2025-11-19 00:24:56] 处理完成: 0007_0014.wav
[2025-11-19 00:24:56] -----------------------------------
[2025-11-19 00:24:56] 开始处理文件: 0007_0015.wav
[2025-11-19 00:24:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:24:56] 初始化输出 buffer，总时长 28.87s（461920 samples）
[2025-11-19 00:24:56] 开始发送 0007_0015.wav，总帧 1805，时长 28.87s
[2025-11-19 00:24:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:24:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.825, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.574, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.694, 'turn': 0, 'state': 'LISTEN', 'content': '太极时如何调整呼吸节奏'}}
[2025-11-19 00:25:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.77, 'infer_time': 0.191, 'content': '吸气时动作舒缓，呼气时缓慢释放。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.066, 'infer_time': 0.291, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:00] 收到 tts_done, timestamp=4.066s
[2025-11-19 00:25:00] 在 4.07s 插入 TTS（3.76s）
[2025-11-19 00:25:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.468}}
[2025-11-19 00:25:06] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.98, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.318, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.967, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.064, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.152, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '太极时如何调整呼吸节奏'}]}, {'role': 'assistant', 'content': '吸气时动作舒缓，呼气时缓慢释放。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.314, 'infer_time': 0.157, 'content': '放慢动作，专注感受呼吸节奏。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '太极时如何调整呼吸节奏'}]}, {'role': 'assistant', 'content': '吸气时动作舒缓，呼气时缓慢释放。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.321, 'turn': 1, 'state': 'LISTEN', 'content': '我呼吸节奏乱了该怎么调整'}}
[2025-11-19 00:25:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.568, 'infer_time': 0.248, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:09] 收到 tts_done, timestamp=12.568s
[2025-11-19 00:25:09] 在 12.57s 插入 TTS（3.21s）
[2025-11-19 00:25:13] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.723}}
[2025-11-19 00:25:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.235, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.61, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.259, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.351, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.435, 'infer_time': 0.079, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '太极时如何调整呼吸节奏'}]}, {'role': 'assistant', 'content': '吸气时动作舒缓，呼气时缓慢释放。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我呼吸节奏乱了该怎么调整'}]}, {'role': 'assistant', 'content': '放慢动作，专注感受呼吸节奏。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 20.561, 'turn': 2, 'state': 'LISTEN', 'content': '昨晚睡得不太好今天感觉有点困'}}
[2025-11-19 00:25:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.614, 'infer_time': 0.175, 'content': '睡不好确实会犯困，注意休息调整。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '太极时如何调整呼吸节奏'}]}, {'role': 'assistant', 'content': '吸气时动作舒缓，呼气时缓慢释放。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我呼吸节奏乱了该怎么调整'}]}, {'role': 'assistant', 'content': '放慢动作，专注感受呼吸节奏。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.92, 'infer_time': 0.301, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:17] 收到 tts_done, timestamp=20.92s
[2025-11-19 00:25:17] 在 20.92s 插入 TTS（3.96s）
[2025-11-19 00:25:26] 音频发送完毕，用时 29.76s
[2025-11-19 00:25:26] WebSocket 已关闭，结束接收循环
[2025-11-19 00:25:26] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0015_output.wav，时长 28.87s
[2025-11-19 00:25:26] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0015_output.wav
[2025-11-19 00:25:26] 处理完成: 0007_0015.wav
[2025-11-19 00:25:26] -----------------------------------
[2025-11-19 00:25:26] 开始处理文件: 0007_0016.wav
[2025-11-19 00:25:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:25:26] 初始化输出 buffer，总时长 34.10s（545600 samples）
[2025-11-19 00:25:26] 开始发送 0007_0016.wav，总帧 2132，时长 34.10s
[2025-11-19 00:25:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.187, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.829, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.927, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.077, 'turn': 0, 'state': 'LISTEN', 'content': 'how talk 的群聊功能最多支持多少人同时在线'}}
[2025-11-19 00:25:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.146, 'infer_time': 0.214, 'content': 'KakaoTalk群聊最多支持100人同时在线。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.423, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:25:31] 收到 tts_done, timestamp=5.423s
[2025-11-19 00:25:31] 在 5.42s 插入 TTS（3.41s）
[2025-11-19 00:25:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.488}}
[2025-11-19 00:25:37] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.998, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.849, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.492, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.593, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.686, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'how talk 的群聊功能最多支持多少人同时在线'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊最多支持100人同时在线。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.921, 'turn': 1, 'state': 'LISTEN', 'content': '那如果群聊人数超过五千有什么替代方案吗'}}
[2025-11-19 00:25:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.966, 'infer_time': 0.275, 'content': 'KakaoTalk群聊上限是100人，无法支持5000人。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'how talk 的群聊功能最多支持多少人同时在线'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊最多支持100人同时在线。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.29, 'infer_time': 0.316, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:25:42] 收到 tts_done, timestamp=16.29s
[2025-11-19 00:25:42] 在 16.29s 插入 TTS（4.03s）
[2025-11-19 00:25:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 21.177}}
[2025-11-19 00:25:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.688, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.221, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.869, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.966, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.057, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'how talk 的群聊功能最多支持多少人同时在线'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊最多支持100人同时在线。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果群聊人数超过五千有什么替代方案吗'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊上限是100人，无法支持5000人。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 26.196, 'turn': 2, 'state': 'LISTEN', 'content': '烧烤时带哪种烤架更适合新手使用'}}
[2025-11-19 00:25:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.235, 'infer_time': 0.172, 'content': '便携式圆形烤架更适合新手使用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'how talk 的群聊功能最多支持多少人同时在线'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊最多支持100人同时在线。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果群聊人数超过五千有什么替代方案吗'}]}, {'role': 'assistant', 'content': 'KakaoTalk群聊上限是100人，无法支持5000人。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.499, 'infer_time': 0.259, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:25:52] 收到 tts_done, timestamp=26.499s
[2025-11-19 00:25:52] 在 26.50s 插入 TTS（3.26s）
[2025-11-19 00:26:01] 音频发送完毕，用时 35.37s
[2025-11-19 00:26:01] WebSocket 已关闭，结束接收循环
[2025-11-19 00:26:01] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0016_output.wav，时长 34.10s
[2025-11-19 00:26:01] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0016_output.wav
[2025-11-19 00:26:01] 处理完成: 0007_0016.wav
[2025-11-19 00:26:01] -----------------------------------
[2025-11-19 00:26:01] 开始处理文件: 0007_0020.wav
[2025-11-19 00:26:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:26:01] 初始化输出 buffer，总时长 33.82s（541121 samples）
[2025-11-19 00:26:01] 开始发送 0007_0020.wav，总帧 2114，时长 33.82s
[2025-11-19 00:26:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.996, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.569, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.33, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.505, 'infer_time': 0.17, 'content': '了解文化差异，避免敏感符号和动作。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.563, 'turn': 0, 'state': 'LISTEN', 'content': '表情包在不同文化中传播时如何避免误解或冒犯'}}
[2025-11-19 00:26:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.795, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:08] 收到 tts_done, timestamp=6.795s
[2025-11-19 00:26:08] 在 6.79s 插入 TTS（3.65s）
[2025-11-19 00:26:11] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.269}}
[2025-11-19 00:26:13] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.771, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.653, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.382, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.029, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.13, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.222, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在不同文化中传播时如何避免误解或冒犯'}]}, {'role': 'assistant', 'content': '了解文化差异，避免敏感符号和动作。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.378, 'turn': 1, 'state': 'LISTEN', 'content': '那具体哪些手势容易引起误解呢'}}
[2025-11-19 00:26:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.472, 'infer_time': 0.245, 'content': '竖中指、OK手势等在不同文化有歧义，需谨慎使用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在不同文化中传播时如何避免误解或冒犯'}]}, {'role': 'assistant', 'content': '了解文化差异，避免敏感符号和动作。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.849, 'infer_time': 0.371, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:17] 收到 tts_done, timestamp=15.849s
[2025-11-19 00:26:17] 在 15.85s 插入 TTS（4.99s）
[2025-11-19 00:26:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 19.751}}
[2025-11-19 00:26:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.255, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.3, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.525, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.172, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.269, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.363, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在不同文化中传播时如何避免误解或冒犯'}]}, {'role': 'assistant', 'content': '了解文化差异，避免敏感符号和动作。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那具体哪些手势容易引起误解呢'}]}, {'role': 'assistant', 'content': '竖中指、OK手势等在不同文化有歧义，需谨慎使用。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.576, 'infer_time': 0.212, 'content': '竖中指、OK手势等在不同文化有歧义，需谨慎使用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在不同文化中传播时如何避免误解或冒犯'}]}, {'role': 'assistant', 'content': '了解文化差异，避免敏感符号和动作。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那具体哪些手势容易引起误解呢'}]}, {'role': 'assistant', 'content': '竖中指、OK手势等在不同文化有歧义，需谨慎使用。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.035, 'infer_time': 0.453, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:26:27] 收到 tts_done, timestamp=26.035s
[2025-11-19 00:26:27] 在 26.04s 插入 TTS（6.30s）
[2025-11-19 00:26:36] 音频发送完毕，用时 34.62s
[2025-11-19 00:26:36] WebSocket 已关闭，结束接收循环
[2025-11-19 00:26:36] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0020_output.wav，时长 33.82s
[2025-11-19 00:26:36] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0020_output.wav
[2025-11-19 00:26:36] 处理完成: 0007_0020.wav
[2025-11-19 00:26:36] -----------------------------------
[2025-11-19 00:26:36] 开始处理文件: 0007_0025.wav
[2025-11-19 00:26:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:26:36] 初始化输出 buffer，总时长 44.64s（714240 samples）
[2025-11-19 00:26:36] 开始发送 0007_0025.wav，总帧 2790，时长 44.64s
[2025-11-19 00:26:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.745, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.397, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.507, 'infer_time': 0.105, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.699, 'turn': 0, 'state': 'LISTEN', 'content': '我想在客厅做一面特色墙有什么简单易行的装饰方法'}}
[2025-11-19 00:26:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.714, 'infer_time': 0.202, 'content': '用文化砖或木饰面，简单又显质感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.03, 'infer_time': 0.311, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:26:43] 收到 tts_done, timestamp=7.03s
[2025-11-19 00:26:43] 在 7.03s 插入 TTS（4.01s）
[2025-11-19 00:26:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.975}}
[2025-11-19 00:26:48] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.481, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.363, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.015, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.117, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.23, 'infer_time': 0.108, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我想在客厅做一面特色墙有什么简单易行的装饰方法'}]}, {'role': 'assistant', 'content': '用文化砖或木饰面，简单又显质感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.451, 'turn': 1, 'state': 'LISTEN', 'content': '那如果前面有凹凸不平的地方贴壁纸会不会有问题'}}
[2025-11-19 00:26:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.463, 'infer_time': 0.228, 'content': '有凹凸的话壁纸容易起泡，建议先找平再贴。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我想在客厅做一面特色墙有什么简单易行的装饰方法'}]}, {'role': 'assistant', 'content': '用文化砖或木饰面，简单又显质感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.768, 'infer_time': 0.298, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:26:54] 收到 tts_done, timestamp=17.768s
[2025-11-19 00:26:54] 在 17.77s 插入 TTS（3.98s）
[2025-11-19 00:27:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 31.514}}
[2025-11-19 00:27:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 33.023, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 34.025, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 36.022, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 36.67, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 36.766, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 36.858, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我想在客厅做一面特色墙有什么简单易行的装饰方法'}]}, {'role': 'assistant', 'content': '用文化砖或木饰面，简单又显质感。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果前面有凹凸不平的地方贴壁纸会不会有问题'}]}, {'role': 'assistant', 'content': '有凹凸的话壁纸容易起泡，建议先找平再贴。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 37.056, 'infer_time': 0.197, 'content': '有凹凸的话壁纸容易起泡，建议先找平再贴。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我想在客厅做一面特色墙有什么简单易行的装饰方法'}]}, {'role': 'assistant', 'content': '用文化砖或木饰面，简单又显质感。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果前面有凹凸不平的地方贴壁纸会不会有问题'}]}, {'role': 'assistant', 'content': '有凹凸的话壁纸容易起泡，建议先找平再贴。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 37.365, 'infer_time': 0.303, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:13] 收到 tts_done, timestamp=37.365s
[2025-11-19 00:27:13] 在 37.37s 插入 TTS（4.22s）
[2025-11-19 00:27:22] 音频发送完毕，用时 46.15s
[2025-11-19 00:27:22] WebSocket 已关闭，结束接收循环
[2025-11-19 00:27:22] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0025_output.wav，时长 44.64s
[2025-11-19 00:27:22] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0025_output.wav
[2025-11-19 00:27:22] 处理完成: 0007_0025.wav
[2025-11-19 00:27:22] -----------------------------------
[2025-11-19 00:27:22] 开始处理文件: 0007_0027.wav
[2025-11-19 00:27:22] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:27:22] 初始化输出 buffer，总时长 33.78s（540480 samples）
[2025-11-19 00:27:22] 开始发送 0007_0027.wav，总帧 2112，时长 33.78s
[2025-11-19 00:27:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.975, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.632, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.732, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.895, 'turn': 0, 'state': 'LISTEN', 'content': '复古发型中如何打造经典的波浪卷发'}}
[2025-11-19 00:27:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.961, 'infer_time': 0.224, 'content': '用卷发棒逆向卷，喷定型喷雾更持久。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.264, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:27:27] 收到 tts_done, timestamp=5.264s
[2025-11-19 00:27:27] 在 5.26s 插入 TTS（3.90s）
[2025-11-19 00:27:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.246}}
[2025-11-19 00:27:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.755, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.79, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.432, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.531, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.622, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '复古发型中如何打造经典的波浪卷发'}]}, {'role': 'assistant', 'content': '用卷发棒逆向卷，喷定型喷雾更持久。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.801, 'infer_time': 0.174, 'content': '180度左右适合大多数发质。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '复古发型中如何打造经典的波浪卷发'}]}, {'role': 'assistant', 'content': '用卷发棒逆向卷，喷定型喷雾更持久。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.826, 'turn': 1, 'state': 'LISTEN', 'content': '那卷发棒的温度应该调到多少度比较合适'}}
[2025-11-19 00:27:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.073, 'infer_time': 0.265, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:27:37] 收到 tts_done, timestamp=15.073s
[2025-11-19 00:27:37] 在 15.07s 插入 TTS（3.25s）
[2025-11-19 00:27:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 19.138}}
[2025-11-19 00:27:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.878, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 00:27:43] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.641, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.811, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.459, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.56, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.676, 'infer_time': 0.11, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '复古发型中如何打造经典的波浪卷发'}]}, {'role': 'assistant', 'content': '用卷发棒逆向卷，喷定型喷雾更持久。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那卷发棒的温度应该调到多少度比较合适'}]}, {'role': 'assistant', 'content': '180度左右适合大多数发质。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.818, 'infer_time': 0.141, 'content': '180度左右适合大多数发质。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '复古发型中如何打造经典的波浪卷发'}]}, {'role': 'assistant', 'content': '用卷发棒逆向卷，喷定型喷雾更持久。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那卷发棒的温度应该调到多少度比较合适'}]}, {'role': 'assistant', 'content': '180度左右适合大多数发质。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.064, 'infer_time': 0.241, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:27:48] 收到 tts_done, timestamp=26.064s
[2025-11-19 00:27:48] 在 26.06s 插入 TTS（3.06s）
[2025-11-19 00:27:57] 音频发送完毕，用时 34.95s
[2025-11-19 00:27:57] WebSocket 已关闭，结束接收循环
[2025-11-19 00:27:57] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0027_output.wav，时长 33.78s
[2025-11-19 00:27:57] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0027_output.wav
[2025-11-19 00:27:57] 处理完成: 0007_0027.wav
[2025-11-19 00:27:57] -----------------------------------
[2025-11-19 00:27:57] 开始处理文件: 0007_0028.wav
[2025-11-19 00:27:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:27:57] 初始化输出 buffer，总时长 36.22s（579520 samples）
[2025-11-19 00:27:57] 开始发送 0007_0028.wav，总帧 2264，时长 36.22s
[2025-11-19 00:27:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.497, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.162, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.815, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.918, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.102, 'infer_time': 0.179, 'content': '联系客服报修，安排上门或寄修。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.136, 'turn': 0, 'state': 'LISTEN', 'content': '购买延保服务后如果产品在延保期内出现问题维修流程是怎样的'}}
[2025-11-19 00:28:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.366, 'infer_time': 0.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:04] 收到 tts_done, timestamp=7.366s
[2025-11-19 00:28:04] 在 7.37s 插入 TTS（3.29s）
[2025-11-19 00:28:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.692}}
[2025-11-19 00:28:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.627, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.271, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.367, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.456, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '购买延保服务后如果产品在延保期内出现问题维修流程是怎样的'}]}, {'role': 'assistant', 'content': '联系客服报修，安排上门或寄修。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.63, 'infer_time': 0.171, 'content': '提供订单号、产品信息和故障描述。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '购买延保服务后如果产品在延保期内出现问题维修流程是怎样的'}]}, {'role': 'assistant', 'content': '联系客服报修，安排上门或寄修。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.649, 'turn': 1, 'state': 'LISTEN', 'content': '那报修时需要提供哪些具体信息呢'}}
[2025-11-19 00:28:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.906, 'infer_time': 0.27, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:14] 收到 tts_done, timestamp=16.906s
[2025-11-19 00:28:14] 在 16.91s 插入 TTS（3.45s）
[2025-11-19 00:28:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.965}}
[2025-11-19 00:28:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.476, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 27.588, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 28.236, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.34, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.434, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '购买延保服务后如果产品在延保期内出现问题维修流程是怎样的'}]}, {'role': 'assistant', 'content': '联系客服报修，安排上门或寄修。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那报修时需要提供哪些具体信息呢'}]}, {'role': 'assistant', 'content': '提供订单号、产品信息和故障描述。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.584, 'infer_time': 0.149, 'content': '联系客服报修，安排上门或寄修。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '购买延保服务后如果产品在延保期内出现问题维修流程是怎样的'}]}, {'role': 'assistant', 'content': '联系客服报修，安排上门或寄修。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那报修时需要提供哪些具体信息呢'}]}, {'role': 'assistant', 'content': '提供订单号、产品信息和故障描述。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 28.867, 'infer_time': 0.278, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:26] 收到 tts_done, timestamp=28.867s
[2025-11-19 00:28:26] 在 28.87s 插入 TTS（3.53s）
[2025-11-19 00:28:35] 音频发送完毕，用时 37.65s
[2025-11-19 00:28:35] WebSocket 已关闭，结束接收循环
[2025-11-19 00:28:35] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0028_output.wav，时长 36.22s
[2025-11-19 00:28:35] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0028_output.wav
[2025-11-19 00:28:35] 处理完成: 0007_0028.wav
[2025-11-19 00:28:35] -----------------------------------
[2025-11-19 00:28:35] 开始处理文件: 0007_0031.wav
[2025-11-19 00:28:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:28:35] 初始化输出 buffer，总时长 33.46s（535360 samples）
[2025-11-19 00:28:35] 开始发送 0007_0031.wav，总帧 2092，时长 33.46s
[2025-11-19 00:28:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.454, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.094, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.186, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.296, 'turn': 0, 'state': 'LISTEN', 'content': '为什么理发师总喜欢讲笑话'}}
[2025-11-19 00:28:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.403, 'infer_time': 0.213, 'content': '因为理发时剪头发容易尴尬，讲笑话能缓解紧张气氛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.769, 'infer_time': 0.361, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:28:38] 收到 tts_done, timestamp=3.769s
[2025-11-19 00:28:38] 在 3.77s 插入 TTS（4.71s）
[2025-11-19 00:28:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.0}}
[2025-11-19 00:28:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.508, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.303, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.646, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.302, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.406, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.503, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么理发师总喜欢讲笑话'}]}, {'role': 'assistant', 'content': '因为理发时剪头发容易尴尬，讲笑话能缓解紧张气氛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.719, 'turn': 1, 'state': 'LISTEN', 'content': '那如果顾客本身就很内向讲笑话会不会适得其反'}}
[2025-11-19 00:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.737, 'infer_time': 0.229, 'content': '确实可能让内向顾客更拘谨，需要观察对方反应调整。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么理发师总喜欢讲笑话'}]}, {'role': 'assistant', 'content': '因为理发时剪头发容易尴尬，讲笑话能缓解紧张气氛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.099, 'infer_time': 0.355, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:28:50] 收到 tts_done, timestamp=15.099s
[2025-11-19 00:28:50] 在 15.10s 插入 TTS（4.63s）
[2025-11-19 00:28:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.909}}
[2025-11-19 00:28:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.419, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.922, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:28:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.454, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.102, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.207, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.317, 'infer_time': 0.105, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么理发师总喜欢讲笑话'}]}, {'role': 'assistant', 'content': '因为理发时剪头发容易尴尬，讲笑话能缓解紧张气氛。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果顾客本身就很内向讲笑话会不会适得其反'}]}, {'role': 'assistant', 'content': '确实可能让内向顾客更拘谨，需要观察对方反应调整。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 25.515, 'turn': 2, 'state': 'LISTEN', 'content': '我得赶紧去买一些彩灯和装饰品为下周的节日派对做准备'}}
[2025-11-19 00:29:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.557, 'infer_time': 0.235, 'content': '节日派对要热闹，彩灯装饰最能烘托气氛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么理发师总喜欢讲笑话'}]}, {'role': 'assistant', 'content': '因为理发时剪头发容易尴尬，讲笑话能缓解紧张气氛。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果顾客本身就很内向讲笑话会不会适得其反'}]}, {'role': 'assistant', 'content': '确实可能让内向顾客更拘谨，需要观察对方反应调整。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.849, 'infer_time': 0.285, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:01] 收到 tts_done, timestamp=25.849s
[2025-11-19 00:29:01] 在 25.85s 插入 TTS（3.67s）
[2025-11-19 00:29:09] 音频发送完毕，用时 34.60s
[2025-11-19 00:29:09] WebSocket 已关闭，结束接收循环
[2025-11-19 00:29:09] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0007_0031_output.wav，时长 33.46s
[2025-11-19 00:29:09] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0007_0031_output.wav
[2025-11-19 00:29:09] 处理完成: 0007_0031.wav
[2025-11-19 00:29:09] -----------------------------------
[2025-11-19 00:29:09] 开始处理文件: 0008_0002.wav
[2025-11-19 00:29:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:29:09] 初始化输出 buffer，总时长 29.44s（471040 samples）
[2025-11-19 00:29:09] 开始发送 0008_0002.wav，总帧 1840，时长 29.44s
[2025-11-19 00:29:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.805, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.458, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.558, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.723, 'turn': 0, 'state': 'LISTEN', 'content': '最近有哪些热门的 tiktok 挑战值得尝试'}}
[2025-11-19 00:29:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.804, 'infer_time': 0.241, 'content': '可以试试#SquidGameChallenge 或 #SilhouetteChallenge，超火的！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.261, 'infer_time': 0.451, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:15] 收到 tts_done, timestamp=5.261s
[2025-11-19 00:29:15] 在 5.26s 插入 TTS（6.01s）
[2025-11-19 00:29:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.114}}
[2025-11-19 00:29:20] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.626, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.694, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.347, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.441, 'infer_time': 0.089, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.067, 'infer_time': 0.115, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有哪些热门的 tiktok 挑战值得尝试'}]}, {'role': 'assistant', 'content': '可以试试#SquidGameChallenge 或 #SilhouetteChallenge，超火的！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.267, 'infer_time': 0.195, 'content': '需要一张纸和笔，画出反转图案就行。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有哪些热门的 tiktok 挑战值得尝试'}]}, {'role': 'assistant', 'content': '可以试试#SquidGameChallenge 或 #SilhouetteChallenge，超火的！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.287, 'turn': 1, 'state': 'LISTEN', 'content': '翻转挑战具体需要什么什么道具'}}
[2025-11-19 00:29:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.547, 'infer_time': 0.275, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:25] 收到 tts_done, timestamp=15.547s
[2025-11-19 00:29:25] 在 15.55s 插入 TTS（3.51s）
[2025-11-19 00:29:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.049}}
[2025-11-19 00:29:28] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.559, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.471, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.12, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.214, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.304, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有哪些热门的 tiktok 挑战值得尝试'}]}, {'role': 'assistant', 'content': '可以试试#SquidGameChallenge 或 #SilhouetteChallenge，超火的！'}, {'role': 'user', 'content': [{'type': 'text', 'text': '翻转挑战具体需要什么什么道具'}]}, {'role': 'assistant', 'content': '需要一张纸和笔，画出反转图案就行。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 21.443, 'turn': 2, 'state': 'LISTEN', 'content': '今天下午突然下暴雨阳台的衣服全淋湿了'}}
[2025-11-19 00:29:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.469, 'infer_time': 0.161, 'content': '记得收衣服，下次看天气预报！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有哪些热门的 tiktok 挑战值得尝试'}]}, {'role': 'assistant', 'content': '可以试试#SquidGameChallenge 或 #SilhouetteChallenge，超火的！'}, {'role': 'user', 'content': [{'type': 'text', 'text': '翻转挑战具体需要什么什么道具'}]}, {'role': 'assistant', 'content': '需要一张纸和笔，画出反转图案就行。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.717, 'infer_time': 0.242, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:29:31] 收到 tts_done, timestamp=21.717s
[2025-11-19 00:29:31] 在 21.72s 插入 TTS（3.04s）
[2025-11-19 00:29:40] 音频发送完毕，用时 30.56s
[2025-11-19 00:29:40] WebSocket 已关闭，结束接收循环
[2025-11-19 00:29:40] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0002_output.wav，时长 29.44s
[2025-11-19 00:29:40] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0002_output.wav
[2025-11-19 00:29:40] 处理完成: 0008_0002.wav
[2025-11-19 00:29:40] -----------------------------------
[2025-11-19 00:29:40] 开始处理文件: 0008_0004.wav
[2025-11-19 00:29:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:29:40] 初始化输出 buffer，总时长 30.58s（489280 samples）
[2025-11-19 00:29:40] 开始发送 0008_0004.wav，总帧 1912，时长 30.58s
[2025-11-19 00:29:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.871, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.523, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.624, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.821, 'turn': 0, 'state': 'LISTEN', 'content': '图像识别中如何处理不同光照条件下的图片'}}
[2025-11-19 00:29:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.846, 'infer_time': 0.218, 'content': '可使用直方图均衡化或白平衡技术增强光照一致性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.221, 'infer_time': 0.37, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:29:45] 收到 tts_done, timestamp=5.221s
[2025-11-19 00:29:45] 在 5.22s 插入 TTS（5.09s）
[2025-11-19 00:29:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.195}}
[2025-11-19 00:29:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.709, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.627, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.28, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.376, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.464, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '图像识别中如何处理不同光照条件下的图片'}]}, {'role': 'assistant', 'content': '可使用直方图均衡化或白平衡技术增强光照一致性。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.604, 'turn': 1, 'state': 'LISTEN', 'content': '直方图均衡化会不会导致图像细节丢失'}}
[2025-11-19 00:29:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.655, 'infer_time': 0.187, 'content': '是的，过度均衡可能导致噪声放大和细节丢失。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '图像识别中如何处理不同光照条件下的图片'}]}, {'role': 'assistant', 'content': '可使用直方图均衡化或白平衡技术增强光照一致性。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.973, 'infer_time': 0.313, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:29:54] 收到 tts_done, timestamp=13.973s
[2025-11-19 00:29:54] 在 13.97s 插入 TTS（4.10s）
[2025-11-19 00:29:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.004}}
[2025-11-19 00:29:59] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.512, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.699, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.347, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.445, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.538, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '图像识别中如何处理不同光照条件下的图片'}]}, {'role': 'assistant', 'content': '可使用直方图均衡化或白平衡技术增强光照一致性。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '直方图均衡化会不会导致图像细节丢失'}]}, {'role': 'assistant', 'content': '是的，过度均衡可能导致噪声放大和细节丢失。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.663, 'infer_time': 0.125, 'content': '过度均衡可能放大噪声并损失细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '图像识别中如何处理不同光照条件下的图片'}]}, {'role': 'assistant', 'content': '可使用直方图均衡化或白平衡技术增强光照一致性。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '直方图均衡化会不会导致图像细节丢失'}]}, {'role': 'assistant', 'content': '是的，过度均衡可能导致噪声放大和细节丢失。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.946, 'infer_time': 0.278, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:03] 收到 tts_done, timestamp=22.946s
[2025-11-19 00:30:03] 在 22.95s 插入 TTS（3.58s）
[2025-11-19 00:30:12] 音频发送完毕，用时 31.77s
[2025-11-19 00:30:12] WebSocket 已关闭，结束接收循环
[2025-11-19 00:30:12] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0004_output.wav，时长 30.58s
[2025-11-19 00:30:12] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0004_output.wav
[2025-11-19 00:30:12] 处理完成: 0008_0004.wav
[2025-11-19 00:30:12] -----------------------------------
[2025-11-19 00:30:12] 开始处理文件: 0008_0008.wav
[2025-11-19 00:30:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:30:12] 初始化输出 buffer，总时长 31.22s（499520 samples）
[2025-11-19 00:30:12] 开始发送 0008_0008.wav，总帧 1952，时长 31.22s
[2025-11-19 00:30:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.973, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.04, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.693, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.79, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.974, 'infer_time': 0.18, 'content': '狮子座狗狗本月健康运不错，活力充沛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.005, 'turn': 0, 'state': 'LISTEN', 'content': '我的宠物狗是狮子座这个月的健康运势怎么样'}}
[2025-11-19 00:30:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.291, 'infer_time': 0.312, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:17] 收到 tts_done, timestamp=5.291s
[2025-11-19 00:30:17] 在 5.29s 插入 TTS（4.12s）
[2025-11-19 00:30:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.325}}
[2025-11-19 00:30:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.832, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.374, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.028, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.122, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.21, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的宠物狗是狮子座这个月的健康运势怎么样'}]}, {'role': 'assistant', 'content': '狮子座狗狗本月健康运不错，活力充沛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.33, 'turn': 1, 'state': 'LISTEN', 'content': '春节问题具体有哪些表现需要我留意'}}
[2025-11-19 00:30:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.402, 'infer_time': 0.188, 'content': '跛行、不愿活动或关节肿胀需留意。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的宠物狗是狮子座这个月的健康运势怎么样'}]}, {'role': 'assistant', 'content': '狮子座狗狗本月健康运不错，活力充沛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.704, 'infer_time': 0.296, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:25] 收到 tts_done, timestamp=13.704s
[2025-11-19 00:30:25] 在 13.70s 插入 TTS（3.78s）
[2025-11-19 00:30:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.499}}
[2025-11-19 00:30:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.01, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.331, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.979, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.079, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.167, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的宠物狗是狮子座这个月的健康运势怎么样'}]}, {'role': 'assistant', 'content': '狮子座狗狗本月健康运不错，活力充沛。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '春节问题具体有哪些表现需要我留意'}]}, {'role': 'assistant', 'content': '跛行、不愿活动或关节肿胀需留意。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.329, 'infer_time': 0.161, 'content': '跛行、不愿活动或关节肿胀需留意。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的宠物狗是狮子座这个月的健康运势怎么样'}]}, {'role': 'assistant', 'content': '狮子座狗狗本月健康运不错，活力充沛。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '春节问题具体有哪些表现需要我留意'}]}, {'role': 'assistant', 'content': '跛行、不愿活动或关节肿胀需留意。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.622, 'infer_time': 0.288, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:30:35] 收到 tts_done, timestamp=23.622s
[2025-11-19 00:30:35] 在 23.62s 插入 TTS（3.78s）
[2025-11-19 00:30:44] 音频发送完毕，用时 32.46s
[2025-11-19 00:30:44] WebSocket 已关闭，结束接收循环
[2025-11-19 00:30:44] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0008_output.wav，时长 31.22s
[2025-11-19 00:30:44] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0008_output.wav
[2025-11-19 00:30:44] 处理完成: 0008_0008.wav
[2025-11-19 00:30:44] -----------------------------------
[2025-11-19 00:30:44] 开始处理文件: 0008_0009.wav
[2025-11-19 00:30:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:30:44] 初始化输出 buffer，总时长 31.46s（503360 samples）
[2025-11-19 00:30:44] 开始发送 0008_0009.wav，总帧 1967，时长 31.46s
[2025-11-19 00:30:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.492, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.238, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.44, 'turn': 0, 'state': 'LISTEN', 'content': '肉制品对改善皮肤状态有什么具体好处'}}
[2025-11-19 00:30:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.445, 'infer_time': 0.203, 'content': '豆制品富含异黄酮，有助于改善皮肤弹性与光泽。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.793, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:30:49] 收到 tts_done, timestamp=4.793s
[2025-11-19 00:30:49] 在 4.79s 插入 TTS（4.54s）
[2025-11-19 00:30:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.786}}
[2025-11-19 00:30:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.298, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.91, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.562, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.657, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.748, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '肉制品对改善皮肤状态有什么具体好处'}]}, {'role': 'assistant', 'content': '豆制品富含异黄酮，有助于改善皮肤弹性与光泽。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.866, 'turn': 1, 'state': 'LISTEN', 'content': '那大到异黄酮适合所有年龄段的人吗'}}
[2025-11-19 00:30:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.957, 'infer_time': 0.206, 'content': '大豆异黄酮适合大多数成年人，但特殊人群需谨慎。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '肉制品对改善皮肤状态有什么具体好处'}]}, {'role': 'assistant', 'content': '豆制品富含异黄酮，有助于改善皮肤弹性与光泽。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.416, 'infer_time': 0.453, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:30:58] 收到 tts_done, timestamp=13.416s
[2025-11-19 00:30:58] 在 13.42s 插入 TTS（6.36s）
[2025-11-19 00:31:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.234}}
[2025-11-19 00:31:03] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.746, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.325, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.456, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.104, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.206, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.303, 'infer_time': 0.092, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '肉制品对改善皮肤状态有什么具体好处'}]}, {'role': 'assistant', 'content': '豆制品富含异黄酮，有助于改善皮肤弹性与光泽。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那大到异黄酮适合所有年龄段的人吗'}]}, {'role': 'assistant', 'content': '大豆异黄酮适合大多数成年人，但特殊人群需谨慎。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.483, 'infer_time': 0.179, 'content': '大豆异黄酮适合大多数成年人，但特殊人群需谨慎。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '肉制品对改善皮肤状态有什么具体好处'}]}, {'role': 'assistant', 'content': '豆制品富含异黄酮，有助于改善皮肤弹性与光泽。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那大到异黄酮适合所有年龄段的人吗'}]}, {'role': 'assistant', 'content': '大豆异黄酮适合大多数成年人，但特殊人群需谨慎。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.861, 'infer_time': 0.373, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:08] 收到 tts_done, timestamp=23.861s
[2025-11-19 00:31:08] 在 23.86s 插入 TTS（5.07s）
[2025-11-19 00:31:17] 音频发送完毕，用时 32.56s
[2025-11-19 00:31:17] WebSocket 已关闭，结束接收循环
[2025-11-19 00:31:17] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0009_output.wav，时长 31.46s
[2025-11-19 00:31:17] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0009_output.wav
[2025-11-19 00:31:17] 处理完成: 0008_0009.wav
[2025-11-19 00:31:17] -----------------------------------
[2025-11-19 00:31:17] 开始处理文件: 0008_0011.wav
[2025-11-19 00:31:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:31:17] 初始化输出 buffer，总时长 28.10s（449600 samples）
[2025-11-19 00:31:17] 开始发送 0008_0011.wav，总帧 1757，时长 28.10s
[2025-11-19 00:31:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.027, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.678, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.777, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.952, 'turn': 0, 'state': 'LISTEN', 'content': '生日蛋糕上适合用哪些水果装饰'}}
[2025-11-19 00:31:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.973, 'infer_time': 0.191, 'content': '草莓、蓝莓、香蕉和猕猴桃都很适合。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.352, 'infer_time': 0.374, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:21] 收到 tts_done, timestamp=4.352s
[2025-11-19 00:31:21] 在 4.35s 插入 TTS（5.03s）
[2025-11-19 00:31:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.383}}
[2025-11-19 00:31:27] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.894, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.553, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.206, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.296, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.381, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日蛋糕上适合用哪些水果装饰'}]}, {'role': 'assistant', 'content': '草莓、蓝莓、香蕉和猕猴桃都很适合。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.496, 'turn': 1, 'state': 'LISTEN', 'content': '猕猴桃容易氧化变色怎么办'}}
[2025-11-19 00:31:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.585, 'infer_time': 0.199, 'content': '猕猴桃切片后泡盐水可减缓氧化。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日蛋糕上适合用哪些水果装饰'}]}, {'role': 'assistant', 'content': '草莓、蓝莓、香蕉和猕猴桃都很适合。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.843, 'infer_time': 0.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:29] 收到 tts_done, timestamp=11.843s
[2025-11-19 00:31:29] 在 11.84s 插入 TTS（3.18s）
[2025-11-19 00:31:33] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 15.958}}
[2025-11-19 00:31:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.461, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.882, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.527, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.616, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.699, 'infer_time': 0.079, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日蛋糕上适合用哪些水果装饰'}]}, {'role': 'assistant', 'content': '草莓、蓝莓、香蕉和猕猴桃都很适合。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '猕猴桃容易氧化变色怎么办'}]}, {'role': 'assistant', 'content': '猕猴桃切片后泡盐水可减缓氧化。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 19.815, 'turn': 2, 'state': 'LISTEN', 'content': '这条阔腿裤搭配什么上衣会比较好看'}}
[2025-11-19 00:31:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.934, 'infer_time': 0.23, 'content': '搭配短款上衣或塞衣角的长衫都很显腿长。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日蛋糕上适合用哪些水果装饰'}]}, {'role': 'assistant', 'content': '草莓、蓝莓、香蕉和猕猴桃都很适合。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '猕猴桃容易氧化变色怎么办'}]}, {'role': 'assistant', 'content': '猕猴桃切片后泡盐水可减缓氧化。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.289, 'infer_time': 0.349, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:31:37] 收到 tts_done, timestamp=20.289s
[2025-11-19 00:31:37] 在 20.29s 插入 TTS（4.67s）
[2025-11-19 00:31:46] 音频发送完毕，用时 28.93s
[2025-11-19 00:31:46] WebSocket 已关闭，结束接收循环
[2025-11-19 00:31:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0011_output.wav，时长 28.10s
[2025-11-19 00:31:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0011_output.wav
[2025-11-19 00:31:46] 处理完成: 0008_0011.wav
[2025-11-19 00:31:46] -----------------------------------
[2025-11-19 00:31:46] 开始处理文件: 0008_0013.wav
[2025-11-19 00:31:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:31:46] 初始化输出 buffer，总时长 31.19s（499040 samples）
[2025-11-19 00:31:46] 开始发送 0008_0013.wav，总帧 1950，时长 31.19s
[2025-11-19 00:31:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.631, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.382, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.567, 'infer_time': 0.182, 'content': '保持三秒以上安全距离，雨天需加倍。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.578, 'turn': 0, 'state': 'LISTEN', 'content': '在高速公路上如何保持安全跟车距离'}}
[2025-11-19 00:31:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.83, 'infer_time': 0.258, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:31:50] 收到 tts_done, timestamp=4.83s
[2025-11-19 00:31:50] 在 4.83s 插入 TTS（3.22s）
[2025-11-19 00:31:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.894}}
[2025-11-19 00:31:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.407, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.306, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.959, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:31:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.052, 'infer_time': 0.09, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.848, 'infer_time': 0.281, 'content': '是的，雨天路面湿滑，制动距离增加，应将安全跟车距离加倍。', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在高速公路上如何保持安全跟车距离'}]}, {'role': 'assistant', 'content': '保持三秒以上安全距离，雨天需加倍。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 16.641, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.217, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.805, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.906, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.997, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在高速公路上如何保持安全跟车距离'}]}, {'role': 'assistant', 'content': '保持三秒以上安全距离，雨天需加倍。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.147, 'infer_time': 0.15, 'content': '保持三秒以上安全距离，雨天需加倍。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在高速公路上如何保持安全跟车距离'}]}, {'role': 'assistant', 'content': '保持三秒以上安全距离，雨天需加倍。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.432, 'infer_time': 0.28, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:09] 收到 tts_done, timestamp=23.432s
[2025-11-19 00:32:09] 在 23.43s 插入 TTS（3.53s）
[2025-11-19 00:32:18] 音频发送完毕，用时 32.30s
[2025-11-19 00:32:18] WebSocket 已关闭，结束接收循环
[2025-11-19 00:32:18] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0013_output.wav，时长 31.19s
[2025-11-19 00:32:18] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0013_output.wav
[2025-11-19 00:32:18] 处理完成: 0008_0013.wav
[2025-11-19 00:32:18] -----------------------------------
[2025-11-19 00:32:18] 开始处理文件: 0008_0014.wav
[2025-11-19 00:32:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:32:18] 初始化输出 buffer，总时长 29.32s（469120 samples）
[2025-11-19 00:32:18] 开始发送 0008_0014.wav，总帧 1833，时长 29.32s
[2025-11-19 00:32:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.505, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.598, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.773, 'infer_time': 0.17, 'content': '文化产业能带动旅游和就业，促进地方经济。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.786, 'turn': 0, 'state': 'LISTEN', 'content': '文化产业如何推动地方经济发展'}}
[2025-11-19 00:32:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.091, 'infer_time': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:22] 收到 tts_done, timestamp=4.091s
[2025-11-19 00:32:22] 在 4.09s 插入 TTS（4.00s）
[2025-11-19 00:32:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.404}}
[2025-11-19 00:32:28] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.915, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.983, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.635, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.724, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.811, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化产业如何推动地方经济发展'}]}, {'role': 'assistant', 'content': '文化产业能带动旅游和就业，促进地方经济。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.916, 'turn': 1, 'state': 'LISTEN', 'content': '那文创产品具体包括哪些类型呢'}}
[2025-11-19 00:32:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.007, 'infer_time': 0.192, 'content': '文具、服饰、家居用品等都属于文创产品。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化产业如何推动地方经济发展'}]}, {'role': 'assistant', 'content': '文化产业能带动旅游和就业，促进地方经济。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.366, 'infer_time': 0.354, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:32:30] 收到 tts_done, timestamp=12.366s
[2025-11-19 00:32:30] 在 12.37s 插入 TTS（4.82s）
[2025-11-19 00:32:34] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.359}}
[2025-11-19 00:32:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.867, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.357, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.005, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.101, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.188, 'infer_time': 0.082, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化产业如何推动地方经济发展'}]}, {'role': 'assistant', 'content': '文化产业能带动旅游和就业，促进地方经济。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那文创产品具体包括哪些类型呢'}]}, {'role': 'assistant', 'content': '文具、服饰、家居用品等都属于文创产品。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.353, 'infer_time': 0.164, 'content': '文具、服饰、家居用品等都属于文创产品。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化产业如何推动地方经济发展'}]}, {'role': 'assistant', 'content': '文化产业能带动旅游和就业，促进地方经济。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那文创产品具体包括哪些类型呢'}]}, {'role': 'assistant', 'content': '文具、服饰、家居用品等都属于文创产品。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.671, 'infer_time': 0.313, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:32:40] 收到 tts_done, timestamp=21.671s
[2025-11-19 00:32:40] 在 21.67s 插入 TTS（3.98s）
[2025-11-19 00:32:48] 音频发送完毕，用时 30.42s
[2025-11-19 00:32:48] WebSocket 已关闭，结束接收循环
[2025-11-19 00:32:48] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0014_output.wav，时长 29.32s
[2025-11-19 00:32:48] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0014_output.wav
[2025-11-19 00:32:48] 处理完成: 0008_0014.wav
[2025-11-19 00:32:48] -----------------------------------
[2025-11-19 00:32:48] 开始处理文件: 0008_0018.wav
[2025-11-19 00:32:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:32:48] 初始化输出 buffer，总时长 33.61s（537760 samples）
[2025-11-19 00:32:48] 开始发送 0008_0018.wav，总帧 2101，时长 33.61s
[2025-11-19 00:32:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.813, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.919, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.022, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.191, 'infer_time': 0.163, 'content': 'Break a leg是祝福好运的俚语', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.283, 'turn': 0, 'state': 'LISTEN', 'content': '为什么我的翻译软件总是把 brick leg 质疑成断一条腿而不是祝你好运'}}
[2025-11-19 00:32:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.426, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:32:56] 收到 tts_done, timestamp=7.426s
[2025-11-19 00:32:56] 在 7.43s 插入 TTS（2.84s）
[2025-11-19 00:33:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 12.125}}
[2025-11-19 00:33:02] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.638, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.253, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.905, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.998, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.084, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我的翻译软件总是把 brick leg 质疑成断一条腿而不是祝你好运'}]}, {'role': 'assistant', 'content': 'Break a leg是祝福好运的俚语'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.202, 'turn': 1, 'state': 'LISTEN', 'content': '那他怎么才能学会这些习语的正确翻译呢'}}
[2025-11-19 00:33:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.242, 'infer_time': 0.154, 'content': '需要更新俚语库并加入文化背景', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我的翻译软件总是把 brick leg 质疑成断一条腿而不是祝你好运'}]}, {'role': 'assistant', 'content': 'Break a leg是祝福好运的俚语'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.54, 'infer_time': 0.293, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:05] 收到 tts_done, timestamp=16.54s
[2025-11-19 00:33:05] 在 16.54s 插入 TTS（3.72s）
[2025-11-19 00:33:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.522}}
[2025-11-19 00:33:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.032, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.661, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.309, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.405, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.495, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我的翻译软件总是把 brick leg 质疑成断一条腿而不是祝你好运'}]}, {'role': 'assistant', 'content': 'Break a leg是祝福好运的俚语'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那他怎么才能学会这些习语的正确翻译呢'}]}, {'role': 'assistant', 'content': '需要更新俚语库并加入文化背景'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.649, 'infer_time': 0.147, 'content': '周末恐龙展区通常有特别活动', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我的翻译软件总是把 brick leg 质疑成断一条腿而不是祝你好运'}]}, {'role': 'assistant', 'content': 'Break a leg是祝福好运的俚语'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那他怎么才能学会这些习语的正确翻译呢'}]}, {'role': 'assistant', 'content': '需要更新俚语库并加入文化背景'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 25.658, 'turn': 2, 'state': 'LISTEN', 'content': '不管理那个恐龙骨架的展区周末是不是有特别活动'}}
[2025-11-19 00:33:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.869, 'infer_time': 0.214, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:14] 收到 tts_done, timestamp=25.869s
[2025-11-19 00:33:14] 在 25.87s 插入 TTS（2.74s）
[2025-11-19 00:33:23] 音频发送完毕，用时 34.83s
[2025-11-19 00:33:23] WebSocket 已关闭，结束接收循环
[2025-11-19 00:33:23] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0018_output.wav，时长 33.61s
[2025-11-19 00:33:23] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0018_output.wav
[2025-11-19 00:33:23] 处理完成: 0008_0018.wav
[2025-11-19 00:33:23] -----------------------------------
[2025-11-19 00:33:23] 开始处理文件: 0008_0019.wav
[2025-11-19 00:33:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:33:23] 初始化输出 buffer，总时长 30.98s（495680 samples）
[2025-11-19 00:33:23] 开始发送 0008_0019.wav，总帧 1937，时长 30.98s
[2025-11-19 00:33:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.124, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.777, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.872, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.987, 'turn': 0, 'state': 'LISTEN', 'content': '被洞的起点内部究竟是什么样的结构'}}
[2025-11-19 00:33:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.045, 'infer_time': 0.169, 'content': '黑洞奇点是时空无限弯曲的点。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.299, 'infer_time': 0.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:28] 收到 tts_done, timestamp=4.299s
[2025-11-19 00:33:28] 在 4.30s 插入 TTS（3.16s）
[2025-11-19 00:33:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.348}}
[2025-11-19 00:33:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.77, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 00:33:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.855, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.837, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.488, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.583, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.67, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被洞的起点内部究竟是什么样的结构'}]}, {'role': 'assistant', 'content': '黑洞奇点是时空无限弯曲的点。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.834, 'turn': 1, 'state': 'LISTEN', 'content': '啊量子盈利润对起点有什么不同解释吗'}}
[2025-11-19 00:33:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.84, 'infer_time': 0.166, 'content': '量子引力认为奇点会被量子效应取代。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被洞的起点内部究竟是什么样的结构'}]}, {'role': 'assistant', 'content': '黑洞奇点是时空无限弯曲的点。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.112, 'infer_time': 0.267, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:33:36] 收到 tts_done, timestamp=13.112s
[2025-11-19 00:33:36] 在 13.11s 插入 TTS（3.39s）
[2025-11-19 00:33:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.162}}
[2025-11-19 00:33:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.673, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.604, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.973, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.62, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.723, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.819, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被洞的起点内部究竟是什么样的结构'}]}, {'role': 'assistant', 'content': '黑洞奇点是时空无限弯曲的点。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '啊量子盈利润对起点有什么不同解释吗'}]}, {'role': 'assistant', 'content': '量子引力认为奇点会被量子效应取代。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.005, 'infer_time': 0.18, 'content': '热石疗法能深层放松肌肉，效果很棒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被洞的起点内部究竟是什么样的结构'}]}, {'role': 'assistant', 'content': '黑洞奇点是时空无限弯曲的点。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '啊量子盈利润对起点有什么不同解释吗'}]}, {'role': 'assistant', 'content': '量子引力认为奇点会被量子效应取代。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 23.019, 'turn': 2, 'state': 'LISTEN', 'content': '我预约了明天下午的十八按摩听说他们新推出了热式疗法'}}
[2025-11-19 00:33:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.276, 'infer_time': 0.266, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:33:47] 收到 tts_done, timestamp=23.276s
[2025-11-19 00:33:47] 在 23.28s 插入 TTS（3.40s）
[2025-11-19 00:33:55] 音频发送完毕，用时 32.09s
[2025-11-19 00:33:55] WebSocket 已关闭，结束接收循环
[2025-11-19 00:33:55] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0019_output.wav，时长 30.98s
[2025-11-19 00:33:55] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0019_output.wav
[2025-11-19 00:33:55] 处理完成: 0008_0019.wav
[2025-11-19 00:33:55] -----------------------------------
[2025-11-19 00:33:55] 开始处理文件: 0008_0025.wav
[2025-11-19 00:33:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:33:55] 初始化输出 buffer，总时长 29.46s（471360 samples）
[2025-11-19 00:33:55] 开始发送 0008_0025.wav，总帧 1842，时长 29.46s
[2025-11-19 00:33:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.874, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.967, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:33:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.083, 'turn': 0, 'state': 'LISTEN', 'content': '早恋时如何平衡学习和感情的关系'}}
[2025-11-19 00:33:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.127, 'infer_time': 0.155, 'content': '专注学业，感情顺其自然发展。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.345, 'infer_time': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:00] 收到 tts_done, timestamp=4.345s
[2025-11-19 00:34:00] 在 4.34s 插入 TTS（2.79s）
[2025-11-19 00:34:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.621}}
[2025-11-19 00:34:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.134, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.924, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.019, 'infer_time': 0.09, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.62, 'infer_time': 0.095, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '早恋时如何平衡学习和感情的关系'}]}, {'role': 'assistant', 'content': '专注学业，感情顺其自然发展。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.77, 'infer_time': 0.144, 'content': '提前沟通，合理安排时间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '早恋时如何平衡学习和感情的关系'}]}, {'role': 'assistant', 'content': '专注学业，感情顺其自然发展。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.796, 'turn': 1, 'state': 'LISTEN', 'content': '如果约会时冲突你怎么办'}}
[2025-11-19 00:34:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.988, 'infer_time': 0.213, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:10] 收到 tts_done, timestamp=14.988s
[2025-11-19 00:34:10] 在 14.99s 插入 TTS（2.53s）
[2025-11-19 00:34:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.719}}
[2025-11-19 00:34:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.23, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.617, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.307, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.955, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.052, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.145, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '早恋时如何平衡学习和感情的关系'}]}, {'role': 'assistant', 'content': '专注学业，感情顺其自然发展。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果约会时冲突你怎么办'}]}, {'role': 'assistant', 'content': '提前沟通，合理安排时间。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.256, 'infer_time': 0.111, 'content': '提前沟通，合理安排时间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '早恋时如何平衡学习和感情的关系'}]}, {'role': 'assistant', 'content': '专注学业，感情顺其自然发展。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果约会时冲突你怎么办'}]}, {'role': 'assistant', 'content': '提前沟通，合理安排时间。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.465, 'infer_time': 0.204, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:17] 收到 tts_done, timestamp=21.465s
[2025-11-19 00:34:17] 在 21.46s 插入 TTS（2.45s）
[2025-11-19 00:34:26] 音频发送完毕，用时 30.49s
[2025-11-19 00:34:26] WebSocket 已关闭，结束接收循环
[2025-11-19 00:34:26] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0025_output.wav，时长 29.46s
[2025-11-19 00:34:26] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0025_output.wav
[2025-11-19 00:34:26] 处理完成: 0008_0025.wav
[2025-11-19 00:34:26] -----------------------------------
[2025-11-19 00:34:26] 开始处理文件: 0008_0028.wav
[2025-11-19 00:34:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:34:26] 初始化输出 buffer，总时长 30.31s（484960 samples）
[2025-11-19 00:34:26] 开始发送 0008_0028.wav，总帧 1895，时长 30.31s
[2025-11-19 00:34:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.621, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.273, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.367, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.566, 'infer_time': 0.195, 'content': '语言歧视在招聘中确实存在，但越来越受关注。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.754, 'turn': 0, 'state': 'LISTEN', 'content': '语言歧视在招聘中常见吗'}}
[2025-11-19 00:34:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.902, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:34:30] 收到 tts_done, timestamp=3.902s
[2025-11-19 00:34:30] 在 3.90s 插入 TTS（4.30s）
[2025-11-19 00:34:34] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.958}}
[2025-11-19 00:34:35] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.471, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.606, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.506, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.16, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.264, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.355, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '语言歧视在招聘中常见吗'}]}, {'role': 'assistant', 'content': '语言歧视在招聘中确实存在，但越来越受关注。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.511, 'turn': 1, 'state': 'LISTEN', 'content': '那如果求职者使用非标准语法会被视为能力不足吗'}}
[2025-11-19 00:34:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.587, 'infer_time': 0.226, 'content': '非标准语法可能被误解，但不应成为判断能力的唯一标准。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '语言歧视在招聘中常见吗'}]}, {'role': 'assistant', 'content': '语言歧视在招聘中确实存在，但越来越受关注。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.978, 'infer_time': 0.386, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:34:40] 收到 tts_done, timestamp=13.978s
[2025-11-19 00:34:40] 在 13.98s 插入 TTS（5.20s）
[2025-11-19 00:34:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.996}}
[2025-11-19 00:34:45] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.506, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.417, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 22.065, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.16, 'infer_time': 0.091, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.795, 'infer_time': 0.116, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '语言歧视在招聘中常见吗'}]}, {'role': 'assistant', 'content': '语言歧视在招聘中确实存在，但越来越受关注。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果求职者使用非标准语法会被视为能力不足吗'}]}, {'role': 'assistant', 'content': '非标准语法可能被误解，但不应成为判断能力的唯一标准。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.0, 'infer_time': 0.201, 'content': '多数检查项目需要空腹，建议提前确认。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '语言歧视在招聘中常见吗'}]}, {'role': 'assistant', 'content': '语言歧视在招聘中确实存在，但越来越受关注。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果求职者使用非标准语法会被视为能力不足吗'}]}, {'role': 'assistant', 'content': '非标准语法可能被误解，但不应成为判断能力的唯一标准。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 25.067, 'turn': 2, 'state': 'LISTEN', 'content': '我下周得去做个健康检查不知道要不要空腹'}}
[2025-11-19 00:34:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.306, 'infer_time': 0.301, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:34:51] 收到 tts_done, timestamp=25.306s
[2025-11-19 00:34:51] 在 25.31s 插入 TTS（3.89s）
[2025-11-19 00:34:57] 音频发送完毕，用时 31.46s
[2025-11-19 00:34:57] WebSocket 已关闭，结束接收循环
[2025-11-19 00:34:57] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0028_output.wav，时长 30.31s
[2025-11-19 00:34:57] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0028_output.wav
[2025-11-19 00:34:57] 处理完成: 0008_0028.wav
[2025-11-19 00:34:57] -----------------------------------
[2025-11-19 00:34:57] 开始处理文件: 0008_0029.wav
[2025-11-19 00:34:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:34:57] 初始化输出 buffer，总时长 27.66s（442560 samples）
[2025-11-19 00:34:57] 开始发送 0008_0029.wav，总帧 1729，时长 27.66s
[2025-11-19 00:34:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.991, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.645, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.741, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.858, 'turn': 0, 'state': 'LISTEN', 'content': '腰间操一般包括哪些常见的活动'}}
[2025-11-19 00:35:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.928, 'infer_time': 0.184, 'content': '眼保健操、伸展运动和简单体操。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.25, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:02] 收到 tts_done, timestamp=4.25s
[2025-11-19 00:35:02] 在 4.25s 插入 TTS（4.10s）
[2025-11-19 00:35:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.303}}
[2025-11-19 00:35:07] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.814, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.713, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.365, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.457, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.541, 'infer_time': 0.08, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '腰间操一般包括哪些常见的活动'}]}, {'role': 'assistant', 'content': '眼保健操、伸展运动和简单体操。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.647, 'turn': 1, 'state': 'LISTEN', 'content': '那手臂摆动具体怎么做才标准'}}
[2025-11-19 00:35:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.739, 'infer_time': 0.194, 'content': '双手平举，前后摆动，保持肩部放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '腰间操一般包括哪些常见的活动'}]}, {'role': 'assistant', 'content': '眼保健操、伸展运动和简单体操。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.058, 'infer_time': 0.314, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:09] 收到 tts_done, timestamp=12.058s
[2025-11-19 00:35:09] 在 12.06s 插入 TTS（3.92s）
[2025-11-19 00:35:14] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.184}}
[2025-11-19 00:35:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.692, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.419, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.069, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.159, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.248, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '腰间操一般包括哪些常见的活动'}]}, {'role': 'assistant', 'content': '眼保健操、伸展运动和简单体操。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那手臂摆动具体怎么做才标准'}]}, {'role': 'assistant', 'content': '双手平举，前后摆动，保持肩部放松。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.416, 'infer_time': 0.167, 'content': '双手平举，前后摆动，保持肩部放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '腰间操一般包括哪些常见的活动'}]}, {'role': 'assistant', 'content': '眼保健操、伸展运动和简单体操。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那手臂摆动具体怎么做才标准'}]}, {'role': 'assistant', 'content': '双手平举，前后摆动，保持肩部放松。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 19.705, 'infer_time': 0.285, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:17] 收到 tts_done, timestamp=19.705s
[2025-11-19 00:35:17] 在 19.70s 插入 TTS（3.61s）
[2025-11-19 00:35:26] 音频发送完毕，用时 28.58s
[2025-11-19 00:35:26] WebSocket 已关闭，结束接收循环
[2025-11-19 00:35:26] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0008_0029_output.wav，时长 27.66s
[2025-11-19 00:35:26] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0008_0029_output.wav
[2025-11-19 00:35:26] 处理完成: 0008_0029.wav
[2025-11-19 00:35:26] -----------------------------------
[2025-11-19 00:35:26] 开始处理文件: 0009_0003.wav
[2025-11-19 00:35:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:35:26] 初始化输出 buffer，总时长 35.89s（574240 samples）
[2025-11-19 00:35:26] 开始发送 0009_0003.wav，总帧 2244，时长 35.89s
[2025-11-19 00:35:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.498, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.602, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.813, 'infer_time': 0.206, 'content': '超级计算机通过处理海量气象数据，提升天气预报的精度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.974, 'turn': 0, 'state': 'LISTEN', 'content': '超级计算机在天气预报中具体如何提升预测精度'}}
[2025-11-19 00:35:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.183, 'infer_time': 0.364, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:35:33] 收到 tts_done, timestamp=7.183s
[2025-11-19 00:35:33] 在 7.18s 插入 TTS（4.72s）
[2025-11-19 00:35:37] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.561}}
[2025-11-19 00:35:39] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.075, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.953, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.609, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.711, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.805, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '超级计算机在天气预报中具体如何提升预测精度'}]}, {'role': 'assistant', 'content': '超级计算机通过处理海量气象数据，提升天气预报的精度。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.008, 'turn': 1, 'state': 'LISTEN', 'content': '这些数值模型具体是怎么构建的'}}
[2025-11-19 00:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.037, 'infer_time': 0.227, 'content': '数值模型基于物理方程，用超级计算机求解大气运动规律。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '超级计算机在天气预报中具体如何提升预测精度'}]}, {'role': 'assistant', 'content': '超级计算机通过处理海量气象数据，提升天气预报的精度。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.446, 'infer_time': 0.404, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:35:43] 收到 tts_done, timestamp=17.446s
[2025-11-19 00:35:43] 在 17.45s 插入 TTS（5.45s）
[2025-11-19 00:35:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 21.353}}
[2025-11-19 00:35:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.86, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 26.782, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 27.433, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 27.537, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 27.63, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '超级计算机在天气预报中具体如何提升预测精度'}]}, {'role': 'assistant', 'content': '超级计算机通过处理海量气象数据，提升天气预报的精度。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些数值模型具体是怎么构建的'}]}, {'role': 'assistant', 'content': '数值模型基于物理方程，用超级计算机求解大气运动规律。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 27.8, 'turn': 2, 'state': 'LISTEN', 'content': '最近皮肤有点干是不是该换一款更保湿的面霜了'}}
[2025-11-19 00:35:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 27.851, 'infer_time': 0.217, 'content': '换保湿面霜是好选择，能更好锁住水分。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '超级计算机在天气预报中具体如何提升预测精度'}]}, {'role': 'assistant', 'content': '超级计算机通过处理海量气象数据，提升天气预报的精度。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些数值模型具体是怎么构建的'}]}, {'role': 'assistant', 'content': '数值模型基于物理方程，用超级计算机求解大气运动规律。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 28.157, 'infer_time': 0.3, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:35:54] 收到 tts_done, timestamp=28.157s
[2025-11-19 00:35:54] 在 28.16s 插入 TTS（3.83s）
[2025-11-19 00:36:03] 音频发送完毕，用时 37.13s
[2025-11-19 00:36:03] WebSocket 已关闭，结束接收循环
[2025-11-19 00:36:03] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0003_output.wav，时长 35.89s
[2025-11-19 00:36:03] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0003_output.wav
[2025-11-19 00:36:03] 处理完成: 0009_0003.wav
[2025-11-19 00:36:03] -----------------------------------
[2025-11-19 00:36:03] 开始处理文件: 0009_0006.wav
[2025-11-19 00:36:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:36:03] 初始化输出 buffer，总时长 34.17s（546720 samples）
[2025-11-19 00:36:03] 开始发送 0009_0006.wav，总帧 2136，时长 34.17s
[2025-11-19 00:36:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.503, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.148, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.244, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.433, 'turn': 0, 'state': 'LISTEN', 'content': '处方药和非处方药有什么区别'}}
[2025-11-19 00:36:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.451, 'infer_time': 0.202, 'content': '处方药需医生开方，非处方药可自行购买。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.765, 'infer_time': 0.308, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:08] 收到 tts_done, timestamp=4.765s
[2025-11-19 00:36:08] 在 4.76s 插入 TTS（3.99s）
[2025-11-19 00:36:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.069}}
[2025-11-19 00:36:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.581, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.238, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.888, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.987, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.083, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '处方药和非处方药有什么区别'}]}, {'role': 'assistant', 'content': '处方药需医生开方，非处方药可自行购买。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.242, 'infer_time': 0.155, 'content': '需要出示医生开具的处方单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '处方药和非处方药有什么区别'}]}, {'role': 'assistant', 'content': '处方药需医生开方，非处方药可自行购买。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.264, 'turn': 1, 'state': 'LISTEN', 'content': '如果处方药在药店购买时需要出示什么证明吗'}}
[2025-11-19 00:36:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.484, 'infer_time': 0.237, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:19] 收到 tts_done, timestamp=15.484s
[2025-11-19 00:36:19] 在 15.48s 插入 TTS（2.80s）
[2025-11-19 00:36:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 19.742}}
[2025-11-19 00:36:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.249, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.202, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.853, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.955, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.052, 'infer_time': 0.091, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '处方药和非处方药有什么区别'}]}, {'role': 'assistant', 'content': '处方药需医生开方，非处方药可自行购买。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果处方药在药店购买时需要出示什么证明吗'}]}, {'role': 'assistant', 'content': '需要出示医生开具的处方单。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.175, 'infer_time': 0.123, 'content': '需要出示医生开具的处方单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '处方药和非处方药有什么区别'}]}, {'role': 'assistant', 'content': '处方药需医生开方，非处方药可自行购买。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果处方药在药店购买时需要出示什么证明吗'}]}, {'role': 'assistant', 'content': '需要出示医生开具的处方单。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.371, 'infer_time': 0.191, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:36:29] 收到 tts_done, timestamp=26.371s
[2025-11-19 00:36:29] 在 26.37s 插入 TTS（2.35s）
[2025-11-19 00:36:39] 音频发送完毕，用时 35.47s
[2025-11-19 00:36:39] WebSocket 已关闭，结束接收循环
[2025-11-19 00:36:39] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0006_output.wav，时长 34.17s
[2025-11-19 00:36:39] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0006_output.wav
[2025-11-19 00:36:39] 处理完成: 0009_0006.wav
[2025-11-19 00:36:39] -----------------------------------
[2025-11-19 00:36:39] 开始处理文件: 0009_0007.wav
[2025-11-19 00:36:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:36:39] 初始化输出 buffer，总时长 36.73s（587680 samples）
[2025-11-19 00:36:39] 开始发送 0009_0007.wav，总帧 2296，时长 36.73s
[2025-11-19 00:36:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.936, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.585, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.69, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.849, 'turn': 0, 'state': 'LISTEN', 'content': '文化融合在全球化背景下有哪些积极影响'}}
[2025-11-19 00:36:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.887, 'infer_time': 0.192, 'content': '促进理解，减少偏见，推动世界和平发展。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.262, 'infer_time': 0.371, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:36:45] 收到 tts_done, timestamp=6.262s
[2025-11-19 00:36:45] 在 6.26s 插入 TTS（4.84s）
[2025-11-19 00:36:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.522}}
[2025-11-19 00:36:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.031, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.143, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.79, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.888, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.98, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合在全球化背景下有哪些积极影响'}]}, {'role': 'assistant', 'content': '促进理解，减少偏见，推动世界和平发展。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.182, 'turn': 1, 'state': 'LISTEN', 'content': '文化融合会不会导致传统文化的消失呢'}}
[2025-11-19 00:36:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.19, 'infer_time': 0.205, 'content': '文化融合是互补而非取代，传统会以新形式延续。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合在全球化背景下有哪些积极影响'}]}, {'role': 'assistant', 'content': '促进理解，减少偏见，推动世界和平发展。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.575, 'infer_time': 0.379, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:36:55] 收到 tts_done, timestamp=16.575s
[2025-11-19 00:36:55] 在 16.57s 插入 TTS（5.28s）
[2025-11-19 00:37:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 23.086}}
[2025-11-19 00:37:03] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 24.597, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 27.845, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 28.495, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.597, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.69, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合在全球化背景下有哪些积极影响'}]}, {'role': 'assistant', 'content': '促进理解，减少偏见，推动世界和平发展。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合会不会导致传统文化的消失呢'}]}, {'role': 'assistant', 'content': '文化融合是互补而非取代，传统会以新形式延续。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.869, 'infer_time': 0.178, 'content': '文化融合是互补而非取代，传统会以新形式延续。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合在全球化背景下有哪些积极影响'}]}, {'role': 'assistant', 'content': '促进理解，减少偏见，推动世界和平发展。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化融合会不会导致传统文化的消失呢'}]}, {'role': 'assistant', 'content': '文化融合是互补而非取代，传统会以新形式延续。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 29.238, 'infer_time': 0.364, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:08] 收到 tts_done, timestamp=29.238s
[2025-11-19 00:37:08] 在 29.24s 插入 TTS（4.86s）
[2025-11-19 00:37:17] 音频发送完毕，用时 38.11s
[2025-11-19 00:37:17] WebSocket 已关闭，结束接收循环
[2025-11-19 00:37:17] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0007_output.wav，时长 36.73s
[2025-11-19 00:37:17] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0007_output.wav
[2025-11-19 00:37:17] 处理完成: 0009_0007.wav
[2025-11-19 00:37:17] -----------------------------------
[2025-11-19 00:37:17] 开始处理文件: 0009_0008.wav
[2025-11-19 00:37:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:37:17] 初始化输出 buffer，总时长 34.16s（546560 samples）
[2025-11-19 00:37:17] 开始发送 0009_0008.wav，总帧 2135，时长 34.16s
[2025-11-19 00:37:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.607, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.263, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.362, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.52, 'turn': 0, 'state': 'LISTEN', 'content': '推动吞噬恒星的过程是怎样的'}}
[2025-11-19 00:37:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.54, 'infer_time': 0.174, 'content': '黑洞通过强大引力撕裂并吞噬恒星。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.812, 'infer_time': 0.265, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:22] 收到 tts_done, timestamp=4.812s
[2025-11-19 00:37:22] 在 4.81s 插入 TTS（3.28s）
[2025-11-19 00:37:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.171}}
[2025-11-19 00:37:27] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.685, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.328, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.983, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.078, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.166, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '推动吞噬恒星的过程是怎样的'}]}, {'role': 'assistant', 'content': '黑洞通过强大引力撕裂并吞噬恒星。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.298, 'turn': 1, 'state': 'LISTEN', 'content': '被撕裂的气体最终会去哪里'}}
[2025-11-19 00:37:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.333, 'infer_time': 0.162, 'content': '落入黑洞或形成吸积盘发光。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '推动吞噬恒星的过程是怎样的'}]}, {'role': 'assistant', 'content': '黑洞通过强大引力撕裂并吞噬恒星。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.565, 'infer_time': 0.225, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:37:30] 收到 tts_done, timestamp=13.565s
[2025-11-19 00:37:30] 在 13.56s 插入 TTS（2.76s）
[2025-11-19 00:37:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.187}}
[2025-11-19 00:37:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.699, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.132, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.152, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 25.799, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.899, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.013, 'infer_time': 0.109, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '推动吞噬恒星的过程是怎样的'}]}, {'role': 'assistant', 'content': '黑洞通过强大引力撕裂并吞噬恒星。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被撕裂的气体最终会去哪里'}]}, {'role': 'assistant', 'content': '落入黑洞或形成吸积盘发光。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.229, 'infer_time': 0.209, 'content': '好啊，一起去尝尝新开的拿铁吧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '推动吞噬恒星的过程是怎样的'}]}, {'role': 'assistant', 'content': '黑洞通过强大引力撕裂并吞噬恒星。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '被撕裂的气体最终会去哪里'}]}, {'role': 'assistant', 'content': '落入黑洞或形成吸积盘发光。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 26.272, 'turn': 2, 'state': 'LISTEN', 'content': '要不要一起去新开的咖啡馆坐坐听说他们的拿铁很特别'}}
[2025-11-19 00:37:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.506, 'infer_time': 0.27, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:37:43] 收到 tts_done, timestamp=26.506s
[2025-11-19 00:37:43] 在 26.51s 插入 TTS（3.46s）
[2025-11-19 00:37:52] 音频发送完毕，用时 35.33s
[2025-11-19 00:37:52] WebSocket 已关闭，结束接收循环
[2025-11-19 00:37:52] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0008_output.wav，时长 34.16s
[2025-11-19 00:37:52] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0008_output.wav
[2025-11-19 00:37:52] 处理完成: 0009_0008.wav
[2025-11-19 00:37:52] -----------------------------------
[2025-11-19 00:37:52] 开始处理文件: 0009_0011.wav
[2025-11-19 00:37:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:37:52] 初始化输出 buffer，总时长 36.32s（581120 samples）
[2025-11-19 00:37:52] 开始发送 0009_0011.wav，总帧 2270，时长 36.32s
[2025-11-19 00:37:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.541, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.189, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.292, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.446, 'infer_time': 0.15, 'content': '融合数字技术，创新工艺传承。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.485, 'turn': 0, 'state': 'LISTEN', 'content': '在数字化时代传统手工艺行业如何保持竞争力'}}
[2025-11-19 00:37:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.732, 'infer_time': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:37:59] 收到 tts_done, timestamp=6.732s
[2025-11-19 00:37:59] 在 6.73s 插入 TTS（3.52s）
[2025-11-19 00:38:03] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.186}}
[2025-11-19 00:38:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.696, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.057, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.697, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.792, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.881, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在数字化时代传统手工艺行业如何保持竞争力'}]}, {'role': 'assistant', 'content': '融合数字技术，创新工艺传承。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.015, 'turn': 1, 'state': 'LISTEN', 'content': '社交媒体具体能帮到哪些方面呢'}}
[2025-11-19 00:38:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.064, 'infer_time': 0.178, 'content': '扩大宣传，直接对接客户，提升品牌影响力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在数字化时代传统手工艺行业如何保持竞争力'}]}, {'role': 'assistant', 'content': '融合数字技术，创新工艺传承。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.393, 'infer_time': 0.324, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:08] 收到 tts_done, timestamp=16.393s
[2025-11-19 00:38:08] 在 16.39s 插入 TTS（4.21s）
[2025-11-19 00:38:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.377}}
[2025-11-19 00:38:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.887, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 27.566, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 28.214, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.315, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.431, 'infer_time': 0.11, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在数字化时代传统手工艺行业如何保持竞争力'}]}, {'role': 'assistant', 'content': '融合数字技术，创新工艺传承。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '社交媒体具体能帮到哪些方面呢'}]}, {'role': 'assistant', 'content': '扩大宣传，直接对接客户，提升品牌影响力。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 28.619, 'infer_time': 0.182, 'content': '先准备工具材料，学习基础技法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在数字化时代传统手工艺行业如何保持竞争力'}]}, {'role': 'assistant', 'content': '融合数字技术，创新工艺传承。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '社交媒体具体能帮到哪些方面呢'}]}, {'role': 'assistant', 'content': '扩大宣传，直接对接客户，提升品牌影响力。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 28.7, 'turn': 2, 'state': 'LISTEN', 'content': '我最近想尝试用粘土做一个小花瓶不知道从哪里开始比较好'}}
[2025-11-19 00:38:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 28.863, 'infer_time': 0.237, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:21] 收到 tts_done, timestamp=28.863s
[2025-11-19 00:38:21] 在 28.86s 插入 TTS（3.03s）
[2025-11-19 00:38:30] 音频发送完毕，用时 37.69s
[2025-11-19 00:38:30] WebSocket 已关闭，结束接收循环
[2025-11-19 00:38:30] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0011_output.wav，时长 36.32s
[2025-11-19 00:38:30] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0011_output.wav
[2025-11-19 00:38:30] 处理完成: 0009_0011.wav
[2025-11-19 00:38:30] -----------------------------------
[2025-11-19 00:38:30] 开始处理文件: 0009_0013.wav
[2025-11-19 00:38:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:38:30] 初始化输出 buffer，总时长 33.02s（528320 samples）
[2025-11-19 00:38:30] 开始发送 0009_0013.wav，总帧 2064，时长 33.02s
[2025-11-19 00:38:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.498, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.24, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.395, 'turn': 0, 'state': 'LISTEN', 'content': '眼药水开封后多久就不能用了'}}
[2025-11-19 00:38:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.402, 'infer_time': 0.159, 'content': '一般建议开封后一个月内用完。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.603, 'infer_time': 0.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:38:34] 收到 tts_done, timestamp=4.603s
[2025-11-19 00:38:34] 在 4.60s 插入 TTS（2.33s）
[2025-11-19 00:38:39] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.057}}
[2025-11-19 00:38:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.567, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.928, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.583, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.678, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.77, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '眼药水开封后多久就不能用了'}]}, {'role': 'assistant', 'content': '一般建议开封后一个月内用完。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.904, 'turn': 1, 'state': 'LISTEN', 'content': '如果超过一个月用了会有什么后果'}}
[2025-11-19 00:38:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.913, 'infer_time': 0.14, 'content': '可能引起眼部感染或刺激。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '眼药水开封后多久就不能用了'}]}, {'role': 'assistant', 'content': '一般建议开封后一个月内用完。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.097, 'infer_time': 0.179, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:38:44] 收到 tts_done, timestamp=14.097s
[2025-11-19 00:38:44] 在 14.10s 插入 TTS（2.15s）
[2025-11-19 00:38:48] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.256}}
[2025-11-19 00:38:50] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.762, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.752, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.891, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.545, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.648, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.746, 'infer_time': 0.092, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '眼药水开封后多久就不能用了'}]}, {'role': 'assistant', 'content': '一般建议开封后一个月内用完。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果超过一个月用了会有什么后果'}]}, {'role': 'assistant', 'content': '可能引起眼部感染或刺激。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.854, 'infer_time': 0.108, 'content': '可能引起眼部感染或刺激。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '眼药水开封后多久就不能用了'}]}, {'role': 'assistant', 'content': '一般建议开封后一个月内用完。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果超过一个月用了会有什么后果'}]}, {'role': 'assistant', 'content': '可能引起眼部感染或刺激。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.093, 'infer_time': 0.234, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:38:55] 收到 tts_done, timestamp=25.093s
[2025-11-19 00:38:55] 在 25.09s 插入 TTS（2.86s）
[2025-11-19 00:39:04] 音频发送完毕，用时 34.16s
[2025-11-19 00:39:04] WebSocket 已关闭，结束接收循环
[2025-11-19 00:39:04] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0013_output.wav，时长 33.02s
[2025-11-19 00:39:04] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0013_output.wav
[2025-11-19 00:39:04] 处理完成: 0009_0013.wav
[2025-11-19 00:39:04] -----------------------------------
[2025-11-19 00:39:04] 开始处理文件: 0009_0015.wav
[2025-11-19 00:39:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:39:04] 初始化输出 buffer，总时长 28.73s（459680 samples）
[2025-11-19 00:39:04] 开始发送 0009_0015.wav，总帧 1796，时长 28.73s
[2025-11-19 00:39:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.962, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.6, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.336, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.498, 'turn': 0, 'state': 'LISTEN', 'content': '力量训练时如何正确呼吸'}}
[2025-11-19 00:39:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.506, 'infer_time': 0.166, 'content': '发力时呼气，放松时吸气。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.735, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:09] 收到 tts_done, timestamp=4.735s
[2025-11-19 00:39:09] 在 4.74s 插入 TTS（2.84s）
[2025-11-19 00:39:13] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.813}}
[2025-11-19 00:39:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.325, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.293, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.946, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.039, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.13, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '力量训练时如何正确呼吸'}]}, {'role': 'assistant', 'content': '发力时呼气，放松时吸气。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.269, 'turn': 1, 'state': 'LISTEN', 'content': '做卧推的时候也是这样吗'}}
[2025-11-19 00:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.347, 'infer_time': 0.213, 'content': '是的，下放时吸气，推起时呼气。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '力量训练时如何正确呼吸'}]}, {'role': 'assistant', 'content': '发力时呼气，放松时吸气。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.696, 'infer_time': 0.343, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:17] 收到 tts_done, timestamp=12.696s
[2025-11-19 00:39:17] 在 12.70s 插入 TTS（4.60s）
[2025-11-19 00:39:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.741}}
[2025-11-19 00:39:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.249, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.586, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.235, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.328, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.417, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '力量训练时如何正确呼吸'}]}, {'role': 'assistant', 'content': '发力时呼气，放松时吸气。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '做卧推的时候也是这样吗'}]}, {'role': 'assistant', 'content': '是的，下放时吸气，推起时呼气。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.572, 'infer_time': 0.155, 'content': '下放时吸气，推起时呼气。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '力量训练时如何正确呼吸'}]}, {'role': 'assistant', 'content': '发力时呼气，放松时吸气。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '做卧推的时候也是这样吗'}]}, {'role': 'assistant', 'content': '是的，下放时吸气，推起时呼气。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.799, 'infer_time': 0.222, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:25] 收到 tts_done, timestamp=20.799s
[2025-11-19 00:39:25] 在 20.80s 插入 TTS（2.76s）
[2025-11-19 00:39:34] 音频发送完毕，用时 29.68s
[2025-11-19 00:39:34] WebSocket 已关闭，结束接收循环
[2025-11-19 00:39:34] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0015_output.wav，时长 28.73s
[2025-11-19 00:39:34] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0015_output.wav
[2025-11-19 00:39:34] 处理完成: 0009_0015.wav
[2025-11-19 00:39:34] -----------------------------------
[2025-11-19 00:39:34] 开始处理文件: 0009_0019.wav
[2025-11-19 00:39:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:39:34] 初始化输出 buffer，总时长 34.71s（555360 samples）
[2025-11-19 00:39:34] 开始发送 0009_0019.wav，总帧 2170，时长 34.71s
[2025-11-19 00:39:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.045, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.69, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.787, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.934, 'turn': 0, 'state': 'LISTEN', 'content': '老年人去医院看病需要注意哪些事项'}}
[2025-11-19 00:39:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.961, 'infer_time': 0.169, 'content': '带齐证件和药品清单，提前预约。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.238, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:39:39] 收到 tts_done, timestamp=5.238s
[2025-11-19 00:39:39] 在 5.24s 插入 TTS（3.53s）
[2025-11-19 00:39:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.652}}
[2025-11-19 00:39:45] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.162, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.967, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.616, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.718, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.809, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '老年人去医院看病需要注意哪些事项'}]}, {'role': 'assistant', 'content': '带齐证件和药品清单，提前预约。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.951, 'turn': 1, 'state': 'LISTEN', 'content': '说老人行动不便医院有哪些便利措施'}}
[2025-11-19 00:39:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.984, 'infer_time': 0.171, 'content': '多数医院设无障碍通道和轮椅服务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '老年人去医院看病需要注意哪些事项'}]}, {'role': 'assistant', 'content': '带齐证件和药品清单，提前预约。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.234, 'infer_time': 0.243, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:39:49] 收到 tts_done, timestamp=15.234s
[2025-11-19 00:39:49] 在 15.23s 插入 TTS（3.08s）
[2025-11-19 00:39:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 19.245}}
[2025-11-19 00:39:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.756, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:39:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.838, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 26.486, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.59, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.684, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '老年人去医院看病需要注意哪些事项'}]}, {'role': 'assistant', 'content': '带齐证件和药品清单，提前预约。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '说老人行动不便医院有哪些便利措施'}]}, {'role': 'assistant', 'content': '多数医院设无障碍通道和轮椅服务。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.824, 'infer_time': 0.139, 'content': '多数医院设无障碍通道和轮椅服务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '老年人去医院看病需要注意哪些事项'}]}, {'role': 'assistant', 'content': '带齐证件和药品清单，提前预约。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '说老人行动不便医院有哪些便利措施'}]}, {'role': 'assistant', 'content': '多数医院设无障碍通道和轮椅服务。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 27.11, 'infer_time': 0.281, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:01] 收到 tts_done, timestamp=27.11s
[2025-11-19 00:40:01] 在 27.11s 插入 TTS（3.69s）
[2025-11-19 00:40:10] 音频发送完毕，用时 35.99s
[2025-11-19 00:40:10] WebSocket 已关闭，结束接收循环
[2025-11-19 00:40:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0019_output.wav，时长 34.71s
[2025-11-19 00:40:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0019_output.wav
[2025-11-19 00:40:10] 处理完成: 0009_0019.wav
[2025-11-19 00:40:10] -----------------------------------
[2025-11-19 00:40:10] 开始处理文件: 0009_0020.wav
[2025-11-19 00:40:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:40:10] 初始化输出 buffer，总时长 34.70s（555200 samples）
[2025-11-19 00:40:10] 开始发送 0009_0020.wav，总帧 2169，时长 34.70s
[2025-11-19 00:40:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.959, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.6, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.702, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.902, 'infer_time': 0.194, 'content': '多问当地人，他们最清楚哪里有隐藏瀑布。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.983, 'turn': 0, 'state': 'LISTEN', 'content': '在探索小众秘境时如何找到那些未开发的隐藏瀑布'}}
[2025-11-19 00:40:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.206, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:18] 收到 tts_done, timestamp=8.206s
[2025-11-19 00:40:18] 在 8.21s 插入 TTS（3.96s）
[2025-11-19 00:40:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 12.049}}
[2025-11-19 00:40:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.559, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.648, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.292, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.386, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.478, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在探索小众秘境时如何找到那些未开发的隐藏瀑布'}]}, {'role': 'assistant', 'content': '多问当地人，他们最清楚哪里有隐藏瀑布。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.615, 'turn': 1, 'state': 'LISTEN', 'content': '三星地图具体用什么软件比较好'}}
[2025-11-19 00:40:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.68, 'infer_time': 0.197, 'content': '推荐使用奥维互动地图，支持离线卫星图。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在探索小众秘境时如何找到那些未开发的隐藏瀑布'}]}, {'role': 'assistant', 'content': '多问当地人，他们最清楚哪里有隐藏瀑布。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.013, 'infer_time': 0.328, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:27] 收到 tts_done, timestamp=17.013s
[2025-11-19 00:40:27] 在 17.01s 插入 TTS（4.29s）
[2025-11-19 00:40:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 21.41}}
[2025-11-19 00:40:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 22.921, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.793, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 26.441, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.541, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.635, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在探索小众秘境时如何找到那些未开发的隐藏瀑布'}]}, {'role': 'assistant', 'content': '多问当地人，他们最清楚哪里有隐藏瀑布。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '三星地图具体用什么软件比较好'}]}, {'role': 'assistant', 'content': '推荐使用奥维互动地图，支持离线卫星图。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 26.799, 'turn': 2, 'state': 'LISTEN', 'content': '我要参加一个婚礼穿什么颜色的西装比较合适呢'}}
[2025-11-19 00:40:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.877, 'infer_time': 0.237, 'content': '深灰或藏青色西装最稳妥，显得正式又不抢眼。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在探索小众秘境时如何找到那些未开发的隐藏瀑布'}]}, {'role': 'assistant', 'content': '多问当地人，他们最清楚哪里有隐藏瀑布。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '三星地图具体用什么软件比较好'}]}, {'role': 'assistant', 'content': '推荐使用奥维互动地图，支持离线卫星图。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 27.239, 'infer_time': 0.356, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:40:37] 收到 tts_done, timestamp=27.239s
[2025-11-19 00:40:37] 在 27.24s 插入 TTS（4.77s）
[2025-11-19 00:40:46] 音频发送完毕，用时 35.97s
[2025-11-19 00:40:46] WebSocket 已关闭，结束接收循环
[2025-11-19 00:40:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0020_output.wav，时长 34.70s
[2025-11-19 00:40:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0020_output.wav
[2025-11-19 00:40:46] 处理完成: 0009_0020.wav
[2025-11-19 00:40:46] -----------------------------------
[2025-11-19 00:40:46] 开始处理文件: 0009_0026.wav
[2025-11-19 00:40:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:40:46] 初始化输出 buffer，总时长 33.07s（529120 samples）
[2025-11-19 00:40:46] 开始发送 0009_0026.wav，总帧 2067，时长 33.07s
[2025-11-19 00:40:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.87, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.526, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.623, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.809, 'infer_time': 0.182, 'content': '资金短缺、市场竞争和团队建设是主要挑战。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.824, 'turn': 0, 'state': 'LISTEN', 'content': '创业初期通常面临哪些主要挑战'}}
[2025-11-19 00:40:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.137, 'infer_time': 0.323, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:40:51] 收到 tts_done, timestamp=5.137s
[2025-11-19 00:40:51] 在 5.14s 插入 TTS（4.37s）
[2025-11-19 00:40:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.506}}
[2025-11-19 00:40:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.018, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.209, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:40:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.862, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.959, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.05, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '创业初期通常面临哪些主要挑战'}]}, {'role': 'assistant', 'content': '资金短缺、市场竞争和团队建设是主要挑战。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.189, 'turn': 1, 'state': 'LISTEN', 'content': '资金短缺具体体现在哪些方面'}}
[2025-11-19 00:41:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.226, 'infer_time': 0.171, 'content': '现金流不足、融资困难和运营成本高。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '创业初期通常面临哪些主要挑战'}]}, {'role': 'assistant', 'content': '资金短缺、市场竞争和团队建设是主要挑战。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.543, 'infer_time': 0.31, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:00] 收到 tts_done, timestamp=14.543s
[2025-11-19 00:41:00] 在 14.54s 插入 TTS（4.01s）
[2025-11-19 00:41:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.574}}
[2025-11-19 00:41:06] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.082, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.252, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 24.004, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.652, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.756, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.85, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '创业初期通常面临哪些主要挑战'}]}, {'role': 'assistant', 'content': '资金短缺、市场竞争和团队建设是主要挑战。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '资金短缺具体体现在哪些方面'}]}, {'role': 'assistant', 'content': '现金流不足、融资困难和运营成本高。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.989, 'infer_time': 0.138, 'content': '现金流不足、融资困难和运营成本高。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '创业初期通常面临哪些主要挑战'}]}, {'role': 'assistant', 'content': '资金短缺、市场竞争和团队建设是主要挑战。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '资金短缺具体体现在哪些方面'}]}, {'role': 'assistant', 'content': '现金流不足、融资困难和运营成本高。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.271, 'infer_time': 0.276, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:11] 收到 tts_done, timestamp=25.271s
[2025-11-19 00:41:11] 在 25.27s 插入 TTS（3.69s）
[2025-11-19 00:41:20] 音频发送完毕，用时 34.18s
[2025-11-19 00:41:20] WebSocket 已关闭，结束接收循环
[2025-11-19 00:41:20] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0026_output.wav，时长 33.07s
[2025-11-19 00:41:20] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0026_output.wav
[2025-11-19 00:41:20] 处理完成: 0009_0026.wav
[2025-11-19 00:41:20] -----------------------------------
[2025-11-19 00:41:20] 开始处理文件: 0009_0031.wav
[2025-11-19 00:41:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:41:20] 初始化输出 buffer，总时长 34.50s（552000 samples）
[2025-11-19 00:41:20] 开始发送 0009_0031.wav，总帧 2157，时长 34.50s
[2025-11-19 00:41:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.618, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.375, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.549, 'infer_time': 0.17, 'content': '可以写回忆、趣事或鼓励的话。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.602, 'turn': 0, 'state': 'LISTEN', 'content': '生日贺卡上除了祝福语还可以写些什么内容'}}
[2025-11-19 00:41:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.803, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:41:26] 收到 tts_done, timestamp=5.803s
[2025-11-19 00:41:26] 在 5.80s 插入 TTS（3.12s）
[2025-11-19 00:41:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.133}}
[2025-11-19 00:41:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.644, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.99, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.644, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.745, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.842, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日贺卡上除了祝福语还可以写些什么内容'}]}, {'role': 'assistant', 'content': '可以写回忆、趣事或鼓励的话。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.999, 'infer_time': 0.152, 'content': '写大概印象或感受也很好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日贺卡上除了祝福语还可以写些什么内容'}]}, {'role': 'assistant', 'content': '可以写回忆、趣事或鼓励的话。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.005, 'turn': 1, 'state': 'LISTEN', 'content': '如果回忆比较久远记不清具体细节怎么办'}}
[2025-11-19 00:41:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.223, 'infer_time': 0.218, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:41:36] 收到 tts_done, timestamp=16.223s
[2025-11-19 00:41:36] 在 16.22s 插入 TTS（2.65s）
[2025-11-19 00:41:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.306}}
[2025-11-19 00:41:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.815, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.605, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 26.253, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.354, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.447, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日贺卡上除了祝福语还可以写些什么内容'}]}, {'role': 'assistant', 'content': '可以写回忆、趣事或鼓励的话。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果回忆比较久远记不清具体细节怎么办'}]}, {'role': 'assistant', 'content': '写大概印象或感受也很好。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.563, 'infer_time': 0.116, 'content': '写大概印象或感受也很好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日贺卡上除了祝福语还可以写些什么内容'}]}, {'role': 'assistant', 'content': '可以写回忆、趣事或鼓励的话。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果回忆比较久远记不清具体细节怎么办'}]}, {'role': 'assistant', 'content': '写大概印象或感受也很好。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.818, 'infer_time': 0.25, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:41:47] 收到 tts_done, timestamp=26.818s
[2025-11-19 00:41:47] 在 26.82s 插入 TTS（3.19s）
[2025-11-19 00:41:56] 音频发送完毕，用时 35.76s
[2025-11-19 00:41:56] WebSocket 已关闭，结束接收循环
[2025-11-19 00:41:56] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0031_output.wav，时长 34.50s
[2025-11-19 00:41:56] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0031_output.wav
[2025-11-19 00:41:56] 处理完成: 0009_0031.wav
[2025-11-19 00:41:56] -----------------------------------
[2025-11-19 00:41:56] 开始处理文件: 0009_0035.wav
[2025-11-19 00:41:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:41:56] 初始化输出 buffer，总时长 31.87s（509920 samples）
[2025-11-19 00:41:56] 开始发送 0009_0035.wav，总帧 1992，时长 31.87s
[2025-11-19 00:41:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.849, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.949, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.131, 'turn': 0, 'state': 'LISTEN', 'content': '我的肤色偏黄应该选什么色号的口红比较合适'}}
[2025-11-19 00:42:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.146, 'infer_time': 0.192, 'content': '暖调豆沙色或橘红色更衬肤色。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.432, 'infer_time': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:02] 收到 tts_done, timestamp=6.432s
[2025-11-19 00:42:02] 在 6.43s 插入 TTS（3.49s）
[2025-11-19 00:42:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.934}}
[2025-11-19 00:42:08] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.447, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.498, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.153, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.247, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.334, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的肤色偏黄应该选什么色号的口红比较合适'}]}, {'role': 'assistant', 'content': '暖调豆沙色或橘红色更衬肤色。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.456, 'turn': 1, 'state': 'LISTEN', 'content': '沙色适合我们'}}
[2025-11-19 00:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.531, 'infer_time': 0.193, 'content': '豆沙色很适合黄皮，显白又自然。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的肤色偏黄应该选什么色号的口红比较合适'}]}, {'role': 'assistant', 'content': '暖调豆沙色或橘红色更衬肤色。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.886, 'infer_time': 0.35, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:09] 收到 tts_done, timestamp=13.886s
[2025-11-19 00:42:09] 在 13.89s 插入 TTS（4.58s）
[2025-11-19 00:42:13] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.892}}
[2025-11-19 00:42:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.406, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.507, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.156, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.251, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.346, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的肤色偏黄应该选什么色号的口红比较合适'}]}, {'role': 'assistant', 'content': '暖调豆沙色或橘红色更衬肤色。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '沙色适合我们'}]}, {'role': 'assistant', 'content': '豆沙色很适合黄皮，显白又自然。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.512, 'infer_time': 0.165, 'content': '豆沙色很适合黄皮，显白又自然。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的肤色偏黄应该选什么色号的口红比较合适'}]}, {'role': 'assistant', 'content': '暖调豆沙色或橘红色更衬肤色。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '沙色适合我们'}]}, {'role': 'assistant', 'content': '豆沙色很适合黄皮，显白又自然。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.77, 'infer_time': 0.252, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:19] 收到 tts_done, timestamp=23.77s
[2025-11-19 00:42:19] 在 23.77s 插入 TTS（3.23s）
[2025-11-19 00:42:28] 音频发送完毕，用时 32.76s
[2025-11-19 00:42:28] WebSocket 已关闭，结束接收循环
[2025-11-19 00:42:28] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0009_0035_output.wav，时长 31.87s
[2025-11-19 00:42:28] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0009_0035_output.wav
[2025-11-19 00:42:28] 处理完成: 0009_0035.wav
[2025-11-19 00:42:28] -----------------------------------
[2025-11-19 00:42:28] 开始处理文件: 0010_0001.wav
[2025-11-19 00:42:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:42:28] 初始化输出 buffer，总时长 28.72s（459520 samples）
[2025-11-19 00:42:28] 开始发送 0010_0001.wav，总帧 1795，时长 28.72s
[2025-11-19 00:42:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.458, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.202, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.358, 'turn': 0, 'state': 'LISTEN', 'content': '中医里气血不足有哪些典型症状'}}
[2025-11-19 00:42:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.39, 'infer_time': 0.184, 'content': '面色苍白、乏力、心悸、月经量少等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.794, 'infer_time': 0.399, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:42:33] 收到 tts_done, timestamp=4.794s
[2025-11-19 00:42:33] 在 4.79s 插入 TTS（5.61s）
[2025-11-19 00:42:37] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.659}}
[2025-11-19 00:42:39] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.166, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.302, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.955, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.045, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.13, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中医里气血不足有哪些典型症状'}]}, {'role': 'assistant', 'content': '面色苍白、乏力、心悸、月经量少等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.237, 'turn': 1, 'state': 'LISTEN', 'content': '怕头晕眼花具体是什么感觉'}}
[2025-11-19 00:42:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.332, 'infer_time': 0.197, 'content': '感觉天旋地转，站不稳，眼前发黑', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中医里气血不足有哪些典型症状'}]}, {'role': 'assistant', 'content': '面色苍白、乏力、心悸、月经量少等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.603, 'infer_time': 0.265, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:42:41] 收到 tts_done, timestamp=12.603s
[2025-11-19 00:42:41] 在 12.60s 插入 TTS（3.42s）
[2025-11-19 00:42:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.546}}
[2025-11-19 00:42:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.054, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.39, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.04, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.133, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.217, 'infer_time': 0.08, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中医里气血不足有哪些典型症状'}]}, {'role': 'assistant', 'content': '面色苍白、乏力、心悸、月经量少等'}, {'role': 'user', 'content': [{'type': 'text', 'text': '怕头晕眼花具体是什么感觉'}]}, {'role': 'assistant', 'content': '感觉天旋地转，站不稳，眼前发黑'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.381, 'infer_time': 0.163, 'content': '感觉天旋地转，站不稳，眼前发黑', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中医里气血不足有哪些典型症状'}]}, {'role': 'assistant', 'content': '面色苍白、乏力、心悸、月经量少等'}, {'role': 'user', 'content': [{'type': 'text', 'text': '怕头晕眼花具体是什么感觉'}]}, {'role': 'assistant', 'content': '感觉天旋地转，站不稳，眼前发黑'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.701, 'infer_time': 0.313, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:42:49] 收到 tts_done, timestamp=20.701s
[2025-11-19 00:42:49] 在 20.70s 插入 TTS（4.14s）
[2025-11-19 00:42:58] 音频发送完毕，用时 29.50s
[2025-11-19 00:42:58] WebSocket 已关闭，结束接收循环
[2025-11-19 00:42:58] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0001_output.wav，时长 28.72s
[2025-11-19 00:42:58] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0001_output.wav
[2025-11-19 00:42:58] 处理完成: 0010_0001.wav
[2025-11-19 00:42:58] -----------------------------------
[2025-11-19 00:42:58] 开始处理文件: 0010_0006.wav
[2025-11-19 00:42:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:42:58] 初始化输出 buffer，总时长 33.05s（528800 samples）
[2025-11-19 00:42:58] 开始发送 0010_0006.wav，总帧 2066，时长 33.05s
[2025-11-19 00:42:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.706, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.357, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.451, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.623, 'infer_time': 0.167, 'content': '血型影响游戏偏好尚无科学依据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.662, 'turn': 0, 'state': 'LISTEN', 'content': '血情真的会影响一个人喜欢的游戏类型吗'}}
[2025-11-19 00:43:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.873, 'infer_time': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:03] 收到 tts_done, timestamp=4.873s
[2025-11-19 00:43:03] 在 4.87s 插入 TTS（3.07s）
[2025-11-19 00:43:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.964}}
[2025-11-19 00:43:08] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.468, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.62, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.633, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.285, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.383, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.474, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血情真的会影响一个人喜欢的游戏类型吗'}]}, {'role': 'assistant', 'content': '血型影响游戏偏好尚无科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.643, 'turn': 1, 'state': 'LISTEN', 'content': '那 b 型血的人通常会喜欢什么类型的游戏呢'}}
[2025-11-19 00:43:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.662, 'infer_time': 0.182, 'content': 'B型血偏好多样，无固定游戏类型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血情真的会影响一个人喜欢的游戏类型吗'}]}, {'role': 'assistant', 'content': '血型影响游戏偏好尚无科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.95, 'infer_time': 0.283, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:13] 收到 tts_done, timestamp=14.95s
[2025-11-19 00:43:13] 在 14.95s 插入 TTS（3.61s）
[2025-11-19 00:43:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 19.064}}
[2025-11-19 00:43:18] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.571, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.231, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.052, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.993, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.641, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.74, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.832, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血情真的会影响一个人喜欢的游戏类型吗'}]}, {'role': 'assistant', 'content': '血型影响游戏偏好尚无科学依据。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那 b 型血的人通常会喜欢什么类型的游戏呢'}]}, {'role': 'assistant', 'content': 'B型血偏好多样，无固定游戏类型。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 25.009, 'infer_time': 0.172, 'content': '穿防滑耐磨的登山鞋最合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血情真的会影响一个人喜欢的游戏类型吗'}]}, {'role': 'assistant', 'content': '血型影响游戏偏好尚无科学依据。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那 b 型血的人通常会喜欢什么类型的游戏呢'}]}, {'role': 'assistant', 'content': 'B型血偏好多样，无固定游戏类型。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 25.05, 'turn': 2, 'state': 'LISTEN', 'content': '周末去爬香山的话应该穿哪双鞋比较合适'}}
[2025-11-19 00:43:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 25.226, 'infer_time': 0.212, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:23] 收到 tts_done, timestamp=25.226s
[2025-11-19 00:43:23] 在 25.23s 插入 TTS（2.64s）
[2025-11-19 00:43:32] 音频发送完毕，用时 34.10s
[2025-11-19 00:43:32] WebSocket 已关闭，结束接收循环
[2025-11-19 00:43:32] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0006_output.wav，时长 33.05s
[2025-11-19 00:43:32] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0006_output.wav
[2025-11-19 00:43:32] 处理完成: 0010_0006.wav
[2025-11-19 00:43:32] -----------------------------------
[2025-11-19 00:43:32] 开始处理文件: 0010_0007.wav
[2025-11-19 00:43:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:43:32] 初始化输出 buffer，总时长 27.79s（444640 samples）
[2025-11-19 00:43:32] 开始发送 0010_0007.wav，总帧 1737，时长 27.79s
[2025-11-19 00:43:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.949, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.147, 'infer_time': 0.194, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.247, 'turn': 0, 'state': 'LISTEN', 'content': '车牌丢了该怎么补办'}}
[2025-11-19 00:43:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.295, 'infer_time': 0.143, 'content': '别担心，补办流程很简单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.513, 'infer_time': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:43:36] 收到 tts_done, timestamp=3.513s
[2025-11-19 00:43:36] 在 3.51s 插入 TTS（2.57s）
[2025-11-19 00:43:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.636}}
[2025-11-19 00:43:41] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.145, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.942, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.594, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.687, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.769, 'infer_time': 0.079, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '车牌丢了该怎么补办'}]}, {'role': 'assistant', 'content': '别担心，补办流程很简单。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 10.867, 'turn': 1, 'state': 'LISTEN', 'content': '线上平台具体是哪些'}}
[2025-11-19 00:43:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.984, 'infer_time': 0.21, 'content': '交管12123、支付宝、微信都可办。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '车牌丢了该怎么补办'}]}, {'role': 'assistant', 'content': '别担心，补办流程很简单。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.321, 'infer_time': 0.331, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:43:43] 收到 tts_done, timestamp=11.321s
[2025-11-19 00:43:43] 在 11.32s 插入 TTS（4.37s）
[2025-11-19 00:43:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 15.215}}
[2025-11-19 00:43:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 16.723, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.008, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.393, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.041, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.133, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.218, 'infer_time': 0.08, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '车牌丢了该怎么补办'}]}, {'role': 'assistant', 'content': '别担心，补办流程很简单。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '线上平台具体是哪些'}]}, {'role': 'assistant', 'content': '交管12123、支付宝、微信都可办。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.401, 'infer_time': 0.183, 'content': '交管12123、支付宝、微信都可办。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '车牌丢了该怎么补办'}]}, {'role': 'assistant', 'content': '别担心，补办流程很简单。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '线上平台具体是哪些'}]}, {'role': 'assistant', 'content': '交管12123、支付宝、微信都可办。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 19.735, 'infer_time': 0.328, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:43:52] 收到 tts_done, timestamp=19.735s
[2025-11-19 00:43:52] 在 19.73s 插入 TTS（4.46s）
[2025-11-19 00:44:00] 音频发送完毕，用时 28.52s
[2025-11-19 00:44:00] WebSocket 已关闭，结束接收循环
[2025-11-19 00:44:00] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0007_output.wav，时长 27.79s
[2025-11-19 00:44:00] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0007_output.wav
[2025-11-19 00:44:00] 处理完成: 0010_0007.wav
[2025-11-19 00:44:00] -----------------------------------
[2025-11-19 00:44:00] 开始处理文件: 0010_0008.wav
[2025-11-19 00:44:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:44:00] 初始化输出 buffer，总时长 31.70s（507200 samples）
[2025-11-19 00:44:00] 开始发送 0010_0008.wav，总帧 1982，时长 31.70s
[2025-11-19 00:44:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.61, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.26, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.358, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.561, 'infer_time': 0.198, 'content': '柳条插后要保持湿润，避免阳光直射。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.583, 'turn': 0, 'state': 'LISTEN', 'content': '清明插柳时柳条应该怎么处理才能保持新鲜'}}
[2025-11-19 00:44:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.876, 'infer_time': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:06] 收到 tts_done, timestamp=5.876s
[2025-11-19 00:44:06] 在 5.88s 插入 TTS（4.05s）
[2025-11-19 00:44:10] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.934}}
[2025-11-19 00:44:12] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.434, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.295, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.946, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.037, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.125, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明插柳时柳条应该怎么处理才能保持新鲜'}]}, {'role': 'assistant', 'content': '柳条插后要保持湿润，避免阳光直射。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.225, 'turn': 1, 'state': 'LISTEN', 'content': '那浸泡多久比较合适呢'}}
[2025-11-19 00:44:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.335, 'infer_time': 0.206, 'content': '浸泡2-3小时即可，让柳条充分吸水。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明插柳时柳条应该怎么处理才能保持新鲜'}]}, {'role': 'assistant', 'content': '柳条插后要保持湿润，避免阳光直射。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.628, 'infer_time': 0.287, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:14] 收到 tts_done, timestamp=13.628s
[2025-11-19 00:44:14] 在 13.63s 插入 TTS（3.82s）
[2025-11-19 00:44:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.491}}
[2025-11-19 00:44:20] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.999, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.657, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.457, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.106, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.204, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.299, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明插柳时柳条应该怎么处理才能保持新鲜'}]}, {'role': 'assistant', 'content': '柳条插后要保持湿润，避免阳光直射。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那浸泡多久比较合适呢'}]}, {'role': 'assistant', 'content': '浸泡2-3小时即可，让柳条充分吸水。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 23.462, 'turn': 2, 'state': 'LISTEN', 'content': '周末我要去参加一个婚礼穿什么颜色的礼服比较合适'}}
[2025-11-19 00:44:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.487, 'infer_time': 0.182, 'content': '白色或浅色系礼服比较得体。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明插柳时柳条应该怎么处理才能保持新鲜'}]}, {'role': 'assistant', 'content': '柳条插后要保持湿润，避免阳光直射。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那浸泡多久比较合适呢'}]}, {'role': 'assistant', 'content': '浸泡2-3小时即可，让柳条充分吸水。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.738, 'infer_time': 0.247, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:24] 收到 tts_done, timestamp=23.738s
[2025-11-19 00:44:24] 在 23.74s 插入 TTS（3.17s）
[2025-11-19 00:44:33] 音频发送完毕，用时 32.63s
[2025-11-19 00:44:33] WebSocket 已关闭，结束接收循环
[2025-11-19 00:44:33] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0008_output.wav，时长 31.70s
[2025-11-19 00:44:33] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0008_output.wav
[2025-11-19 00:44:33] 处理完成: 0010_0008.wav
[2025-11-19 00:44:33] -----------------------------------
[2025-11-19 00:44:33] 开始处理文件: 0010_0012.wav
[2025-11-19 00:44:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:44:33] 初始化输出 buffer，总时长 30.15s（482400 samples）
[2025-11-19 00:44:33] 开始发送 0010_0012.wav，总帧 1885，时长 30.15s
[2025-11-19 00:44:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.986, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.638, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.729, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.875, 'infer_time': 0.143, 'content': '出门戴口罩，回家勤洗脸。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.88, 'turn': 0, 'state': 'LISTEN', 'content': '花粉浓度高的时候应该怎么防护'}}
[2025-11-19 00:44:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.097, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:44:37] 收到 tts_done, timestamp=4.097s
[2025-11-19 00:44:37] 在 4.10s 插入 TTS（2.72s）
[2025-11-19 00:44:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.226}}
[2025-11-19 00:44:43] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.732, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.918, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.381, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.031, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.13, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.22, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '花粉浓度高的时候应该怎么防护'}]}, {'role': 'assistant', 'content': '出门戴口罩，回家勤洗脸。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.399, 'turn': 1, 'state': 'LISTEN', 'content': '那如果必须出门需要采取哪些具体措施'}}
[2025-11-19 00:44:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.403, 'infer_time': 0.179, 'content': '戴防花粉口罩，穿长袖衣物。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '花粉浓度高的时候应该怎么防护'}]}, {'role': 'assistant', 'content': '出门戴口罩，回家勤洗脸。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.629, 'infer_time': 0.22, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:44:47] 收到 tts_done, timestamp=13.629s
[2025-11-19 00:44:47] 在 13.63s 插入 TTS（2.86s）
[2025-11-19 00:44:51] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 17.577}}
[2025-11-19 00:44:52] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.081, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.859, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.507, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.595, 'infer_time': 0.083, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.682, 'infer_time': 0.083, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '花粉浓度高的时候应该怎么防护'}]}, {'role': 'assistant', 'content': '出门戴口罩，回家勤洗脸。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果必须出门需要采取哪些具体措施'}]}, {'role': 'assistant', 'content': '戴防花粉口罩，穿长袖衣物。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.792, 'infer_time': 0.109, 'content': '回家后及时洗澡换衣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '花粉浓度高的时候应该怎么防护'}]}, {'role': 'assistant', 'content': '出门戴口罩，回家勤洗脸。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果必须出门需要采取哪些具体措施'}]}, {'role': 'assistant', 'content': '戴防花粉口罩，穿长袖衣物。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.984, 'infer_time': 0.187, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:44:55] 收到 tts_done, timestamp=21.984s
[2025-11-19 00:44:55] 在 21.98s 插入 TTS（2.34s）
[2025-11-19 00:45:04] 音频发送完毕，用时 31.01s
[2025-11-19 00:45:04] WebSocket 已关闭，结束接收循环
[2025-11-19 00:45:04] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0012_output.wav，时长 30.15s
[2025-11-19 00:45:04] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0012_output.wav
[2025-11-19 00:45:04] 处理完成: 0010_0012.wav
[2025-11-19 00:45:04] -----------------------------------
[2025-11-19 00:45:04] 开始处理文件: 0010_0013.wav
[2025-11-19 00:45:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:45:04] 初始化输出 buffer，总时长 29.55s（472800 samples）
[2025-11-19 00:45:04] 开始发送 0010_0013.wav，总帧 1847，时长 29.55s
[2025-11-19 00:45:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.172, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.986, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.638, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.735, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.911, 'turn': 0, 'state': 'LISTEN', 'content': '为什么说愚人节是个倒霉的节日'}}
[2025-11-19 00:45:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.938, 'infer_time': 0.198, 'content': '愚人节整蛊可能让人尴尬，所以有人觉得倒霉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.27, 'infer_time': 0.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:08] 收到 tts_done, timestamp=4.27s
[2025-11-19 00:45:08] 在 4.27s 插入 TTS（4.34s）
[2025-11-19 00:45:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.217}}
[2025-11-19 00:45:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.534, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 00:45:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.734, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.982, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.633, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.726, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.814, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么说愚人节是个倒霉的节日'}]}, {'role': 'assistant', 'content': '愚人节整蛊可能让人尴尬，所以有人觉得倒霉。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.935, 'turn': 1, 'state': 'LISTEN', 'content': '那如果被骗了怎么避免尴尬'}}
[2025-11-19 00:45:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.992, 'infer_time': 0.174, 'content': '保持幽默，自嘲一下就化解尴尬了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么说愚人节是个倒霉的节日'}]}, {'role': 'assistant', 'content': '愚人节整蛊可能让人尴尬，所以有人觉得倒霉。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.245, 'infer_time': 0.248, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:16] 收到 tts_done, timestamp=12.245s
[2025-11-19 00:45:16] 在 12.24s 插入 TTS（3.26s）
[2025-11-19 00:45:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.211}}
[2025-11-19 00:45:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.715, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.814, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.222, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.87, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.968, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.058, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么说愚人节是个倒霉的节日'}]}, {'role': 'assistant', 'content': '愚人节整蛊可能让人尴尬，所以有人觉得倒霉。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果被骗了怎么避免尴尬'}]}, {'role': 'assistant', 'content': '保持幽默，自嘲一下就化解尴尬了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 21.197, 'turn': 2, 'state': 'LISTEN', 'content': '我得赶紧把客厅的地板拖一遍灰尘太多了'}}
[2025-11-19 00:45:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.251, 'infer_time': 0.188, 'content': '拖地前先扫一遍，灰尘会少很多。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么说愚人节是个倒霉的节日'}]}, {'role': 'assistant', 'content': '愚人节整蛊可能让人尴尬，所以有人觉得倒霉。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果被骗了怎么避免尴尬'}]}, {'role': 'assistant', 'content': '保持幽默，自嘲一下就化解尴尬了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.541, 'infer_time': 0.284, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:26] 收到 tts_done, timestamp=21.541s
[2025-11-19 00:45:26] 在 21.54s 插入 TTS（3.78s）
[2025-11-19 00:45:35] 音频发送完毕，用时 30.34s
[2025-11-19 00:45:35] WebSocket 已关闭，结束接收循环
[2025-11-19 00:45:35] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0013_output.wav，时长 29.55s
[2025-11-19 00:45:35] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0013_output.wav
[2025-11-19 00:45:35] 处理完成: 0010_0013.wav
[2025-11-19 00:45:35] -----------------------------------
[2025-11-19 00:45:35] 开始处理文件: 0010_0014.wav
[2025-11-19 00:45:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:45:35] 初始化输出 buffer，总时长 34.53s（552480 samples）
[2025-11-19 00:45:35] 开始发送 0010_0014.wav，总帧 2159，时长 34.53s
[2025-11-19 00:45:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.156, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.709, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.848, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.094, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.744, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.853, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.024, 'infer_time': 0.168, 'content': '政府提供分类设施补贴和环保奖励。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.12, 'turn': 0, 'state': 'LISTEN', 'content': '我们小区最近开始实施垃圾分类请问政府有哪些具体的支持政策'}}
[2025-11-19 00:45:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.283, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:45:43] 收到 tts_done, timestamp=8.283s
[2025-11-19 00:45:43] 在 8.28s 插入 TTS（3.23s）
[2025-11-19 00:45:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 12.261}}
[2025-11-19 00:45:48] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.767, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.173, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.823, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.916, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.006, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们小区最近开始实施垃圾分类请问政府有哪些具体的支持政策'}]}, {'role': 'assistant', 'content': '政府提供分类设施补贴和环保奖励。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.134, 'turn': 1, 'state': 'LISTEN', 'content': '这些分类垃圾桶是免费发放的吗'}}
[2025-11-19 00:45:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.176, 'infer_time': 0.166, 'content': '部分小区免费发放，具体需咨询物业。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们小区最近开始实施垃圾分类请问政府有哪些具体的支持政策'}]}, {'role': 'assistant', 'content': '政府提供分类设施补贴和环保奖励。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.44, 'infer_time': 0.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:45:51] 收到 tts_done, timestamp=16.44s
[2025-11-19 00:45:51] 在 16.44s 插入 TTS（3.36s）
[2025-11-19 00:45:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 20.415}}
[2025-11-19 00:45:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 21.926, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:45:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.55, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 25.522, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 26.17, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.268, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.363, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们小区最近开始实施垃圾分类请问政府有哪些具体的支持政策'}]}, {'role': 'assistant', 'content': '政府提供分类设施补贴和环保奖励。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些分类垃圾桶是免费发放的吗'}]}, {'role': 'assistant', 'content': '部分小区免费发放，具体需咨询物业。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 26.5, 'infer_time': 0.136, 'content': '部分小区免费发放，具体需咨询物业。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我们小区最近开始实施垃圾分类请问政府有哪些具体的支持政策'}]}, {'role': 'assistant', 'content': '政府提供分类设施补贴和环保奖励。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '这些分类垃圾桶是免费发放的吗'}]}, {'role': 'assistant', 'content': '部分小区免费发放，具体需咨询物业。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 26.801, 'infer_time': 0.296, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:01] 收到 tts_done, timestamp=26.801s
[2025-11-19 00:46:01] 在 26.80s 插入 TTS（3.95s）
[2025-11-19 00:46:10] 音频发送完毕，用时 35.63s
[2025-11-19 00:46:10] WebSocket 已关闭，结束接收循环
[2025-11-19 00:46:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0014_output.wav，时长 34.53s
[2025-11-19 00:46:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0014_output.wav
[2025-11-19 00:46:10] 处理完成: 0010_0014.wav
[2025-11-19 00:46:10] -----------------------------------
[2025-11-19 00:46:10] 开始处理文件: 0010_0018.wav
[2025-11-19 00:46:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:46:10] 初始化输出 buffer，总时长 30.41s（486560 samples）
[2025-11-19 00:46:10] 开始发送 0010_0018.wav，总帧 1901，时长 30.41s
[2025-11-19 00:46:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.703, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.359, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.459, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.602, 'turn': 0, 'state': 'LISTEN', 'content': '生肌训练中如何安排蛋白质摄入时间'}}
[2025-11-19 00:46:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.608, 'infer_time': 0.145, 'content': '训练前后补充蛋白质效果更佳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.848, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:15] 收到 tts_done, timestamp=4.848s
[2025-11-19 00:46:15] 在 4.85s 插入 TTS（2.94s）
[2025-11-19 00:46:19] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.038}}
[2025-11-19 00:46:21] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.542, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.779, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.429, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.52, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.604, 'infer_time': 0.08, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生肌训练中如何安排蛋白质摄入时间'}]}, {'role': 'assistant', 'content': '训练前后补充蛋白质效果更佳。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.764, 'turn': 1, 'state': 'LISTEN', 'content': '训练后多久补充蛋白质最有效'}}
[2025-11-19 00:46:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.783, 'infer_time': 0.175, 'content': '训练后30分钟内补充蛋白质效果最佳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生肌训练中如何安排蛋白质摄入时间'}]}, {'role': 'assistant', 'content': '训练前后补充蛋白质效果更佳。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.079, 'infer_time': 0.291, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:23] 收到 tts_done, timestamp=13.079s
[2025-11-19 00:46:23] 在 13.08s 插入 TTS（3.69s）
[2025-11-19 00:46:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.954}}
[2025-11-19 00:46:29] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 18.461, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.154, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.14, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 21.79, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.888, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.976, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生肌训练中如何安排蛋白质摄入时间'}]}, {'role': 'assistant', 'content': '训练前后补充蛋白质效果更佳。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '训练后多久补充蛋白质最有效'}]}, {'role': 'assistant', 'content': '训练后30分钟内补充蛋白质效果最佳。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 22.122, 'infer_time': 0.145, 'content': '训练后30分钟内补充蛋白质效果最佳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生肌训练中如何安排蛋白质摄入时间'}]}, {'role': 'assistant', 'content': '训练前后补充蛋白质效果更佳。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '训练后多久补充蛋白质最有效'}]}, {'role': 'assistant', 'content': '训练后30分钟内补充蛋白质效果最佳。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 22.427, 'infer_time': 0.301, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:46:33] 收到 tts_done, timestamp=22.427s
[2025-11-19 00:46:33] 在 22.43s 插入 TTS（3.88s）
[2025-11-19 00:46:41] 音频发送完毕，用时 31.31s
[2025-11-19 00:46:41] WebSocket 已关闭，结束接收循环
[2025-11-19 00:46:42] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0018_output.wav，时长 30.41s
[2025-11-19 00:46:42] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0018_output.wav
[2025-11-19 00:46:42] 处理完成: 0010_0018.wav
[2025-11-19 00:46:42] -----------------------------------
[2025-11-19 00:46:42] 开始处理文件: 0010_0019.wav
[2025-11-19 00:46:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:46:42] 初始化输出 buffer，总时长 29.59s（473440 samples）
[2025-11-19 00:46:42] 开始发送 0010_0019.wav，总帧 1850，时长 29.59s
[2025-11-19 00:46:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.849, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.501, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.592, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.716, 'turn': 0, 'state': 'LISTEN', 'content': '洛芬缓释胶囊应该怎么服用'}}
[2025-11-19 00:46:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.756, 'infer_time': 0.161, 'content': '请遵医嘱或参考药品说明书服用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.001, 'infer_time': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:46:46] 收到 tts_done, timestamp=4.001s
[2025-11-19 00:46:46] 在 4.00s 插入 TTS（3.02s）
[2025-11-19 00:46:50] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.046}}
[2025-11-19 00:46:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.55, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.568, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.082, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.733, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.828, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.918, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洛芬缓释胶囊应该怎么服用'}]}, {'role': 'assistant', 'content': '请遵医嘱或参考药品说明书服用。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.032, 'turn': 1, 'state': 'LISTEN', 'content': '那如果忘记吃饭可以空腹吃吗'}}
[2025-11-19 00:46:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.146, 'infer_time': 0.224, 'content': '洛芬缓释胶囊建议饭后服用，避免空腹刺激肠胃。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洛芬缓释胶囊应该怎么服用'}]}, {'role': 'assistant', 'content': '请遵医嘱或参考药品说明书服用。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.523, 'infer_time': 0.372, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:46:54] 收到 tts_done, timestamp=12.523s
[2025-11-19 00:46:54] 在 12.52s 插入 TTS（4.93s）
[2025-11-19 00:46:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 16.322}}
[2025-11-19 00:46:59] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 17.83, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.304, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.315, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.965, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.06, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.153, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洛芬缓释胶囊应该怎么服用'}]}, {'role': 'assistant', 'content': '请遵医嘱或参考药品说明书服用。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果忘记吃饭可以空腹吃吗'}]}, {'role': 'assistant', 'content': '洛芬缓释胶囊建议饭后服用，避免空腹刺激肠胃。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 21.334, 'turn': 2, 'state': 'LISTEN', 'content': '不知道科目二考试能不能一次通过好紧张啊'}}
[2025-11-19 00:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 21.336, 'infer_time': 0.178, 'content': '科目二考试多练习，保持冷静就能过。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '洛芬缓释胶囊应该怎么服用'}]}, {'role': 'assistant', 'content': '请遵医嘱或参考药品说明书服用。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果忘记吃饭可以空腹吃吗'}]}, {'role': 'assistant', 'content': '洛芬缓释胶囊建议饭后服用，避免空腹刺激肠胃。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 21.61, 'infer_time': 0.27, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:03] 收到 tts_done, timestamp=21.61s
[2025-11-19 00:47:03] 在 21.61s 插入 TTS（3.49s）
[2025-11-19 00:47:12] 音频发送完毕，用时 30.43s
[2025-11-19 00:47:12] WebSocket 已关闭，结束接收循环
[2025-11-19 00:47:12] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0019_output.wav，时长 29.59s
[2025-11-19 00:47:12] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0019_output.wav
[2025-11-19 00:47:12] 处理完成: 0010_0019.wav
[2025-11-19 00:47:12] -----------------------------------
[2025-11-19 00:47:12] 开始处理文件: 0010_0027.wav
[2025-11-19 00:47:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:47:12] 初始化输出 buffer，总时长 32.63s（522080 samples）
[2025-11-19 00:47:12] 开始发送 0010_0027.wav，总帧 2040，时长 32.63s
[2025-11-19 00:47:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.94, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.591, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.686, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.865, 'turn': 0, 'state': 'LISTEN', 'content': '如何为小户型客厅选择色彩搭配'}}
[2025-11-19 00:47:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.887, 'infer_time': 0.196, 'content': '小户型客厅宜用浅色系，显空间大。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.194, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:17] 收到 tts_done, timestamp=5.194s
[2025-11-19 00:47:17] 在 5.19s 插入 TTS（3.99s）
[2025-11-19 00:47:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.148}}
[2025-11-19 00:47:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.657, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.268, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.515, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.165, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.264, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.357, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何为小户型客厅选择色彩搭配'}]}, {'role': 'assistant', 'content': '小户型客厅宜用浅色系，显空间大。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.504, 'turn': 1, 'state': 'LISTEN', 'content': '那如果我想加入一些亮色点缀应该注意什么'}}
[2025-11-19 00:47:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.561, 'infer_time': 0.199, 'content': '亮色点缀要小面积使用，避免视觉杂乱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何为小户型客厅选择色彩搭配'}]}, {'role': 'assistant', 'content': '小户型客厅宜用浅色系，显空间大。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.864, 'infer_time': 0.298, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:27] 收到 tts_done, timestamp=14.864s
[2025-11-19 00:47:27] 在 14.86s 插入 TTS（3.80s）
[2025-11-19 00:47:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.715}}
[2025-11-19 00:47:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.222, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.562, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 24.211, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.307, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.4, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何为小户型客厅选择色彩搭配'}]}, {'role': 'assistant', 'content': '小户型客厅宜用浅色系，显空间大。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果我想加入一些亮色点缀应该注意什么'}]}, {'role': 'assistant', 'content': '亮色点缀要小面积使用，避免视觉杂乱。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.566, 'infer_time': 0.165, 'content': '亮色点缀要小面积使用，避免视觉杂乱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何为小户型客厅选择色彩搭配'}]}, {'role': 'assistant', 'content': '小户型客厅宜用浅色系，显空间大。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那如果我想加入一些亮色点缀应该注意什么'}]}, {'role': 'assistant', 'content': '亮色点缀要小面积使用，避免视觉杂乱。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.862, 'infer_time': 0.29, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:47:37] 收到 tts_done, timestamp=24.862s
[2025-11-19 00:47:37] 在 24.86s 插入 TTS（3.75s）
[2025-11-19 00:47:46] 音频发送完毕，用时 33.66s
[2025-11-19 00:47:46] WebSocket 已关闭，结束接收循环
[2025-11-19 00:47:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0027_output.wav，时长 32.63s
[2025-11-19 00:47:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0027_output.wav
[2025-11-19 00:47:46] 处理完成: 0010_0027.wav
[2025-11-19 00:47:46] -----------------------------------
[2025-11-19 00:47:46] 开始处理文件: 0010_0028.wav
[2025-11-19 00:47:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:47:46] 初始化输出 buffer，总时长 32.30s（516799 samples）
[2025-11-19 00:47:46] 开始发送 0010_0028.wav，总帧 2019，时长 32.30s
[2025-11-19 00:47:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.338, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.341, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.438, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.62, 'infer_time': 0.177, 'content': '可以做颈部拉伸，热敷放松肌肉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.666, 'turn': 0, 'state': 'LISTEN', 'content': '长时间低头看手机后颈部僵硬怎么缓解'}}
[2025-11-19 00:47:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.883, 'infer_time': 0.26, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:47:52] 收到 tts_done, timestamp=5.883s
[2025-11-19 00:47:52] 在 5.88s 插入 TTS（3.40s）
[2025-11-19 00:47:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.894}}
[2025-11-19 00:47:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.403, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.858, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.801, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.451, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.546, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.634, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '长时间低头看手机后颈部僵硬怎么缓解'}]}, {'role': 'assistant', 'content': '可以做颈部拉伸，热敷放松肌肉。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:47:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.747, 'turn': 1, 'state': 'LISTEN', 'content': '如果拉伸时感到疼痛该怎么办'}}
[2025-11-19 00:47:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.806, 'infer_time': 0.168, 'content': '立即停止拉伸，避免肌肉拉伤。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '长时间低头看手机后颈部僵硬怎么缓解'}]}, {'role': 'assistant', 'content': '可以做颈部拉伸，热敷放松肌肉。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.039, 'infer_time': 0.227, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:00] 收到 tts_done, timestamp=14.039s
[2025-11-19 00:48:00] 在 14.04s 插入 TTS（2.83s）
[2025-11-19 00:48:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.032}}
[2025-11-19 00:48:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 19.542, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.758, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 21.814, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 23.193, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.842, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.945, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.037, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '长时间低头看手机后颈部僵硬怎么缓解'}]}, {'role': 'assistant', 'content': '可以做颈部拉伸，热敷放松肌肉。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果拉伸时感到疼痛该怎么办'}]}, {'role': 'assistant', 'content': '立即停止拉伸，避免肌肉拉伤。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 24.174, 'infer_time': 0.136, 'content': '立即停止拉伸，避免肌肉拉伤。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '长时间低头看手机后颈部僵硬怎么缓解'}]}, {'role': 'assistant', 'content': '可以做颈部拉伸，热敷放松肌肉。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果拉伸时感到疼痛该怎么办'}]}, {'role': 'assistant', 'content': '立即停止拉伸，避免肌肉拉伤。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 24.423, 'infer_time': 0.241, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:10] 收到 tts_done, timestamp=24.423s
[2025-11-19 00:48:10] 在 24.42s 插入 TTS（3.03s）
[2025-11-19 00:48:19] 音频发送完毕，用时 33.25s
[2025-11-19 00:48:19] WebSocket 已关闭，结束接收循环
[2025-11-19 00:48:19] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0028_output.wav，时长 32.30s
[2025-11-19 00:48:19] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0028_output.wav
[2025-11-19 00:48:19] 处理完成: 0010_0028.wav
[2025-11-19 00:48:19] -----------------------------------
[2025-11-19 00:48:19] 开始处理文件: 0010_0032.wav
[2025-11-19 00:48:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:48:19] 初始化输出 buffer，总时长 31.92s（510720 samples）
[2025-11-19 00:48:19] 开始发送 0010_0032.wav，总帧 1995，时长 31.92s
[2025-11-19 00:48:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.921, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.574, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.677, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.86, 'infer_time': 0.179, 'content': '可以联系动物保护组织进行绝育放归。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.912, 'turn': 0, 'state': 'LISTEN', 'content': '校园里流浪猫太多有什么办法能控制他们的数量吗'}}
[2025-11-19 00:48:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.154, 'infer_time': 0.288, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:25] 收到 tts_done, timestamp=6.154s
[2025-11-19 00:48:25] 在 6.15s 插入 TTS（3.64s）
[2025-11-19 00:48:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.186}}
[2025-11-19 00:48:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.695, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.273, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.923, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.016, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.101, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园里流浪猫太多有什么办法能控制他们的数量吗'}]}, {'role': 'assistant', 'content': '可以联系动物保护组织进行绝育放归。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.215, 'turn': 1, 'state': 'LISTEN', 'content': '那绝育手术的费用一般由谁承担呢'}}
[2025-11-19 00:48:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.264, 'infer_time': 0.161, 'content': '通常由动物保护组织或政府承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园里流浪猫太多有什么办法能控制他们的数量吗'}]}, {'role': 'assistant', 'content': '可以联系动物保护组织进行绝育放归。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.515, 'infer_time': 0.247, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 00:48:33] 收到 tts_done, timestamp=14.515s
[2025-11-19 00:48:33] 在 14.52s 插入 TTS（3.11s）
[2025-11-19 00:48:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 18.611}}
[2025-11-19 00:48:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 20.102, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 00:48:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 20.577, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 22.732, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 23.382, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.481, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.573, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园里流浪猫太多有什么办法能控制他们的数量吗'}]}, {'role': 'assistant', 'content': '可以联系动物保护组织进行绝育放归。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那绝育手术的费用一般由谁承担呢'}]}, {'role': 'assistant', 'content': '通常由动物保护组织或政府承担。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 23.705, 'infer_time': 0.131, 'content': '通常由动物保护组织或政府承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园里流浪猫太多有什么办法能控制他们的数量吗'}]}, {'role': 'assistant', 'content': '可以联系动物保护组织进行绝育放归。'}, {'role': 'user', 'content': [{'type': 'text', 'text': '那绝育手术的费用一般由谁承担呢'}]}, {'role': 'assistant', 'content': '通常由动物保护组织或政府承担。'}], 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 23.933, 'infer_time': 0.222, 'turn': 2, 'state': 'LISTEN'}}
[2025-11-19 00:48:43] 收到 tts_done, timestamp=23.933s
[2025-11-19 00:48:43] 在 23.93s 插入 TTS（2.71s）
[2025-11-19 00:48:52] 音频发送完毕，用时 32.88s
[2025-11-19 00:48:52] WebSocket 已关闭，结束接收循环
[2025-11-19 00:48:52] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/0010_0032_output.wav，时长 31.92s
[2025-11-19 00:48:52] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/0010_0032_output.wav
[2025-11-19 00:48:52] 处理完成: 0010_0032.wav
[2025-11-19 00:48:52] -----------------------------------
[2025-11-19 00:48:52] 开始处理文件: clean_0003_0003.wav
[2025-11-19 00:48:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:48:52] 初始化输出 buffer，总时长 23.06s（368976 samples）
[2025-11-19 00:48:52] 开始发送 clean_0003_0003.wav，总帧 1442，时长 23.06s
[2025-11-19 00:48:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.042, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.881, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.531, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.629, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.802, 'infer_time': 0.169, 'content': '可以申诉或联系客服处理误判问题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.847, 'turn': 0, 'state': 'LISTEN', 'content': '那如果系统误判了原唱宝表情包怎么办'}}
[2025-11-19 00:48:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.082, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:48:57] 收到 tts_done, timestamp=5.082s
[2025-11-19 00:48:57] 在 5.08s 插入 TTS（3.63s）
[2025-11-19 00:49:15] 音频发送完毕，用时 23.50s
[2025-11-19 00:49:15] WebSocket 已关闭，结束接收循环
[2025-11-19 00:49:15] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0003_output.wav，时长 23.06s
[2025-11-19 00:49:15] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0003_output.wav
[2025-11-19 00:49:15] 处理完成: clean_0003_0003.wav
[2025-11-19 00:49:15] -----------------------------------
[2025-11-19 00:49:15] 开始处理文件: clean_0003_0005.wav
[2025-11-19 00:49:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:49:15] 初始化输出 buffer，总时长 23.53s（376496 samples）
[2025-11-19 00:49:15] 开始发送 clean_0003_0005.wav，总帧 1471，时长 23.53s
[2025-11-19 00:49:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.976, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.077, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.242, 'turn': 0, 'state': 'LISTEN', 'content': '光催化材料具体能分解哪些污染物'}}
[2025-11-19 00:49:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.265, 'infer_time': 0.184, 'content': '光催化材料可分解有机污染物、细菌病毒等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.623, 'infer_time': 0.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:20] 收到 tts_done, timestamp=4.623s
[2025-11-19 00:49:20] 在 4.62s 插入 TTS（4.38s）
[2025-11-19 00:49:39] 音频发送完毕，用时 23.98s
[2025-11-19 00:49:39] WebSocket 已关闭，结束接收循环
[2025-11-19 00:49:39] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0005_output.wav，时长 23.53s
[2025-11-19 00:49:39] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0005_output.wav
[2025-11-19 00:49:39] 处理完成: clean_0003_0005.wav
[2025-11-19 00:49:39] -----------------------------------
[2025-11-19 00:49:39] 开始处理文件: clean_0003_0008.wav
[2025-11-19 00:49:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:49:39] 初始化输出 buffer，总时长 21.34s（341456 samples）
[2025-11-19 00:49:39] 开始发送 clean_0003_0008.wav，总帧 1334，时长 21.34s
[2025-11-19 00:49:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.119, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.791, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.886, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.047, 'turn': 0, 'state': 'LISTEN', 'content': '龙凤图案具体用在哪些服饰上'}}
[2025-11-19 00:49:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.087, 'infer_time': 0.197, 'content': '龙凤图案常见于婚嫁服饰和传统礼服。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.395, 'infer_time': 0.302, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:49:44] 收到 tts_done, timestamp=4.395s
[2025-11-19 00:49:44] 在 4.39s 插入 TTS（4.00s）
[2025-11-19 00:50:01] 音频发送完毕，用时 21.73s
[2025-11-19 00:50:01] WebSocket 已关闭，结束接收循环
[2025-11-19 00:50:01] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0008_output.wav，时长 21.34s
[2025-11-19 00:50:01] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0008_output.wav
[2025-11-19 00:50:01] 处理完成: clean_0003_0008.wav
[2025-11-19 00:50:01] -----------------------------------
[2025-11-19 00:50:01] 开始处理文件: clean_0003_0010.wav
[2025-11-19 00:50:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:50:01] 初始化输出 buffer，总时长 21.23s（339696 samples）
[2025-11-19 00:50:01] 开始发送 clean_0003_0010.wav，总帧 1327，时长 21.23s
[2025-11-19 00:50:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.512, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.162, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.256, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.436, 'turn': 0, 'state': 'LISTEN', 'content': '那泡脚时间应该控制在多久'}}
[2025-11-19 00:50:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.455, 'infer_time': 0.195, 'content': '泡脚时间一般控制在15到20分钟。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.722, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:05] 收到 tts_done, timestamp=3.722s
[2025-11-19 00:50:05] 在 3.72s 插入 TTS（3.25s）
[2025-11-19 00:50:23] 音频发送完毕，用时 21.62s
[2025-11-19 00:50:23] WebSocket 已关闭，结束接收循环
[2025-11-19 00:50:23] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0010_output.wav，时长 21.23s
[2025-11-19 00:50:23] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0010_output.wav
[2025-11-19 00:50:23] 处理完成: clean_0003_0010.wav
[2025-11-19 00:50:23] -----------------------------------
[2025-11-19 00:50:23] 开始处理文件: clean_0003_0011.wav
[2025-11-19 00:50:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:50:23] 初始化输出 buffer，总时长 23.26s（372176 samples）
[2025-11-19 00:50:23] 开始发送 clean_0003_0011.wav，总帧 1454，时长 23.26s
[2025-11-19 00:50:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.545, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.195, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.289, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.408, 'turn': 0, 'state': 'LISTEN', 'content': '那如果只是喝一杯温牛奶呢'}}
[2025-11-19 00:50:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.446, 'infer_time': 0.154, 'content': '温牛奶有助于睡眠，可以喝一杯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.699, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:26] 收到 tts_done, timestamp=3.699s
[2025-11-19 00:50:26] 在 3.70s 插入 TTS（3.17s）
[2025-11-19 00:50:46] 音频发送完毕，用时 23.66s
[2025-11-19 00:50:46] WebSocket 已关闭，结束接收循环
[2025-11-19 00:50:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0011_output.wav，时长 23.26s
[2025-11-19 00:50:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0011_output.wav
[2025-11-19 00:50:46] 处理完成: clean_0003_0011.wav
[2025-11-19 00:50:46] -----------------------------------
[2025-11-19 00:50:46] 开始处理文件: clean_0003_0015.wav
[2025-11-19 00:50:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:50:46] 初始化输出 buffer，总时长 21.16s（338576 samples）
[2025-11-19 00:50:46] 开始发送 clean_0003_0015.wav，总帧 1323，时长 21.16s
[2025-11-19 00:50:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.344, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.994, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.197, 'infer_time': 0.199, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.365, 'turn': 0, 'state': 'LISTEN', 'content': '他具体是怎么指引方向的呢'}}
[2025-11-19 00:50:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.365, 'infer_time': 0.164, 'content': '通过语音提示和导航箭头指引方向。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.623, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:50:50] 收到 tts_done, timestamp=3.623s
[2025-11-19 00:50:50] 在 3.62s 插入 TTS（3.15s）
[2025-11-19 00:51:08] 音频发送完毕，用时 21.53s
[2025-11-19 00:51:08] WebSocket 已关闭，结束接收循环
[2025-11-19 00:51:08] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0015_output.wav，时长 21.16s
[2025-11-19 00:51:08] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0015_output.wav
[2025-11-19 00:51:08] 处理完成: clean_0003_0015.wav
[2025-11-19 00:51:08] -----------------------------------
[2025-11-19 00:51:08] 开始处理文件: clean_0003_0017.wav
[2025-11-19 00:51:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:51:08] 初始化输出 buffer，总时长 20.85s（333616 samples）
[2025-11-19 00:51:08] 开始发送 clean_0003_0017.wav，总帧 1304，时长 20.85s
[2025-11-19 00:51:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.043, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.017, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.666, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.756, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.936, 'turn': 0, 'state': 'LISTEN', 'content': '那夜市的小吃卫生状况通常怎么样'}}
[2025-11-19 00:51:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.986, 'infer_time': 0.226, 'content': '夜市小吃卫生参差不齐，建议选择人多的摊位。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.34, 'infer_time': 0.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:12] 收到 tts_done, timestamp=4.34s
[2025-11-19 00:51:12] 在 4.34s 插入 TTS（4.61s）
[2025-11-19 00:51:29] 音频发送完毕，用时 21.24s
[2025-11-19 00:51:29] WebSocket 已关闭，结束接收循环
[2025-11-19 00:51:29] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0017_output.wav，时长 20.85s
[2025-11-19 00:51:29] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0017_output.wav
[2025-11-19 00:51:29] 处理完成: clean_0003_0017.wav
[2025-11-19 00:51:29] -----------------------------------
[2025-11-19 00:51:29] 开始处理文件: clean_0003_0020.wav
[2025-11-19 00:51:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:51:29] 初始化输出 buffer，总时长 20.63s（330096 samples）
[2025-11-19 00:51:29] 开始发送 clean_0003_0020.wav，总帧 1290，时长 20.63s
[2025-11-19 00:51:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.878, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.527, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.622, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.744, 'turn': 0, 'state': 'LISTEN', 'content': '那怎么查看当地的污染指数呢'}}
[2025-11-19 00:51:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.78, 'infer_time': 0.154, 'content': '打开天气App就能看到污染指数了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.051, 'infer_time': 0.266, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:33] 收到 tts_done, timestamp=4.051s
[2025-11-19 00:51:33] 在 4.05s 插入 TTS（3.36s）
[2025-11-19 00:51:50] 音频发送完毕，用时 21.05s
[2025-11-19 00:51:50] WebSocket 已关闭，结束接收循环
[2025-11-19 00:51:50] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0020_output.wav，时长 20.63s
[2025-11-19 00:51:50] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0020_output.wav
[2025-11-19 00:51:50] 处理完成: clean_0003_0020.wav
[2025-11-19 00:51:50] -----------------------------------
[2025-11-19 00:51:50] 开始处理文件: clean_0003_0021.wav
[2025-11-19 00:51:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:51:50] 初始化输出 buffer，总时长 20.89s（334256 samples）
[2025-11-19 00:51:50] 开始发送 clean_0003_0021.wav，总帧 1306，时长 20.89s
[2025-11-19 00:51:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.961, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.606, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.704, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.861, 'turn': 0, 'state': 'LISTEN', 'content': '那如果订单特别复杂他们怎么编故事'}}
[2025-11-19 00:51:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.894, 'infer_time': 0.186, 'content': '复杂订单需拆解细节，再串联成故事。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.18, 'infer_time': 0.282, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:51:54] 收到 tts_done, timestamp=4.18s
[2025-11-19 00:51:54] 在 4.18s 插入 TTS（3.70s）
[2025-11-19 00:52:11] 音频发送完毕，用时 21.18s
[2025-11-19 00:52:11] WebSocket 已关闭，结束接收循环
[2025-11-19 00:52:11] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0021_output.wav，时长 20.89s
[2025-11-19 00:52:11] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0021_output.wav
[2025-11-19 00:52:11] 处理完成: clean_0003_0021.wav
[2025-11-19 00:52:11] -----------------------------------
[2025-11-19 00:52:11] 开始处理文件: clean_0003_0026.wav
[2025-11-19 00:52:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:52:11] 初始化输出 buffer，总时长 22.90s（366416 samples）
[2025-11-19 00:52:11] 开始发送 clean_0003_0026.wav，总帧 1432，时长 22.90s
[2025-11-19 00:52:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.547, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.288, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.429, 'infer_time': 0.137, 'content': '发行量越少通常价值越高', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.433, 'turn': 0, 'state': 'LISTEN', 'content': '那发行量具体怎么影响价值呢'}}
[2025-11-19 00:52:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.657, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:15] 收到 tts_done, timestamp=3.657s
[2025-11-19 00:52:15] 在 3.66s 插入 TTS（2.74s）
[2025-11-19 00:52:35] 音频发送完毕，用时 23.30s
[2025-11-19 00:52:35] WebSocket 已关闭，结束接收循环
[2025-11-19 00:52:35] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0026_output.wav，时长 22.90s
[2025-11-19 00:52:35] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0026_output.wav
[2025-11-19 00:52:35] 处理完成: clean_0003_0026.wav
[2025-11-19 00:52:35] -----------------------------------
[2025-11-19 00:52:35] 开始处理文件: clean_0003_0030.wav
[2025-11-19 00:52:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:52:35] 初始化输出 buffer，总时长 21.67s（346736 samples）
[2025-11-19 00:52:35] 开始发送 clean_0003_0030.wav，总帧 1355，时长 21.67s
[2025-11-19 00:52:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.949, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.047, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.183, 'turn': 0, 'state': 'LISTEN', 'content': '那尾部羽毛具体怎么帮助控制方向呢'}}
[2025-11-19 00:52:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.264, 'infer_time': 0.214, 'content': '尾羽通过调整角度产生气流变化，从而控制飞行方向。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.668, 'infer_time': 0.398, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:39] 收到 tts_done, timestamp=4.668s
[2025-11-19 00:52:39] 在 4.67s 插入 TTS（5.30s）
[2025-11-19 00:52:57] 音频发送完毕，用时 22.12s
[2025-11-19 00:52:57] WebSocket 已关闭，结束接收循环
[2025-11-19 00:52:57] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0030_output.wav，时长 21.67s
[2025-11-19 00:52:57] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0030_output.wav
[2025-11-19 00:52:57] 处理完成: clean_0003_0030.wav
[2025-11-19 00:52:57] -----------------------------------
[2025-11-19 00:52:57] 开始处理文件: clean_0003_0033.wav
[2025-11-19 00:52:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:52:57] 初始化输出 buffer，总时长 23.39s（374256 samples）
[2025-11-19 00:52:57] 开始发送 clean_0003_0033.wav，总帧 1462，时长 23.39s
[2025-11-19 00:52:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.645, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:52:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.861, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.774, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.425, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.531, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.715, 'infer_time': 0.179, 'content': '面对挫折要冷静分析原因，从中吸取教训。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.743, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能重复一下如何面对重大挫折吗'}}
[2025-11-19 00:53:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.055, 'infer_time': 0.333, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:03] 收到 tts_done, timestamp=6.055s
[2025-11-19 00:53:03] 在 6.05s 插入 TTS（4.44s）
[2025-11-19 00:53:21] 音频发送完毕，用时 23.90s
[2025-11-19 00:53:21] WebSocket 已关闭，结束接收循环
[2025-11-19 00:53:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0033_output.wav，时长 23.39s
[2025-11-19 00:53:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0033_output.wav
[2025-11-19 00:53:21] 处理完成: clean_0003_0033.wav
[2025-11-19 00:53:21] -----------------------------------
[2025-11-19 00:53:21] 开始处理文件: clean_0003_0035.wav
[2025-11-19 00:53:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:53:21] 初始化输出 buffer，总时长 24.37s（389936 samples）
[2025-11-19 00:53:21] 开始发送 clean_0003_0035.wav，总帧 1524，时长 24.37s
[2025-11-19 00:53:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.673, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.987, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.98, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.079, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.275, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清楚能重新说一下缓解牙龈紧张的方法吗'}}
[2025-11-19 00:53:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.304, 'infer_time': 0.22, 'content': '深呼吸放松，转移注意力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.519, 'infer_time': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:27] 收到 tts_done, timestamp=6.519s
[2025-11-19 00:53:27] 在 6.52s 插入 TTS（2.52s）
[2025-11-19 00:53:46] 音频发送完毕，用时 24.91s
[2025-11-19 00:53:46] WebSocket 已关闭，结束接收循环
[2025-11-19 00:53:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0035_output.wav，时长 24.37s
[2025-11-19 00:53:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0003_0035_output.wav
[2025-11-19 00:53:46] 处理完成: clean_0003_0035.wav
[2025-11-19 00:53:46] -----------------------------------
[2025-11-19 00:53:46] 开始处理文件: clean_0004_0001.wav
[2025-11-19 00:53:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:53:46] 初始化输出 buffer，总时长 23.43s（374896 samples）
[2025-11-19 00:53:46] 开始发送 clean_0004_0001.wav，总帧 1465，时长 23.43s
[2025-11-19 00:53:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.364, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.015, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.118, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.307, 'infer_time': 0.183, 'content': 'AI偏见源于训练数据中的不平衡或偏差。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.375, 'turn': 0, 'state': 'LISTEN', 'content': '等等我没听清能再解释一遍 ai 偏见在训练数据中的产生原因吗'}}
[2025-11-19 00:53:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.586, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:53:53] 收到 tts_done, timestamp=7.586s
[2025-11-19 00:53:53] 在 7.59s 插入 TTS（3.45s）
[2025-11-19 00:54:10] 音频发送完毕，用时 24.09s
[2025-11-19 00:54:10] WebSocket 已关闭，结束接收循环
[2025-11-19 00:54:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0001_output.wav，时长 23.43s
[2025-11-19 00:54:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0001_output.wav
[2025-11-19 00:54:10] 处理完成: clean_0004_0001.wav
[2025-11-19 00:54:10] -----------------------------------
[2025-11-19 00:54:10] 开始处理文件: clean_0004_0002.wav
[2025-11-19 00:54:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:54:10] 初始化输出 buffer，总时长 24.33s（389296 samples）
[2025-11-19 00:54:10] 开始发送 clean_0004_0002.wav，总帧 1521，时长 24.33s
[2025-11-19 00:54:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.832, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.485, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.587, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.757, 'turn': 0, 'state': 'LISTEN', 'content': '等等能重复一下刚才说的定制婚礼歌曲的步骤吗'}}
[2025-11-19 00:54:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.791, 'infer_time': 0.199, 'content': '当然可以，我来重复一下定制婚礼歌曲的步骤。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.123, 'infer_time': 0.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:16] 收到 tts_done, timestamp=6.123s
[2025-11-19 00:54:16] 在 6.12s 插入 TTS（4.12s）
[2025-11-19 00:54:35] 音频发送完毕，用时 25.03s
[2025-11-19 00:54:35] WebSocket 已关闭，结束接收循环
[2025-11-19 00:54:35] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0002_output.wav，时长 24.33s
[2025-11-19 00:54:35] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0002_output.wav
[2025-11-19 00:54:35] 处理完成: clean_0004_0002.wav
[2025-11-19 00:54:35] -----------------------------------
[2025-11-19 00:54:35] 开始处理文件: clean_0004_0003.wav
[2025-11-19 00:54:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:54:35] 初始化输出 buffer，总时长 23.40s（374416 samples）
[2025-11-19 00:54:35] 开始发送 clean_0004_0003.wav，总帧 1463，时长 23.40s
[2025-11-19 00:54:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.818, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.918, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.096, 'infer_time': 0.172, 'content': '当然可以，夏天适合清爽短发造型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.148, 'turn': 0, 'state': 'LISTEN', 'content': '抱歉刚才没听清楚能再讲一遍夏天适合的短发造型吗'}}
[2025-11-19 00:54:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.381, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:54:41] 收到 tts_done, timestamp=6.381s
[2025-11-19 00:54:41] 在 6.38s 插入 TTS（3.57s）
[2025-11-19 00:54:59] 音频发送完毕，用时 24.06s
[2025-11-19 00:54:59] WebSocket 已关闭，结束接收循环
[2025-11-19 00:54:59] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0003_output.wav，时长 23.40s
[2025-11-19 00:54:59] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0003_output.wav
[2025-11-19 00:54:59] 处理完成: clean_0004_0003.wav
[2025-11-19 00:54:59] -----------------------------------
[2025-11-19 00:54:59] 开始处理文件: clean_0004_0009.wav
[2025-11-19 00:54:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:54:59] 初始化输出 buffer，总时长 23.51s（376176 samples）
[2025-11-19 00:54:59] 开始发送 clean_0004_0009.wav，总帧 1470，时长 23.51s
[2025-11-19 00:54:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.673, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.419, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.653, 'infer_time': 0.229, 'content': '邮票的收藏价值主要看发行量、历史意义和品相。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.666, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能再讲一遍纪念邮票的收藏价值因素吗'}}
[2025-11-19 00:55:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.998, 'infer_time': 0.339, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:06] 收到 tts_done, timestamp=6.998s
[2025-11-19 00:55:06] 在 7.00s 插入 TTS（4.35s）
[2025-11-19 00:55:23] 音频发送完毕，用时 24.27s
[2025-11-19 00:55:23] WebSocket 已关闭，结束接收循环
[2025-11-19 00:55:23] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0009_output.wav，时长 23.51s
[2025-11-19 00:55:23] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0009_output.wav
[2025-11-19 00:55:23] 处理完成: clean_0004_0009.wav
[2025-11-19 00:55:23] -----------------------------------
[2025-11-19 00:55:23] 开始处理文件: clean_0004_0010.wav
[2025-11-19 00:55:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:55:23] 初始化输出 buffer，总时长 23.14s（370256 samples）
[2025-11-19 00:55:23] 开始发送 clean_0004_0010.wav，总帧 1447，时长 23.14s
[2025-11-19 00:55:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.838, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.493, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.595, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.765, 'turn': 0, 'state': 'LISTEN', 'content': '等等能重复一下自动驾驶车辆使用的传感器吗'}}
[2025-11-19 00:55:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.811, 'infer_time': 0.21, 'content': '自动驾驶车辆使用激光雷达、摄像头和毫米波雷达等传感器。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.204, 'infer_time': 0.388, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:29] 收到 tts_done, timestamp=6.204s
[2025-11-19 00:55:29] 在 6.20s 插入 TTS（5.13s）
[2025-11-19 00:55:47] 音频发送完毕，用时 23.80s
[2025-11-19 00:55:47] WebSocket 已关闭，结束接收循环
[2025-11-19 00:55:47] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0010_output.wav，时长 23.14s
[2025-11-19 00:55:47] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0010_output.wav
[2025-11-19 00:55:47] 处理完成: clean_0004_0010.wav
[2025-11-19 00:55:47] -----------------------------------
[2025-11-19 00:55:47] 开始处理文件: clean_0004_0015.wav
[2025-11-19 00:55:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:55:47] 初始化输出 buffer，总时长 24.90s（398416 samples）
[2025-11-19 00:55:47] 开始发送 clean_0004_0015.wav，总帧 1557，时长 24.90s
[2025-11-19 00:55:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.665, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.422, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.643, 'infer_time': 0.216, 'content': '用指腹轻拍遮瑕膏，少量多次晕开边缘。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.656, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能重复一下痘痘遮瑕的步骤吗'}}
[2025-11-19 00:55:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.956, 'infer_time': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:55:53] 收到 tts_done, timestamp=5.956s
[2025-11-19 00:55:53] 在 5.96s 插入 TTS（4.05s）
[2025-11-19 00:56:13] 音频发送完毕，用时 25.57s
[2025-11-19 00:56:13] WebSocket 已关闭，结束接收循环
[2025-11-19 00:56:13] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0015_output.wav，时长 24.90s
[2025-11-19 00:56:13] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0015_output.wav
[2025-11-19 00:56:13] 处理完成: clean_0004_0015.wav
[2025-11-19 00:56:13] -----------------------------------
[2025-11-19 00:56:13] 开始处理文件: clean_0004_0021.wav
[2025-11-19 00:56:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:56:13] 初始化输出 buffer，总时长 23.25s（372016 samples）
[2025-11-19 00:56:13] 开始发送 clean_0004_0021.wav，总帧 1454，时长 23.25s
[2025-11-19 00:56:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.899, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.999, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.145, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清监测方法能重复一遍吗'}}
[2025-11-19 00:56:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.164, 'infer_time': 0.162, 'content': '好的，我来重复一下监测方法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.368, 'infer_time': 0.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:18] 收到 tts_done, timestamp=5.368s
[2025-11-19 00:56:18] 在 5.37s 插入 TTS（2.41s）
[2025-11-19 00:56:37] 音频发送完毕，用时 23.89s
[2025-11-19 00:56:37] WebSocket 已关闭，结束接收循环
[2025-11-19 00:56:37] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0021_output.wav，时长 23.25s
[2025-11-19 00:56:37] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0021_output.wav
[2025-11-19 00:56:37] 处理完成: clean_0004_0021.wav
[2025-11-19 00:56:37] -----------------------------------
[2025-11-19 00:56:37] 开始处理文件: clean_0004_0024.wav
[2025-11-19 00:56:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:56:37] 初始化输出 buffer，总时长 24.90s（398416 samples）
[2025-11-19 00:56:37] 开始发送 clean_0004_0024.wav，总帧 1557，时长 24.90s
[2025-11-19 00:56:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.896, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.0, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.186, 'infer_time': 0.181, 'content': '企业需承担法律责任、经济责任和道德责任。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.25, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能再说一遍企业需要承担的具体责任吗'}}
[2025-11-19 00:56:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.512, 'infer_time': 0.322, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:56:43] 收到 tts_done, timestamp=6.512s
[2025-11-19 00:56:43] 在 6.51s 插入 TTS（4.14s）
[2025-11-19 00:57:02] 音频发送完毕，用时 25.70s
[2025-11-19 00:57:02] WebSocket 已关闭，结束接收循环
[2025-11-19 00:57:02] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0024_output.wav，时长 24.90s
[2025-11-19 00:57:02] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0024_output.wav
[2025-11-19 00:57:02] 处理完成: clean_0004_0024.wav
[2025-11-19 00:57:02] -----------------------------------
[2025-11-19 00:57:02] 开始处理文件: clean_0004_0025.wav
[2025-11-19 00:57:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:57:02] 初始化输出 buffer，总时长 24.43s（390896 samples）
[2025-11-19 00:57:02] 开始发送 clean_0004_0025.wav，总帧 1527，时长 24.43s
[2025-11-19 00:57:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.459, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.216, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.443, 'turn': 0, 'state': 'LISTEN', 'content': '等一下能重复一下刚才说的冰河时期的动物吗'}}
[2025-11-19 00:57:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.474, 'infer_time': 0.254, 'content': '好的，冰河时期的动物有猛犸象、剑齿虎和洞熊等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.847, 'infer_time': 0.368, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:08] 收到 tts_done, timestamp=5.847s
[2025-11-19 00:57:08] 在 5.85s 插入 TTS（4.80s）
[2025-11-19 00:57:27] 音频发送完毕，用时 25.15s
[2025-11-19 00:57:27] WebSocket 已关闭，结束接收循环
[2025-11-19 00:57:27] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0025_output.wav，时长 24.43s
[2025-11-19 00:57:27] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0025_output.wav
[2025-11-19 00:57:27] 处理完成: clean_0004_0025.wav
[2025-11-19 00:57:27] -----------------------------------
[2025-11-19 00:57:27] 开始处理文件: clean_0004_0026.wav
[2025-11-19 00:57:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:57:27] 初始化输出 buffer，总时长 22.12s（353936 samples）
[2025-11-19 00:57:27] 开始发送 clean_0004_0026.wav，总帧 1383，时长 22.12s
[2025-11-19 00:57:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.439, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.092, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.189, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.315, 'turn': 0, 'state': 'LISTEN', 'content': '等等能再讲一遍幸运物品的作用吗'}}
[2025-11-19 00:57:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.359, 'infer_time': 0.166, 'content': '幸运物品能提升运气，增加好运概率。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.635, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:32] 收到 tts_done, timestamp=4.635s
[2025-11-19 00:57:32] 在 4.63s 插入 TTS（3.47s）
[2025-11-19 00:57:50] 音频发送完毕，用时 22.73s
[2025-11-19 00:57:50] WebSocket 已关闭，结束接收循环
[2025-11-19 00:57:50] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0026_output.wav，时长 22.12s
[2025-11-19 00:57:50] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0026_output.wav
[2025-11-19 00:57:50] 处理完成: clean_0004_0026.wav
[2025-11-19 00:57:50] -----------------------------------
[2025-11-19 00:57:50] 开始处理文件: clean_0004_0027.wav
[2025-11-19 00:57:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:57:50] 初始化输出 buffer，总时长 24.93s（398896 samples）
[2025-11-19 00:57:50] 开始发送 clean_0004_0027.wav，总帧 1559，时长 24.93s
[2025-11-19 00:57:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.478, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.132, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.232, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.381, 'infer_time': 0.144, 'content': '隆中对，三分天下。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.547, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清再说一遍诸葛亮为刘备提出的战略好吗'}}
[2025-11-19 00:57:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.56, 'infer_time': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:57:57] 收到 tts_done, timestamp=6.56s
[2025-11-19 00:57:57] 在 6.56s 插入 TTS（2.13s）
[2025-11-19 00:58:16] 音频发送完毕，用时 25.73s
[2025-11-19 00:58:16] WebSocket 已关闭，结束接收循环
[2025-11-19 00:58:16] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0027_output.wav，时长 24.93s
[2025-11-19 00:58:16] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0027_output.wav
[2025-11-19 00:58:16] 处理完成: clean_0004_0027.wav
[2025-11-19 00:58:16] -----------------------------------
[2025-11-19 00:58:16] 开始处理文件: clean_0004_0034.wav
[2025-11-19 00:58:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:58:16] 初始化输出 buffer，总时长 24.06s（384976 samples）
[2025-11-19 00:58:16] 开始发送 clean_0004_0034.wav，总帧 1504，时长 24.06s
[2025-11-19 00:58:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.998, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.099, 'infer_time': 0.096, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.86, 'infer_time': 0.242, 'content': '叉烧肉做法：腌制后烤制，甜咸适口。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.903, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能再讲一遍叉烧肉的做法吗'}}
[2025-11-19 00:58:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.191, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:24] 收到 tts_done, timestamp=8.191s
[2025-11-19 00:58:24] 在 8.19s 插入 TTS（4.22s）
[2025-11-19 00:58:41] 音频发送完毕，用时 24.81s
[2025-11-19 00:58:41] WebSocket 已关闭，结束接收循环
[2025-11-19 00:58:41] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0034_output.wav，时长 24.06s
[2025-11-19 00:58:41] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0034_output.wav
[2025-11-19 00:58:41] 处理完成: clean_0004_0034.wav
[2025-11-19 00:58:41] -----------------------------------
[2025-11-19 00:58:41] 开始处理文件: clean_0004_0035.wav
[2025-11-19 00:58:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:58:41] 初始化输出 buffer，总时长 26.08s（417296 samples）
[2025-11-19 00:58:41] 开始发送 clean_0004_0035.wav，总帧 1631，时长 26.08s
[2025-11-19 00:58:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.162, 'infer_time': 0.105, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.383, 'infer_time': 0.214, 'content': '使用VPN加密流量，关闭文件共享，不访问敏感网站。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.439, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能再讲一遍如何防止公共 wifi 中的中间人攻击吗'}}
[2025-11-19 00:58:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.75, 'infer_time': 0.361, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:58:49] 收到 tts_done, timestamp=7.75s
[2025-11-19 00:58:49] 在 7.75s 插入 TTS（4.75s）
[2025-11-19 00:59:08] 音频发送完毕，用时 26.90s
[2025-11-19 00:59:08] WebSocket 已关闭，结束接收循环
[2025-11-19 00:59:08] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0035_output.wav，时长 26.08s
[2025-11-19 00:59:08] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0004_0035_output.wav
[2025-11-19 00:59:08] 处理完成: clean_0004_0035.wav
[2025-11-19 00:59:08] -----------------------------------
[2025-11-19 00:59:08] 开始处理文件: clean_0005_0003.wav
[2025-11-19 00:59:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:59:08] 初始化输出 buffer，总时长 23.93s（382896 samples）
[2025-11-19 00:59:08] 开始发送 clean_0005_0003.wav，总帧 1496，时长 23.93s
[2025-11-19 00:59:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.611, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.045, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.15, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.383, 'infer_time': 0.228, 'content': '埃及考古新发现是萨卡拉地区出土了大量彩绘木棺。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.406, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能重复一下关于埃及考古新发新的内容吗'}}
[2025-11-19 00:59:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.732, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:14] 收到 tts_done, timestamp=6.732s
[2025-11-19 00:59:14] 在 6.73s 插入 TTS（4.45s）
[2025-11-19 00:59:32] 音频发送完毕，用时 24.44s
[2025-11-19 00:59:32] WebSocket 已关闭，结束接收循环
[2025-11-19 00:59:32] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0003_output.wav，时长 23.93s
[2025-11-19 00:59:32] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0003_output.wav
[2025-11-19 00:59:32] 处理完成: clean_0005_0003.wav
[2025-11-19 00:59:32] -----------------------------------
[2025-11-19 00:59:32] 开始处理文件: clean_0005_0007.wav
[2025-11-19 00:59:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:59:32] 初始化输出 buffer，总时长 25.27s（404336 samples）
[2025-11-19 00:59:32] 开始发送 clean_0005_0007.wav，总帧 1580，时长 25.27s
[2025-11-19 00:59:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.586, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.093, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.742, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.849, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.055, 'infer_time': 0.202, 'content': '外星生命可能以硅基或液态形式存在。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.077, 'turn': 0, 'state': 'LISTEN', 'content': '等等我没听清能重复一下外星生命可能的形式吗'}}
[2025-11-19 00:59:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.313, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:38] 收到 tts_done, timestamp=6.313s
[2025-11-19 00:59:38] 在 6.31s 插入 TTS（3.14s）
[2025-11-19 00:59:58] 音频发送完毕，用时 25.83s
[2025-11-19 00:59:58] WebSocket 已关闭，结束接收循环
[2025-11-19 00:59:58] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0007_output.wav，时长 25.27s
[2025-11-19 00:59:58] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0007_output.wav
[2025-11-19 00:59:58] 处理完成: clean_0005_0007.wav
[2025-11-19 00:59:58] -----------------------------------
[2025-11-19 00:59:58] 开始处理文件: clean_0005_0008.wav
[2025-11-19 00:59:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 00:59:58] 初始化输出 buffer，总时长 23.50s（376016 samples）
[2025-11-19 00:59:58] 开始发送 clean_0005_0008.wav，总帧 1469，时长 23.50s
[2025-11-19 00:59:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 00:59:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.642, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.378, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.027, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.129, 'infer_time': 0.097, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.807, 'infer_time': 0.164, 'content': '独臂刀导演是张彻。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.928, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清楚能再讲一遍读必道的导演吗'}}
[2025-11-19 01:00:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.986, 'infer_time': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:06] 收到 tts_done, timestamp=7.986s
[2025-11-19 01:00:06] 在 7.99s 插入 TTS（2.02s）
[2025-11-19 01:00:22] 音频发送完毕，用时 23.98s
[2025-11-19 01:00:22] WebSocket 已关闭，结束接收循环
[2025-11-19 01:00:22] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0008_output.wav，时长 23.50s
[2025-11-19 01:00:22] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0008_output.wav
[2025-11-19 01:00:22] 处理完成: clean_0005_0008.wav
[2025-11-19 01:00:22] -----------------------------------
[2025-11-19 01:00:22] 开始处理文件: clean_0005_0011.wav
[2025-11-19 01:00:22] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:00:22] 初始化输出 buffer，总时长 23.34s（373456 samples）
[2025-11-19 01:00:22] 开始发送 clean_0005_0011.wav，总帧 1459，时长 23.34s
[2025-11-19 01:00:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.589, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.237, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.324, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.194, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.843, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.941, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.166, 'infer_time': 0.219, 'content': '控制欲强的人常表现固执、爱指挥、不容异议。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.19, 'turn': 0, 'state': 'LISTEN', 'content': '等刚才没听清再说一遍空之欲强的人有哪些表现'}}
[2025-11-19 01:00:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.485, 'infer_time': 0.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:29] 收到 tts_done, timestamp=6.485s
[2025-11-19 01:00:29] 在 6.49s 插入 TTS（4.16s）
[2025-11-19 01:00:46] 音频发送完毕，用时 23.80s
[2025-11-19 01:00:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:00:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0011_output.wav，时长 23.34s
[2025-11-19 01:00:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0011_output.wav
[2025-11-19 01:00:46] 处理完成: clean_0005_0011.wav
[2025-11-19 01:00:46] -----------------------------------
[2025-11-19 01:00:46] 开始处理文件: clean_0005_0012.wav
[2025-11-19 01:00:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:00:46] 初始化输出 buffer，总时长 25.77s（412336 samples）
[2025-11-19 01:00:46] 开始发送 clean_0005_0012.wav，总帧 1611，时长 25.77s
[2025-11-19 01:00:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.834, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.54, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.188, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.296, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.531, 'infer_time': 0.229, 'content': '无氧运动对中老年人有益，能增强肌肉力量和骨密度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.556, 'turn': 0, 'state': 'LISTEN', 'content': '抱歉刚刚没听清能再讲一遍无氧运动适合中老年人的问题吗'}}
[2025-11-19 01:00:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.888, 'infer_time': 0.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:00:53] 收到 tts_done, timestamp=6.888s
[2025-11-19 01:00:53] 在 6.89s 插入 TTS（4.65s）
[2025-11-19 01:01:12] 音频发送完毕，用时 26.24s
[2025-11-19 01:01:12] WebSocket 已关闭，结束接收循环
[2025-11-19 01:01:12] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0012_output.wav，时长 25.77s
[2025-11-19 01:01:12] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0012_output.wav
[2025-11-19 01:01:12] 处理完成: clean_0005_0012.wav
[2025-11-19 01:01:12] -----------------------------------
[2025-11-19 01:01:12] 开始处理文件: clean_0005_0013.wav
[2025-11-19 01:01:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:01:12] 初始化输出 buffer，总时长 26.40s（422416 samples）
[2025-11-19 01:01:12] 开始发送 clean_0005_0013.wav，总帧 1651，时长 26.40s
[2025-11-19 01:01:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.677, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.623, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.369, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.591, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才没听清能再讲一遍唐太宗的经济措施吗'}}
[2025-11-19 01:01:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.644, 'infer_time': 0.271, 'content': '唐太宗的经济措施主要包括均田制、租庸调制和轻徭薄赋。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.073, 'infer_time': 0.424, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:18] 收到 tts_done, timestamp=6.073s
[2025-11-19 01:01:18] 在 6.07s 插入 TTS（5.79s）
[2025-11-19 01:01:39] 音频发送完毕，用时 26.95s
[2025-11-19 01:01:39] WebSocket 已关闭，结束接收循环
[2025-11-19 01:01:39] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0013_output.wav，时长 26.40s
[2025-11-19 01:01:39] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0013_output.wav
[2025-11-19 01:01:39] 处理完成: clean_0005_0013.wav
[2025-11-19 01:01:39] -----------------------------------
[2025-11-19 01:01:39] 开始处理文件: clean_0005_0015.wav
[2025-11-19 01:01:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:01:39] 初始化输出 buffer，总时长 22.25s（356016 samples）
[2025-11-19 01:01:39] 开始发送 clean_0005_0015.wav，总帧 1391，时长 22.25s
[2025-11-19 01:01:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.643, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.374, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.022, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.114, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.267, 'infer_time': 0.148, 'content': '抱歉，我无法提供之前的信息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.271, 'turn': 0, 'state': 'LISTEN', 'content': '等等刚才说的考古发现能再重复一遍吗'}}
[2025-11-19 01:01:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.526, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:01:44] 收到 tts_done, timestamp=4.526s
[2025-11-19 01:01:44] 在 4.53s 插入 TTS（3.11s）
[2025-11-19 01:02:02] 音频发送完毕，用时 22.66s
[2025-11-19 01:02:02] WebSocket 已关闭，结束接收循环
[2025-11-19 01:02:02] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0015_output.wav，时长 22.25s
[2025-11-19 01:02:02] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0015_output.wav
[2025-11-19 01:02:02] 处理完成: clean_0005_0015.wav
[2025-11-19 01:02:02] -----------------------------------
[2025-11-19 01:02:02] 开始处理文件: clean_0005_0016.wav
[2025-11-19 01:02:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:02:02] 初始化输出 buffer，总时长 27.82s（445136 samples）
[2025-11-19 01:02:02] 开始发送 clean_0005_0016.wav，总帧 1739，时长 27.82s
[2025-11-19 01:02:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.022, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.882, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.528, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.632, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.809, 'infer_time': 0.172, 'content': '试试渐进式肌肉放松，效果也不错。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.857, 'turn': 0, 'state': 'LISTEN', 'content': '如果深呼吸效果不明显还有其他及时可用的方法吗'}}
[2025-11-19 01:02:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.056, 'infer_time': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:08] 收到 tts_done, timestamp=6.056s
[2025-11-19 01:02:08] 在 6.06s 插入 TTS（2.97s）
[2025-11-19 01:02:30] 音频发送完毕，用时 28.23s
[2025-11-19 01:02:30] WebSocket 已关闭，结束接收循环
[2025-11-19 01:02:30] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0016_output.wav，时长 27.82s
[2025-11-19 01:02:30] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0016_output.wav
[2025-11-19 01:02:30] 处理完成: clean_0005_0016.wav
[2025-11-19 01:02:30] -----------------------------------
[2025-11-19 01:02:30] 开始处理文件: clean_0005_0024.wav
[2025-11-19 01:02:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:02:30] 初始化输出 buffer，总时长 24.77s（396336 samples）
[2025-11-19 01:02:30] 开始发送 clean_0005_0024.wav，总帧 1549，时长 24.77s
[2025-11-19 01:02:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.167, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.815, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.911, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.087, 'infer_time': 0.173, 'content': '氨基酸洗发水温和清洁，保护头皮屏障。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.108, 'turn': 0, 'state': 'LISTEN', 'content': '洗发水机体对头发有什么好处'}}
[2025-11-19 01:02:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.412, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:34] 收到 tts_done, timestamp=4.412s
[2025-11-19 01:02:34] 在 4.41s 插入 TTS（4.21s）
[2025-11-19 01:02:55] 音频发送完毕，用时 25.21s
[2025-11-19 01:02:55] WebSocket 已关闭，结束接收循环
[2025-11-19 01:02:55] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0024_output.wav，时长 24.77s
[2025-11-19 01:02:55] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0024_output.wav
[2025-11-19 01:02:55] 处理完成: clean_0005_0024.wav
[2025-11-19 01:02:55] -----------------------------------
[2025-11-19 01:02:55] 开始处理文件: clean_0005_0025.wav
[2025-11-19 01:02:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:02:55] 初始化输出 buffer，总时长 23.75s（380016 samples）
[2025-11-19 01:02:55] 开始发送 clean_0005_0025.wav，总帧 1485，时长 23.75s
[2025-11-19 01:02:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.156, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.805, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.903, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:02:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.088, 'turn': 0, 'state': 'LISTEN', 'content': '如果已经失眠了有什么快速入睡的技巧'}}
[2025-11-19 01:02:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.157, 'infer_time': 0.251, 'content': '试试478呼吸法，吸气四秒屏息七秒呼气八秒', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.537, 'infer_time': 0.375, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:00] 收到 tts_done, timestamp=4.537s
[2025-11-19 01:03:00] 在 4.54s 插入 TTS（4.99s）
[2025-11-19 01:03:19] 音频发送完毕，用时 24.10s
[2025-11-19 01:03:19] WebSocket 已关闭，结束接收循环
[2025-11-19 01:03:19] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0025_output.wav，时长 23.75s
[2025-11-19 01:03:19] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0025_output.wav
[2025-11-19 01:03:19] 处理完成: clean_0005_0025.wav
[2025-11-19 01:03:19] -----------------------------------
[2025-11-19 01:03:19] 开始处理文件: clean_0005_0026.wav
[2025-11-19 01:03:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:03:19] 初始化输出 buffer，总时长 24.06s（384976 samples）
[2025-11-19 01:03:19] 开始发送 clean_0005_0026.wav，总帧 1504，时长 24.06s
[2025-11-19 01:03:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.715, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.364, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.465, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.61, 'turn': 0, 'state': 'LISTEN', 'content': '那这些公约对发展中国家有约束力吗'}}
[2025-11-19 01:03:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.667, 'infer_time': 0.197, 'content': '是的，这些公约对发展中国家有约束力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.977, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:24] 收到 tts_done, timestamp=4.977s
[2025-11-19 01:03:24] 在 4.98s 插入 TTS（3.94s）
[2025-11-19 01:03:44] 音频发送完毕，用时 24.52s
[2025-11-19 01:03:44] WebSocket 已关闭，结束接收循环
[2025-11-19 01:03:44] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0026_output.wav，时长 24.06s
[2025-11-19 01:03:44] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0026_output.wav
[2025-11-19 01:03:44] 处理完成: clean_0005_0026.wav
[2025-11-19 01:03:44] -----------------------------------
[2025-11-19 01:03:44] 开始处理文件: clean_0005_0027.wav
[2025-11-19 01:03:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:03:44] 初始化输出 buffer，总时长 25.31s（404976 samples）
[2025-11-19 01:03:44] 开始发送 clean_0005_0027.wav，总帧 1582，时长 25.31s
[2025-11-19 01:03:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.927, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.64, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.289, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.382, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.551, 'infer_time': 0.164, 'content': '当然管用，感恩能帮你缓解压力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.58, 'turn': 0, 'state': 'LISTEN', 'content': '那如果工作压力特别大感恩练习还管用吗'}}
[2025-11-19 01:03:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.807, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:03:49] 收到 tts_done, timestamp=4.807s
[2025-11-19 01:03:49] 在 4.81s 插入 TTS（3.20s）
[2025-11-19 01:04:10] 音频发送完毕，用时 25.77s
[2025-11-19 01:04:10] WebSocket 已关闭，结束接收循环
[2025-11-19 01:04:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0027_output.wav，时长 25.31s
[2025-11-19 01:04:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0027_output.wav
[2025-11-19 01:04:10] 处理完成: clean_0005_0027.wav
[2025-11-19 01:04:10] -----------------------------------
[2025-11-19 01:04:10] 开始处理文件: clean_0005_0032.wav
[2025-11-19 01:04:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:04:10] 初始化输出 buffer，总时长 24.55s（392816 samples）
[2025-11-19 01:04:10] 开始发送 clean_0005_0032.wav，总帧 1535，时长 24.55s
[2025-11-19 01:04:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.621, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.364, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.522, 'infer_time': 0.153, 'content': '金融、医疗和制造业应用最明显。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.567, 'turn': 0, 'state': 'LISTEN', 'content': '数字化技术具体在哪些行业应用最明显'}}
[2025-11-19 01:04:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.84, 'infer_time': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:14] 收到 tts_done, timestamp=4.84s
[2025-11-19 01:04:14] 在 4.84s 插入 TTS（4.09s）
[2025-11-19 01:04:35] 音频发送完毕，用时 25.02s
[2025-11-19 01:04:35] WebSocket 已关闭，结束接收循环
[2025-11-19 01:04:35] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0032_output.wav，时长 24.55s
[2025-11-19 01:04:35] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0005_0032_output.wav
[2025-11-19 01:04:35] 处理完成: clean_0005_0032.wav
[2025-11-19 01:04:35] -----------------------------------
[2025-11-19 01:04:35] 开始处理文件: clean_0006_0003.wav
[2025-11-19 01:04:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:04:35] 初始化输出 buffer，总时长 20.78s（332496 samples）
[2025-11-19 01:04:35] 开始发送 clean_0006_0003.wav，总帧 1299，时长 20.78s
[2025-11-19 01:04:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.318, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.973, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.066, 'infer_time': 0.089, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.781, 'turn': 0, 'state': 'LISTEN', 'content': '那如果是在户外约会呢'}}
[2025-11-19 01:04:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.789, 'infer_time': 0.214, 'content': '户外约会更浪漫，记得带防晒和驱蚊用品哦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.113, 'infer_time': 0.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:41] 收到 tts_done, timestamp=6.113s
[2025-11-19 01:04:41] 在 6.11s 插入 TTS（4.07s）
[2025-11-19 01:04:56] 音频发送完毕，用时 21.24s
[2025-11-19 01:04:56] WebSocket 已关闭，结束接收循环
[2025-11-19 01:04:56] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0003_output.wav，时长 20.78s
[2025-11-19 01:04:56] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0003_output.wav
[2025-11-19 01:04:56] 处理完成: clean_0006_0003.wav
[2025-11-19 01:04:56] -----------------------------------
[2025-11-19 01:04:56] 开始处理文件: clean_0006_0004.wav
[2025-11-19 01:04:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:04:56] 初始化输出 buffer，总时长 19.88s（318096 samples）
[2025-11-19 01:04:56] 开始发送 clean_0006_0004.wav，总帧 1243，时长 19.88s
[2025-11-19 01:04:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.728, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.384, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:04:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.488, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.67, 'turn': 0, 'state': 'LISTEN', 'content': '那材质具体有哪些常见类型'}}
[2025-11-19 01:05:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.726, 'infer_time': 0.234, 'content': '常见材质有金属、塑料、玻璃等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.096, 'infer_time': 0.363, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:00] 收到 tts_done, timestamp=4.096s
[2025-11-19 01:05:00] 在 4.10s 插入 TTS（4.56s）
[2025-11-19 01:05:16] 音频发送完毕，用时 20.35s
[2025-11-19 01:05:16] WebSocket 已关闭，结束接收循环
[2025-11-19 01:05:16] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0004_output.wav，时长 19.88s
[2025-11-19 01:05:16] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0004_output.wav
[2025-11-19 01:05:16] 处理完成: clean_0006_0004.wav
[2025-11-19 01:05:16] -----------------------------------
[2025-11-19 01:05:16] 开始处理文件: clean_0006_0008.wav
[2025-11-19 01:05:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:05:16] 初始化输出 buffer，总时长 22.69s（363056 samples）
[2025-11-19 01:05:16] 开始发送 clean_0006_0008.wav，总帧 1419，时长 22.69s
[2025-11-19 01:05:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.099, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.753, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.852, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.982, 'turn': 0, 'state': 'LISTEN', 'content': '三诺金具体对哪些压力技术有影响'}}
[2025-11-19 01:05:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.057, 'infer_time': 0.201, 'content': '芬多精主要影响皮质醇和肾上腺素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.38, 'infer_time': 0.318, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:21] 收到 tts_done, timestamp=4.38s
[2025-11-19 01:05:21] 在 4.38s 插入 TTS（3.75s）
[2025-11-19 01:05:39] 音频发送完毕，用时 23.22s
[2025-11-19 01:05:39] WebSocket 已关闭，结束接收循环
[2025-11-19 01:05:39] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0008_output.wav，时长 22.69s
[2025-11-19 01:05:39] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0008_output.wav
[2025-11-19 01:05:39] 处理完成: clean_0006_0008.wav
[2025-11-19 01:05:39] -----------------------------------
[2025-11-19 01:05:39] 开始处理文件: clean_0006_0013.wav
[2025-11-19 01:05:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:05:39] 初始化输出 buffer，总时长 20.16s（322576 samples）
[2025-11-19 01:05:40] 开始发送 clean_0006_0013.wav，总帧 1261，时长 20.16s
[2025-11-19 01:05:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.521, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.268, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.405, 'infer_time': 0.134, 'content': '选木梳对头发更好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.428, 'turn': 0, 'state': 'LISTEN', 'content': '那梳子应该选哪一种比较好'}}
[2025-11-19 01:05:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.593, 'infer_time': 0.183, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:05:43] 收到 tts_done, timestamp=3.593s
[2025-11-19 01:05:43] 在 3.59s 插入 TTS（2.10s）
[2025-11-19 01:06:00] 音频发送完毕，用时 20.64s
[2025-11-19 01:06:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:06:00] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0013_output.wav，时长 20.16s
[2025-11-19 01:06:00] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0013_output.wav
[2025-11-19 01:06:00] 处理完成: clean_0006_0013.wav
[2025-11-19 01:06:00] -----------------------------------
[2025-11-19 01:06:00] 开始处理文件: clean_0006_0017.wav
[2025-11-19 01:06:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:06:00] 初始化输出 buffer，总时长 23.09s（369456 samples）
[2025-11-19 01:06:00] 开始发送 clean_0006_0017.wav，总帧 1444，时长 23.09s
[2025-11-19 01:06:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.677, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.426, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.59, 'infer_time': 0.159, 'content': '定期体检，注意饮食和作息规律。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.611, 'turn': 0, 'state': 'LISTEN', 'content': '他在健康方面有什么需要特别注意的吗'}}
[2025-11-19 01:06:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.867, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:05] 收到 tts_done, timestamp=4.867s
[2025-11-19 01:06:05] 在 4.87s 插入 TTS（3.40s）
[2025-11-19 01:06:24] 音频发送完毕，用时 23.67s
[2025-11-19 01:06:24] WebSocket 已关闭，结束接收循环
[2025-11-19 01:06:24] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0017_output.wav，时长 23.09s
[2025-11-19 01:06:24] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0017_output.wav
[2025-11-19 01:06:24] 处理完成: clean_0006_0017.wav
[2025-11-19 01:06:24] -----------------------------------
[2025-11-19 01:06:24] 开始处理文件: clean_0006_0021.wav
[2025-11-19 01:06:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:06:24] 初始化输出 buffer，总时长 26.04s（416656 samples）
[2025-11-19 01:06:24] 开始发送 clean_0006_0021.wav，总帧 1628，时长 26.04s
[2025-11-19 01:06:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.605, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.764, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.865, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.045, 'infer_time': 0.174, 'content': '有的，剪纸教学视频在数据库里。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.124, 'turn': 0, 'state': 'LISTEN', 'content': '那如果我想学习具体的剪纸记忆数据库里会有教学视频吗'}}
[2025-11-19 01:06:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.318, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:31] 收到 tts_done, timestamp=7.318s
[2025-11-19 01:06:31] 在 7.32s 插入 TTS（3.51s）
[2025-11-19 01:06:51] 音频发送完毕，用时 26.77s
[2025-11-19 01:06:51] WebSocket 已关闭，结束接收循环
[2025-11-19 01:06:51] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0021_output.wav，时长 26.04s
[2025-11-19 01:06:51] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0021_output.wav
[2025-11-19 01:06:51] 处理完成: clean_0006_0021.wav
[2025-11-19 01:06:51] -----------------------------------
[2025-11-19 01:06:51] 开始处理文件: clean_0006_0022.wav
[2025-11-19 01:06:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:06:51] 初始化输出 buffer，总时长 22.44s（359056 samples）
[2025-11-19 01:06:51] 开始发送 clean_0006_0022.wav，总帧 1403，时长 22.44s
[2025-11-19 01:06:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.732, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.826, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.977, 'turn': 0, 'state': 'LISTEN', 'content': '这些历史记录具体包括哪些文献或证据'}}
[2025-11-19 01:06:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.002, 'infer_time': 0.171, 'content': '包括史书、档案和考古发现等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.296, 'infer_time': 0.289, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:06:56] 收到 tts_done, timestamp=5.296s
[2025-11-19 01:06:56] 在 5.30s 插入 TTS（3.53s）
[2025-11-19 01:07:14] 音频发送完毕，用时 23.04s
[2025-11-19 01:07:14] WebSocket 已关闭，结束接收循环
[2025-11-19 01:07:14] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0022_output.wav，时长 22.44s
[2025-11-19 01:07:14] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0022_output.wav
[2025-11-19 01:07:14] 处理完成: clean_0006_0022.wav
[2025-11-19 01:07:14] -----------------------------------
[2025-11-19 01:07:14] 开始处理文件: clean_0006_0024.wav
[2025-11-19 01:07:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:07:14] 初始化输出 buffer，总时长 22.63s（362096 samples）
[2025-11-19 01:07:14] 开始发送 clean_0006_0024.wav，总帧 1415，时长 22.63s
[2025-11-19 01:07:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.151, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.806, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.895, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.04, 'infer_time': 0.141, 'content': '通常需要几分钟到半小时不等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.066, 'turn': 0, 'state': 'LISTEN', 'content': '自动恢复需要多长时间'}}
[2025-11-19 01:07:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.26, 'infer_time': 0.215, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:17] 收到 tts_done, timestamp=3.26s
[2025-11-19 01:07:17] 在 3.26s 插入 TTS（2.61s）
[2025-11-19 01:07:37] 音频发送完毕，用时 23.10s
[2025-11-19 01:07:37] WebSocket 已关闭，结束接收循环
[2025-11-19 01:07:37] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0024_output.wav，时长 22.63s
[2025-11-19 01:07:37] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0024_output.wav
[2025-11-19 01:07:37] 处理完成: clean_0006_0024.wav
[2025-11-19 01:07:37] -----------------------------------
[2025-11-19 01:07:37] 开始处理文件: clean_0006_0025.wav
[2025-11-19 01:07:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:07:37] 初始化输出 buffer，总时长 23.50s（376016 samples）
[2025-11-19 01:07:37] 开始发送 clean_0006_0025.wav，总帧 1469，时长 23.50s
[2025-11-19 01:07:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.441, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.082, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.178, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.317, 'turn': 0, 'state': 'LISTEN', 'content': '那如果对方只是偶尔点赞我的朋友圈呢'}}
[2025-11-19 01:07:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.339, 'infer_time': 0.157, 'content': '偶尔点赞说明对方对你朋友圈内容感兴趣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.621, 'infer_time': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:07:41] 收到 tts_done, timestamp=4.621s
[2025-11-19 01:07:41] 在 4.62s 插入 TTS（3.41s）
[2025-11-19 01:08:01] 音频发送完毕，用时 24.09s
[2025-11-19 01:08:01] WebSocket 已关闭，结束接收循环
[2025-11-19 01:08:01] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0025_output.wav，时长 23.50s
[2025-11-19 01:08:01] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0025_output.wav
[2025-11-19 01:08:01] 处理完成: clean_0006_0025.wav
[2025-11-19 01:08:01] -----------------------------------
[2025-11-19 01:08:01] 开始处理文件: clean_0006_0029.wav
[2025-11-19 01:08:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:08:01] 初始化输出 buffer，总时长 22.44s（359056 samples）
[2025-11-19 01:08:01] 开始发送 clean_0006_0029.wav，总帧 1403，时长 22.44s
[2025-11-19 01:08:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.853, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.949, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.13, 'turn': 0, 'state': 'LISTEN', 'content': '那位老师还讲过哪些哲学家的例子'}}
[2025-11-19 01:08:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.167, 'infer_time': 0.214, 'content': '老师可能举过苏格拉底、孔子等哲学家的例子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.47, 'infer_time': 0.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:05] 收到 tts_done, timestamp=4.47s
[2025-11-19 01:08:05] 在 4.47s 插入 TTS（3.80s）
[2025-11-19 01:08:24] 音频发送完毕，用时 22.98s
[2025-11-19 01:08:24] WebSocket 已关闭，结束接收循环
[2025-11-19 01:08:24] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0029_output.wav，时长 22.44s
[2025-11-19 01:08:24] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0029_output.wav
[2025-11-19 01:08:24] 处理完成: clean_0006_0029.wav
[2025-11-19 01:08:24] -----------------------------------
[2025-11-19 01:08:24] 开始处理文件: clean_0006_0030.wav
[2025-11-19 01:08:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:08:24] 初始化输出 buffer，总时长 21.22s（339536 samples）
[2025-11-19 01:08:24] 开始发送 clean_0006_0030.wav，总帧 1327，时长 21.22s
[2025-11-19 01:08:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.03, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.681, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.778, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.918, 'infer_time': 0.137, 'content': '运动时能说话但不能唱歌', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.956, 'turn': 0, 'state': 'LISTEN', 'content': '中等强度运动具体怎么判断呢'}}
[2025-11-19 01:08:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.114, 'infer_time': 0.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:28] 收到 tts_done, timestamp=4.114s
[2025-11-19 01:08:28] 在 4.11s 插入 TTS（2.37s）
[2025-11-19 01:08:46] 音频发送完毕，用时 21.69s
[2025-11-19 01:08:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:08:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0030_output.wav，时长 21.22s
[2025-11-19 01:08:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0030_output.wav
[2025-11-19 01:08:46] 处理完成: clean_0006_0030.wav
[2025-11-19 01:08:46] -----------------------------------
[2025-11-19 01:08:46] 开始处理文件: clean_0006_0031.wav
[2025-11-19 01:08:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:08:46] 初始化输出 buffer，总时长 22.16s（354576 samples）
[2025-11-19 01:08:46] 开始发送 clean_0006_0031.wav，总帧 1386，时长 22.16s
[2025-11-19 01:08:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.86, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.515, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.609, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.736, 'turn': 0, 'state': 'LISTEN', 'content': '如果皮肤有破损还能按摩吗'}}
[2025-11-19 01:08:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.77, 'infer_time': 0.156, 'content': '皮肤破损时不宜按摩，以免感染。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.032, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:08:50] 收到 tts_done, timestamp=4.032s
[2025-11-19 01:08:50] 在 4.03s 插入 TTS（3.21s）
[2025-11-19 01:09:08] 音频发送完毕，用时 22.65s
[2025-11-19 01:09:08] WebSocket 已关闭，结束接收循环
[2025-11-19 01:09:08] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0031_output.wav，时长 22.16s
[2025-11-19 01:09:08] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0031_output.wav
[2025-11-19 01:09:08] 处理完成: clean_0006_0031.wav
[2025-11-19 01:09:08] -----------------------------------
[2025-11-19 01:09:08] 开始处理文件: clean_0006_0033.wav
[2025-11-19 01:09:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:09:08] 初始化输出 buffer，总时长 21.73s（347696 samples）
[2025-11-19 01:09:08] 开始发送 clean_0006_0033.wav，总帧 1359，时长 21.73s
[2025-11-19 01:09:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.25, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.903, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.997, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.171, 'turn': 0, 'state': 'LISTEN', 'content': '重新验证具体怎么设置'}}
[2025-11-19 01:09:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.189, 'infer_time': 0.188, 'content': '不同平台设置方法不一样，需进入账户安全选项操作。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.53, 'infer_time': 0.336, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:12] 收到 tts_done, timestamp=3.53s
[2025-11-19 01:09:12] 在 3.53s 插入 TTS（4.50s）
[2025-11-19 01:09:31] 音频发送完毕，用时 22.21s
[2025-11-19 01:09:31] WebSocket 已关闭，结束接收循环
[2025-11-19 01:09:31] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0033_output.wav，时长 21.73s
[2025-11-19 01:09:31] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0006_0033_output.wav
[2025-11-19 01:09:31] 处理完成: clean_0006_0033.wav
[2025-11-19 01:09:31] -----------------------------------
[2025-11-19 01:09:31] 开始处理文件: clean_0007_0001.wav
[2025-11-19 01:09:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:09:31] 初始化输出 buffer，总时长 25.23s（403696 samples）
[2025-11-19 01:09:31] 开始发送 clean_0007_0001.wav，总帧 1577，时长 25.23s
[2025-11-19 01:09:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.32, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.976, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.127, 'infer_time': 0.147, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.252, 'turn': 0, 'state': 'LISTEN', 'content': '那这种放松效果能持续多久呢'}}
[2025-11-19 01:09:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.431, 'infer_time': 0.3, 'content': '放松效果通常能持续几小时到一天。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.706, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:09:35] 收到 tts_done, timestamp=4.706s
[2025-11-19 01:09:35] 在 4.71s 插入 TTS（3.22s）
[2025-11-19 01:09:56] 音频发送完毕，用时 25.78s
[2025-11-19 01:09:56] WebSocket 已关闭，结束接收循环
[2025-11-19 01:09:56] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0001_output.wav，时长 25.23s
[2025-11-19 01:09:56] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0001_output.wav
[2025-11-19 01:09:56] 处理完成: clean_0007_0001.wav
[2025-11-19 01:09:56] -----------------------------------
[2025-11-19 01:09:56] 开始处理文件: clean_0007_0004.wav
[2025-11-19 01:09:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:09:56] 初始化输出 buffer，总时长 23.79s（380656 samples）
[2025-11-19 01:09:56] 开始发送 clean_0007_0004.wav，总帧 1487，时长 23.79s
[2025-11-19 01:09:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.447, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.567, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.308, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.489, 'turn': 0, 'state': 'LISTEN', 'content': '我沙发实在没法靠墙怎么办'}}
[2025-11-19 01:10:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.508, 'infer_time': 0.196, 'content': '可以试试靠墙角放，或者用装饰物遮挡。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.858, 'infer_time': 0.346, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:01] 收到 tts_done, timestamp=4.858s
[2025-11-19 01:10:01] 在 4.86s 插入 TTS（4.26s）
[2025-11-19 01:10:21] 音频发送完毕，用时 24.28s
[2025-11-19 01:10:21] WebSocket 已关闭，结束接收循环
[2025-11-19 01:10:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0004_output.wav，时长 23.79s
[2025-11-19 01:10:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0004_output.wav
[2025-11-19 01:10:21] 处理完成: clean_0007_0004.wav
[2025-11-19 01:10:21] -----------------------------------
[2025-11-19 01:10:21] 开始处理文件: clean_0007_0007.wav
[2025-11-19 01:10:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:10:21] 初始化输出 buffer，总时长 21.91s（350576 samples）
[2025-11-19 01:10:21] 开始发送 clean_0007_0007.wav，总帧 1370，时长 21.91s
[2025-11-19 01:10:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.291, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.935, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.026, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.156, 'turn': 0, 'state': 'LISTEN', 'content': '那家咖啡馆具体在哪个位置'}}
[2025-11-19 01:10:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.188, 'infer_time': 0.157, 'content': '在解放路和中山街交叉口。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.384, 'infer_time': 0.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:25] 收到 tts_done, timestamp=4.384s
[2025-11-19 01:10:25] 在 4.38s 插入 TTS（2.43s）
[2025-11-19 01:10:43] 音频发送完毕，用时 22.41s
[2025-11-19 01:10:43] WebSocket 已关闭，结束接收循环
[2025-11-19 01:10:43] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0007_output.wav，时长 21.91s
[2025-11-19 01:10:43] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0007_output.wav
[2025-11-19 01:10:43] 处理完成: clean_0007_0007.wav
[2025-11-19 01:10:43] -----------------------------------
[2025-11-19 01:10:43] 开始处理文件: clean_0007_0012.wav
[2025-11-19 01:10:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:10:43] 初始化输出 buffer，总时长 25.30s（404816 samples）
[2025-11-19 01:10:43] 开始发送 clean_0007_0012.wav，总帧 1582，时长 25.30s
[2025-11-19 01:10:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.668, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.407, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.576, 'turn': 0, 'state': 'LISTEN', 'content': '芝士热狗棒的具体口味有哪些选择'}}
[2025-11-19 01:10:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.662, 'infer_time': 0.25, 'content': '芝士热狗棒通常有原味、辣味和蒜香等口味选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.011, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:10:48] 收到 tts_done, timestamp=5.011s
[2025-11-19 01:10:48] 在 5.01s 插入 TTS（4.69s）
[2025-11-19 01:11:09] 音频发送完毕，用时 25.85s
[2025-11-19 01:11:09] WebSocket 已关闭，结束接收循环
[2025-11-19 01:11:09] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0012_output.wav，时长 25.30s
[2025-11-19 01:11:09] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0012_output.wav
[2025-11-19 01:11:09] 处理完成: clean_0007_0012.wav
[2025-11-19 01:11:09] -----------------------------------
[2025-11-19 01:11:09] 开始处理文件: clean_0007_0014.wav
[2025-11-19 01:11:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:11:09] 初始化输出 buffer，总时长 23.93s（382896 samples）
[2025-11-19 01:11:09] 开始发送 clean_0007_0014.wav，总帧 1496，时长 23.93s
[2025-11-19 01:11:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.132, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.783, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.881, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.033, 'infer_time': 0.148, 'content': '适当休息，换个环境放松一下。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.06, 'turn': 0, 'state': 'LISTEN', 'content': '如果图片看多了反而更纠结了怎么办'}}
[2025-11-19 01:11:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.264, 'infer_time': 0.226, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:14] 收到 tts_done, timestamp=5.264s
[2025-11-19 01:11:14] 在 5.26s 插入 TTS（2.89s）
[2025-11-19 01:11:33] 音频发送完毕，用时 24.48s
[2025-11-19 01:11:33] WebSocket 已关闭，结束接收循环
[2025-11-19 01:11:33] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0014_output.wav，时长 23.93s
[2025-11-19 01:11:33] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0014_output.wav
[2025-11-19 01:11:33] 处理完成: clean_0007_0014.wav
[2025-11-19 01:11:33] -----------------------------------
[2025-11-19 01:11:33] 开始处理文件: clean_0007_0015.wav
[2025-11-19 01:11:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:11:33] 初始化输出 buffer，总时长 21.17s（338736 samples）
[2025-11-19 01:11:33] 开始发送 clean_0007_0015.wav，总帧 1324，时长 21.17s
[2025-11-19 01:11:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.365, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.013, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.108, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.264, 'turn': 0, 'state': 'LISTEN', 'content': '如果呼吸节奏乱了该怎么调整'}}
[2025-11-19 01:11:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.269, 'infer_time': 0.156, 'content': '深呼吸，慢慢来，别着急。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.511, 'infer_time': 0.237, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:11:38] 收到 tts_done, timestamp=4.511s
[2025-11-19 01:11:38] 在 4.51s 插入 TTS（2.82s）
[2025-11-19 01:11:55] 音频发送完毕，用时 21.66s
[2025-11-19 01:11:55] WebSocket 已关闭，结束接收循环
[2025-11-19 01:11:55] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0015_output.wav，时长 21.17s
[2025-11-19 01:11:55] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0015_output.wav
[2025-11-19 01:11:55] 处理完成: clean_0007_0015.wav
[2025-11-19 01:11:55] -----------------------------------
[2025-11-19 01:11:55] 开始处理文件: clean_0007_0016.wav
[2025-11-19 01:11:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:11:55] 初始化输出 buffer，总时长 25.12s（401936 samples）
[2025-11-19 01:11:55] 开始发送 clean_0007_0016.wav，总帧 1571，时长 25.12s
[2025-11-19 01:11:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.468, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.212, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.409, 'infer_time': 0.192, 'content': '可以考虑分群管理或使用企业微信等工具。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.422, 'turn': 0, 'state': 'LISTEN', 'content': '那如果群聊人数超过五千有什么替代方案吗'}}
[2025-11-19 01:12:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.732, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:02] 收到 tts_done, timestamp=6.732s
[2025-11-19 01:12:02] 在 6.73s 插入 TTS（4.18s）
[2025-11-19 01:12:21] 音频发送完毕，用时 25.76s
[2025-11-19 01:12:21] WebSocket 已关闭，结束接收循环
[2025-11-19 01:12:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0016_output.wav，时长 25.12s
[2025-11-19 01:12:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0016_output.wav
[2025-11-19 01:12:21] 处理完成: clean_0007_0016.wav
[2025-11-19 01:12:21] -----------------------------------
[2025-11-19 01:12:21] 开始处理文件: clean_0007_0020.wav
[2025-11-19 01:12:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:12:21] 初始化输出 buffer，总时长 24.10s（385616 samples）
[2025-11-19 01:12:21] 开始发送 clean_0007_0020.wav，总帧 1507，时长 24.10s
[2025-11-19 01:12:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.511, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.166, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.266, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.453, 'turn': 0, 'state': 'LISTEN', 'content': '那具体哪些手势容易引起误解呢'}}
[2025-11-19 01:12:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.48, 'infer_time': 0.209, 'content': '竖中指、比剪刀手等手势易被误解。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.785, 'infer_time': 0.3, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:27] 收到 tts_done, timestamp=5.785s
[2025-11-19 01:12:27] 在 5.79s 插入 TTS（3.97s）
[2025-11-19 01:12:46] 音频发送完毕，用时 24.66s
[2025-11-19 01:12:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:12:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0020_output.wav，时长 24.10s
[2025-11-19 01:12:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0020_output.wav
[2025-11-19 01:12:46] 处理完成: clean_0007_0020.wav
[2025-11-19 01:12:46] -----------------------------------
[2025-11-19 01:12:46] 开始处理文件: clean_0007_0025.wav
[2025-11-19 01:12:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:12:46] 初始化输出 buffer，总时长 34.24s（547856 samples）
[2025-11-19 01:12:46] 开始发送 clean_0007_0025.wav，总帧 2141，时长 34.24s
[2025-11-19 01:12:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.534, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.186, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.285, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.439, 'infer_time': 0.149, 'content': '墙面不平会影响贴壁纸效果。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.496, 'turn': 0, 'state': 'LISTEN', 'content': '那如果前面有凹凸不平的地方贴壁纸会不会有问题'}}
[2025-11-19 01:12:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.666, 'infer_time': 0.222, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:12:52] 收到 tts_done, timestamp=6.666s
[2025-11-19 01:12:52] 在 6.67s 插入 TTS（2.74s）
[2025-11-19 01:13:21] 音频发送完毕，用时 35.15s
[2025-11-19 01:13:21] WebSocket 已关闭，结束接收循环
[2025-11-19 01:13:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0025_output.wav，时长 34.24s
[2025-11-19 01:13:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0025_output.wav
[2025-11-19 01:13:21] 处理完成: clean_0007_0025.wav
[2025-11-19 01:13:21] -----------------------------------
[2025-11-19 01:13:21] 开始处理文件: clean_0007_0027.wav
[2025-11-19 01:13:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:13:21] 初始化输出 buffer，总时长 25.03s（400496 samples）
[2025-11-19 01:13:21] 开始发送 clean_0007_0027.wav，总帧 1565，时长 25.03s
[2025-11-19 01:13:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.753, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.394, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.492, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.684, 'turn': 0, 'state': 'LISTEN', 'content': '那卷发棒的温度应该调到多少度比较合适'}}
[2025-11-19 01:13:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.794, 'infer_time': 0.297, 'content': '中等温度约180度比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.048, 'infer_time': 0.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:27] 收到 tts_done, timestamp=6.048s
[2025-11-19 01:13:27] 在 6.05s 插入 TTS（3.03s）
[2025-11-19 01:13:46] 音频发送完毕，用时 25.61s
[2025-11-19 01:13:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:13:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0027_output.wav，时长 25.03s
[2025-11-19 01:13:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0027_output.wav
[2025-11-19 01:13:46] 处理完成: clean_0007_0027.wav
[2025-11-19 01:13:46] -----------------------------------
[2025-11-19 01:13:46] 开始处理文件: clean_0007_0028.wav
[2025-11-19 01:13:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:13:46] 初始化输出 buffer，总时长 25.30s（404816 samples）
[2025-11-19 01:13:46] 开始发送 clean_0007_0028.wav，总帧 1582，时长 25.30s
[2025-11-19 01:13:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.148, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.791, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.891, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.095, 'infer_time': 0.2, 'content': '报修时需提供故障描述、设备信息和联系方式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.169, 'turn': 0, 'state': 'LISTEN', 'content': '那报修时需要提供哪些具体信息呢'}}
[2025-11-19 01:13:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.458, 'infer_time': 0.358, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:13:52] 收到 tts_done, timestamp=5.458s
[2025-11-19 01:13:52] 在 5.46s 插入 TTS（4.72s）
[2025-11-19 01:14:12] 音频发送完毕，用时 25.85s
[2025-11-19 01:14:12] WebSocket 已关闭，结束接收循环
[2025-11-19 01:14:12] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0028_output.wav，时长 25.30s
[2025-11-19 01:14:12] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0028_output.wav
[2025-11-19 01:14:12] 处理完成: clean_0007_0028.wav
[2025-11-19 01:14:12] -----------------------------------
[2025-11-19 01:14:12] 开始处理文件: clean_0007_0031.wav
[2025-11-19 01:14:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:14:12] 初始化输出 buffer，总时长 26.02s（416336 samples）
[2025-11-19 01:14:12] 开始发送 clean_0007_0031.wav，总帧 1627，时长 26.02s
[2025-11-19 01:14:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.648, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.927, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.584, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.69, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.889, 'turn': 0, 'state': 'LISTEN', 'content': '那如果顾客本身就很内向讲笑话会不会适得其反'}}
[2025-11-19 01:14:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.906, 'infer_time': 0.211, 'content': '内向顾客可能更喜欢安静，讲笑话确实容易尴尬。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.265, 'infer_time': 0.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:20] 收到 tts_done, timestamp=7.265s
[2025-11-19 01:14:20] 在 7.26s 插入 TTS（4.71s）
[2025-11-19 01:14:39] 音频发送完毕，用时 26.62s
[2025-11-19 01:14:39] WebSocket 已关闭，结束接收循环
[2025-11-19 01:14:39] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0031_output.wav，时长 26.02s
[2025-11-19 01:14:39] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0007_0031_output.wav
[2025-11-19 01:14:39] 处理完成: clean_0007_0031.wav
[2025-11-19 01:14:39] -----------------------------------
[2025-11-19 01:14:39] 开始处理文件: clean_0008_0002.wav
[2025-11-19 01:14:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:14:39] 初始化输出 buffer，总时长 20.91s（334576 samples）
[2025-11-19 01:14:39] 开始发送 clean_0008_0002.wav，总帧 1307，时长 20.91s
[2025-11-19 01:14:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.757, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.409, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.5, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.67, 'infer_time': 0.165, 'content': '翻转挑战需要一张桌子和一个杯子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.676, 'turn': 0, 'state': 'LISTEN', 'content': '翻转挑战具体需要什么什么道具'}}
[2025-11-19 01:14:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.882, 'infer_time': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:14:43] 收到 tts_done, timestamp=3.882s
[2025-11-19 01:14:43] 在 3.88s 插入 TTS（2.66s）
[2025-11-19 01:15:00] 音频发送完毕，用时 21.41s
[2025-11-19 01:15:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:15:00] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0002_output.wav，时长 20.91s
[2025-11-19 01:15:00] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0002_output.wav
[2025-11-19 01:15:00] 处理完成: clean_0008_0002.wav
[2025-11-19 01:15:00] -----------------------------------
[2025-11-19 01:15:00] 开始处理文件: clean_0008_0004.wav
[2025-11-19 01:15:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:15:00] 初始化输出 buffer，总时长 22.01s（352176 samples）
[2025-11-19 01:15:00] 开始发送 clean_0008_0004.wav，总帧 1376，时长 22.01s
[2025-11-19 01:15:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.641, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.294, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.39, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.534, 'turn': 0, 'state': 'LISTEN', 'content': '直方图均衡化会不会导致图像细节丢失'}}
[2025-11-19 01:15:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.588, 'infer_time': 0.194, 'content': '均衡化可能增强对比度，但有时会损失细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.937, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:05] 收到 tts_done, timestamp=4.937s
[2025-11-19 01:15:05] 在 4.94s 插入 TTS（4.68s）
[2025-11-19 01:15:23] 音频发送完毕，用时 22.59s
[2025-11-19 01:15:23] WebSocket 已关闭，结束接收循环
[2025-11-19 01:15:23] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0004_output.wav，时长 22.01s
[2025-11-19 01:15:23] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0004_output.wav
[2025-11-19 01:15:23] 处理完成: clean_0008_0004.wav
[2025-11-19 01:15:23] -----------------------------------
[2025-11-19 01:15:23] 开始处理文件: clean_0008_0008.wav
[2025-11-19 01:15:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:15:23] 初始化输出 buffer，总时长 22.48s（359696 samples）
[2025-11-19 01:15:23] 开始发送 clean_0008_0008.wav，总帧 1406，时长 22.48s
[2025-11-19 01:15:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.199, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.851, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.947, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.09, 'infer_time': 0.139, 'content': '关节疼痛肿胀是常见表现', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.162, 'turn': 0, 'state': 'LISTEN', 'content': '春节问题具体有哪些表现需要我留意'}}
[2025-11-19 01:15:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.3, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:27] 收到 tts_done, timestamp=4.3s
[2025-11-19 01:15:27] 在 4.30s 插入 TTS（2.56s）
[2025-11-19 01:15:46] 音频发送完毕，用时 23.11s
[2025-11-19 01:15:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:15:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0008_output.wav，时长 22.48s
[2025-11-19 01:15:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0008_output.wav
[2025-11-19 01:15:46] 处理完成: clean_0008_0008.wav
[2025-11-19 01:15:46] -----------------------------------
[2025-11-19 01:15:46] 开始处理文件: clean_0008_0009.wav
[2025-11-19 01:15:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:15:46] 初始化输出 buffer，总时长 23.15s（370416 samples）
[2025-11-19 01:15:46] 开始发送 clean_0008_0009.wav，总帧 1447，时长 23.15s
[2025-11-19 01:15:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.305, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.956, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.053, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.221, 'turn': 0, 'state': 'LISTEN', 'content': '那大到异黄酮适合所有年龄段的人吗'}}
[2025-11-19 01:15:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.272, 'infer_time': 0.213, 'content': '大豆异黄酮适合大多数成年人，但儿童和孕妇需谨慎。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.653, 'infer_time': 0.375, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:15:51] 收到 tts_done, timestamp=4.653s
[2025-11-19 01:15:51] 在 4.65s 插入 TTS（5.02s）
[2025-11-19 01:16:10] 音频发送完毕，用时 23.71s
[2025-11-19 01:16:10] WebSocket 已关闭，结束接收循环
[2025-11-19 01:16:10] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0009_output.wav，时长 23.15s
[2025-11-19 01:16:10] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0009_output.wav
[2025-11-19 01:16:10] 处理完成: clean_0008_0009.wav
[2025-11-19 01:16:10] -----------------------------------
[2025-11-19 01:16:10] 开始处理文件: clean_0008_0011.wav
[2025-11-19 01:16:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:16:10] 初始化输出 buffer，总时长 20.19s（323056 samples）
[2025-11-19 01:16:10] 开始发送 clean_0008_0011.wav，总帧 1262，时长 20.19s
[2025-11-19 01:16:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.001, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.09, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.256, 'turn': 0, 'state': 'LISTEN', 'content': '猕猴桃容易氧化变色怎么办'}}
[2025-11-19 01:16:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.299, 'infer_time': 0.205, 'content': '切开后泡盐水或柠檬水能防止氧化变色。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.608, 'infer_time': 0.304, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:13] 收到 tts_done, timestamp=3.608s
[2025-11-19 01:16:13] 在 3.61s 插入 TTS（3.93s）
[2025-11-19 01:16:30] 音频发送完毕，用时 20.65s
[2025-11-19 01:16:30] WebSocket 已关闭，结束接收循环
[2025-11-19 01:16:30] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0011_output.wav，时长 20.19s
[2025-11-19 01:16:30] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0011_output.wav
[2025-11-19 01:16:30] 处理完成: clean_0008_0011.wav
[2025-11-19 01:16:30] -----------------------------------
[2025-11-19 01:16:30] 开始处理文件: clean_0008_0013.wav
[2025-11-19 01:16:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:16:30] 初始化输出 buffer，总时长 22.83s（365296 samples）
[2025-11-19 01:16:30] 开始发送 clean_0008_0013.wav，总帧 1427，时长 22.83s
[2025-11-19 01:16:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.588, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.335, 'infer_time': 0.091, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.008, 'infer_time': 0.161, 'content': '雨天时间可能需要适当增加。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.07, 'turn': 0, 'state': 'LISTEN', 'content': '那在雨天这个时间需要增加吗'}}
[2025-11-19 01:16:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.213, 'infer_time': 0.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:37] 收到 tts_done, timestamp=6.213s
[2025-11-19 01:16:37] 在 6.21s 插入 TTS（2.59s）
[2025-11-19 01:16:54] 音频发送完毕，用时 23.30s
[2025-11-19 01:16:54] WebSocket 已关闭，结束接收循环
[2025-11-19 01:16:54] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0013_output.wav，时长 22.83s
[2025-11-19 01:16:54] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0013_output.wav
[2025-11-19 01:16:54] 处理完成: clean_0008_0013.wav
[2025-11-19 01:16:54] -----------------------------------
[2025-11-19 01:16:54] 开始处理文件: clean_0008_0014.wav
[2025-11-19 01:16:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:16:54] 初始化输出 buffer，总时长 21.56s（344976 samples）
[2025-11-19 01:16:54] 开始发送 clean_0008_0014.wav，总帧 1348，时长 21.56s
[2025-11-19 01:16:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.824, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.475, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.568, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.689, 'turn': 0, 'state': 'LISTEN', 'content': '那文创产品具体包括哪些类型呢'}}
[2025-11-19 01:16:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.718, 'infer_time': 0.147, 'content': '文具、服饰、家居用品等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.959, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:16:58] 收到 tts_done, timestamp=3.959s
[2025-11-19 01:16:58] 在 3.96s 插入 TTS（2.90s）
[2025-11-19 01:17:16] 音频发送完毕，用时 22.07s
[2025-11-19 01:17:16] WebSocket 已关闭，结束接收循环
[2025-11-19 01:17:16] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0014_output.wav，时长 21.56s
[2025-11-19 01:17:16] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0014_output.wav
[2025-11-19 01:17:16] 处理完成: clean_0008_0014.wav
[2025-11-19 01:17:16] -----------------------------------
[2025-11-19 01:17:16] 开始处理文件: clean_0008_0018.wav
[2025-11-19 01:17:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:17:16] 初始化输出 buffer，总时长 22.13s（354096 samples）
[2025-11-19 01:17:16] 开始发送 clean_0008_0018.wav，总帧 1384，时长 22.13s
[2025-11-19 01:17:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.271, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.924, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.019, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.18, 'turn': 0, 'state': 'LISTEN', 'content': '那他怎么才能学会这些习语的正确翻译呢'}}
[2025-11-19 01:17:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.205, 'infer_time': 0.181, 'content': '多听多练，结合语境理解最有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.508, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:20] 收到 tts_done, timestamp=4.508s
[2025-11-19 01:17:20] 在 4.51s 插入 TTS（3.92s）
[2025-11-19 01:17:38] 音频发送完毕，用时 22.65s
[2025-11-19 01:17:38] WebSocket 已关闭，结束接收循环
[2025-11-19 01:17:38] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0018_output.wav，时长 22.13s
[2025-11-19 01:17:38] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0018_output.wav
[2025-11-19 01:17:38] 处理完成: clean_0008_0018.wav
[2025-11-19 01:17:38] -----------------------------------
[2025-11-19 01:17:38] 开始处理文件: clean_0008_0019.wav
[2025-11-19 01:17:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:17:38] 初始化输出 buffer，总时长 23.09s（369456 samples）
[2025-11-19 01:17:38] 开始发送 clean_0008_0019.wav，总帧 1444，时长 23.09s
[2025-11-19 01:17:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.536, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.639, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.291, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.392, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.546, 'infer_time': 0.15, 'content': '量子引力试图解决奇点问题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.561, 'turn': 0, 'state': 'LISTEN', 'content': '那量子引利润对起点有什么不同解释吗'}}
[2025-11-19 01:17:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.775, 'infer_time': 0.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:17:43] 收到 tts_done, timestamp=4.775s
[2025-11-19 01:17:43] 在 4.78s 插入 TTS（2.74s）
[2025-11-19 01:18:02] 音频发送完毕，用时 23.64s
[2025-11-19 01:18:02] WebSocket 已关闭，结束接收循环
[2025-11-19 01:18:02] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0019_output.wav，时长 23.09s
[2025-11-19 01:18:02] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0019_output.wav
[2025-11-19 01:18:02] 处理完成: clean_0008_0019.wav
[2025-11-19 01:18:02] -----------------------------------
[2025-11-19 01:18:02] 开始处理文件: clean_0008_0025.wav
[2025-11-19 01:18:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:18:02] 初始化输出 buffer，总时长 21.33s（341296 samples）
[2025-11-19 01:18:02] 开始发送 clean_0008_0025.wav，总帧 1334，时长 21.33s
[2025-11-19 01:18:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.821, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.473, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.567, 'infer_time': 0.089, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.797, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.449, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.543, 'infer_time': 0.09, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.226, 'infer_time': 0.176, 'content': '先冷静沟通，再找解决办法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.341, 'turn': 0, 'state': 'LISTEN', 'content': '如果约会时冲突你怎么办'}}
[2025-11-19 01:18:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.433, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:11] 收到 tts_done, timestamp=8.433s
[2025-11-19 01:18:11] 在 8.43s 插入 TTS（2.41s）
[2025-11-19 01:18:24] 音频发送完毕，用时 21.85s
[2025-11-19 01:18:24] WebSocket 已关闭，结束接收循环
[2025-11-19 01:18:24] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0025_output.wav，时长 21.33s
[2025-11-19 01:18:24] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0025_output.wav
[2025-11-19 01:18:24] 处理完成: clean_0008_0025.wav
[2025-11-19 01:18:24] -----------------------------------
[2025-11-19 01:18:24] 开始处理文件: clean_0008_0028.wav
[2025-11-19 01:18:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:18:24] 初始化输出 buffer，总时长 22.84s（365456 samples）
[2025-11-19 01:18:24] 开始发送 clean_0008_0028.wav，总帧 1428，时长 22.84s
[2025-11-19 01:18:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.826, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.721, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.372, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.47, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.613, 'infer_time': 0.14, 'content': '非标准语法可能影响专业印象', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.671, 'turn': 0, 'state': 'LISTEN', 'content': '那如果求职者使用非标准语法会被视为能力不足吗'}}
[2025-11-19 01:18:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.851, 'infer_time': 0.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:30] 收到 tts_done, timestamp=5.851s
[2025-11-19 01:18:30] 在 5.85s 插入 TTS（3.00s）
[2025-11-19 01:18:47] 音频发送完毕，用时 23.48s
[2025-11-19 01:18:47] WebSocket 已关闭，结束接收循环
[2025-11-19 01:18:47] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0028_output.wav，时长 22.84s
[2025-11-19 01:18:47] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0028_output.wav
[2025-11-19 01:18:47] 处理完成: clean_0008_0028.wav
[2025-11-19 01:18:47] -----------------------------------
[2025-11-19 01:18:47] 开始处理文件: clean_0008_0029.wav
[2025-11-19 01:18:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:18:47] 初始化输出 buffer，总时长 19.90s（318416 samples）
[2025-11-19 01:18:47] 开始发送 clean_0008_0029.wav，总帧 1244，时长 19.90s
[2025-11-19 01:18:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.657, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.401, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.543, 'turn': 0, 'state': 'LISTEN', 'content': '那手臂摆动具体怎么做才标准'}}
[2025-11-19 01:18:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.587, 'infer_time': 0.182, 'content': '手臂摆动要自然，前后约30度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.852, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:18:51] 收到 tts_done, timestamp=3.852s
[2025-11-19 01:18:51] 在 3.85s 插入 TTS（3.28s）
[2025-11-19 01:19:08] 音频发送完毕，用时 20.39s
[2025-11-19 01:19:08] WebSocket 已关闭，结束接收循环
[2025-11-19 01:19:08] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0029_output.wav，时长 19.90s
[2025-11-19 01:19:08] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0008_0029_output.wav
[2025-11-19 01:19:08] 处理完成: clean_0008_0029.wav
[2025-11-19 01:19:08] -----------------------------------
[2025-11-19 01:19:08] 开始处理文件: clean_0009_0003.wav
[2025-11-19 01:19:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:19:08] 初始化输出 buffer，总时长 25.22s（403536 samples）
[2025-11-19 01:19:08] 开始发送 clean_0009_0003.wav，总帧 1577，时长 25.22s
[2025-11-19 01:19:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.971, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.612, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.712, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.888, 'infer_time': 0.172, 'content': '数值模型通过数学方程和算法构建。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.949, 'turn': 0, 'state': 'LISTEN', 'content': '那这些数值模型具体是怎么构建的'}}
[2025-11-19 01:19:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.159, 'infer_time': 0.265, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:14] 收到 tts_done, timestamp=6.159s
[2025-11-19 01:19:14] 在 6.16s 插入 TTS（3.32s）
[2025-11-19 01:19:34] 音频发送完毕，用时 25.83s
[2025-11-19 01:19:34] WebSocket 已关闭，结束接收循环
[2025-11-19 01:19:34] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0003_output.wav，时长 25.22s
[2025-11-19 01:19:34] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0003_output.wav
[2025-11-19 01:19:34] 处理完成: clean_0009_0003.wav
[2025-11-19 01:19:34] -----------------------------------
[2025-11-19 01:19:34] 开始处理文件: clean_0009_0006.wav
[2025-11-19 01:19:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:19:34] 初始化输出 buffer，总时长 25.81s（412976 samples）
[2025-11-19 01:19:34] 开始发送 clean_0009_0006.wav，总帧 1614，时长 25.81s
[2025-11-19 01:19:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.549, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.3, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.45, 'infer_time': 0.144, 'content': '需要出示医生处方和身份证。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.518, 'turn': 0, 'state': 'LISTEN', 'content': '那如果处方药在药店购买时需要出示什么证明吗'}}
[2025-11-19 01:19:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.679, 'infer_time': 0.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:19:40] 收到 tts_done, timestamp=6.679s
[2025-11-19 01:19:40] 在 6.68s 插入 TTS（2.79s）
[2025-11-19 01:20:00] 音频发送完毕，用时 26.51s
[2025-11-19 01:20:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:20:00] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0006_output.wav，时长 25.81s
[2025-11-19 01:20:00] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0006_output.wav
[2025-11-19 01:20:00] 处理完成: clean_0009_0006.wav
[2025-11-19 01:20:00] -----------------------------------
[2025-11-19 01:20:00] 开始处理文件: clean_0009_0007.wav
[2025-11-19 01:20:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:20:00] 初始化输出 buffer，总时长 26.97s（431536 samples）
[2025-11-19 01:20:00] 开始发送 clean_0009_0007.wav，总帧 1686，时长 26.97s
[2025-11-19 01:20:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.931, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.576, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.687, 'infer_time': 0.105, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.887, 'infer_time': 0.196, 'content': '文化融合是动态过程，传统文化会演变而非简单消失。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.892, 'turn': 0, 'state': 'LISTEN', 'content': '那文化融合会不会导致传统文化的消失呢'}}
[2025-11-19 01:20:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.332, 'infer_time': 0.44, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:07] 收到 tts_done, timestamp=6.332s
[2025-11-19 01:20:07] 在 6.33s 插入 TTS（5.01s）
[2025-11-19 01:20:28] 音频发送完毕，用时 27.65s
[2025-11-19 01:20:28] WebSocket 已关闭，结束接收循环
[2025-11-19 01:20:28] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0007_output.wav，时长 26.97s
[2025-11-19 01:20:28] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0007_output.wav
[2025-11-19 01:20:28] 处理完成: clean_0009_0007.wav
[2025-11-19 01:20:28] -----------------------------------
[2025-11-19 01:20:28] 开始处理文件: clean_0009_0008.wav
[2025-11-19 01:20:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:20:28] 初始化输出 buffer，总时长 25.68s（410896 samples）
[2025-11-19 01:20:28] 开始发送 clean_0009_0008.wav，总帧 1606，时长 25.68s
[2025-11-19 01:20:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.574, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.229, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.327, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.475, 'infer_time': 0.144, 'content': '气体分子会扩散到整个空间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.531, 'turn': 0, 'state': 'LISTEN', 'content': '那被撕裂的气体最终会去哪里'}}
[2025-11-19 01:20:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.693, 'infer_time': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:33] 收到 tts_done, timestamp=4.693s
[2025-11-19 01:20:33] 在 4.69s 插入 TTS（2.63s）
[2025-11-19 01:20:54] 音频发送完毕，用时 26.26s
[2025-11-19 01:20:54] WebSocket 已关闭，结束接收循环
[2025-11-19 01:20:54] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0008_output.wav，时长 25.68s
[2025-11-19 01:20:54] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0008_output.wav
[2025-11-19 01:20:54] 处理完成: clean_0009_0008.wav
[2025-11-19 01:20:54] -----------------------------------
[2025-11-19 01:20:54] 开始处理文件: clean_0009_0011.wav
[2025-11-19 01:20:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:20:54] 初始化输出 buffer，总时长 25.99s（415856 samples）
[2025-11-19 01:20:54] 开始发送 clean_0009_0011.wav，总帧 1625，时长 25.99s
[2025-11-19 01:20:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.896, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.994, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:20:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.138, 'turn': 0, 'state': 'LISTEN', 'content': '那社交媒体具体能帮到哪些方面呢'}}
[2025-11-19 01:20:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.185, 'infer_time': 0.186, 'content': '社交媒体能帮到沟通、营销和信息获取等方面。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.49, 'infer_time': 0.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:00] 收到 tts_done, timestamp=5.49s
[2025-11-19 01:21:00] 在 5.49s 插入 TTS（3.87s）
[2025-11-19 01:21:21] 音频发送完毕，用时 26.59s
[2025-11-19 01:21:21] WebSocket 已关闭，结束接收循环
[2025-11-19 01:21:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0011_output.wav，时长 25.99s
[2025-11-19 01:21:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0011_output.wav
[2025-11-19 01:21:21] 处理完成: clean_0009_0011.wav
[2025-11-19 01:21:21] -----------------------------------
[2025-11-19 01:21:21] 开始处理文件: clean_0009_0013.wav
[2025-11-19 01:21:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:21:21] 初始化输出 buffer，总时长 24.59s（393456 samples）
[2025-11-19 01:21:21] 开始发送 clean_0009_0013.wav，总帧 1537，时长 24.59s
[2025-11-19 01:21:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.151, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.803, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.901, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.066, 'infer_time': 0.16, 'content': '超过一个月可能影响效果或产生副作用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.121, 'turn': 0, 'state': 'LISTEN', 'content': '那如果超过一个月用了会有什么后果'}}
[2025-11-19 01:21:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.345, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:26] 收到 tts_done, timestamp=5.345s
[2025-11-19 01:21:26] 在 5.34s 插入 TTS（3.49s）
[2025-11-19 01:21:46] 音频发送完毕，用时 25.13s
[2025-11-19 01:21:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:21:46] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0013_output.wav，时长 24.59s
[2025-11-19 01:21:46] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0013_output.wav
[2025-11-19 01:21:46] 处理完成: clean_0009_0013.wav
[2025-11-19 01:21:46] -----------------------------------
[2025-11-19 01:21:46] 开始处理文件: clean_0009_0015.wav
[2025-11-19 01:21:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:21:46] 初始化输出 buffer，总时长 20.79s（332656 samples）
[2025-11-19 01:21:46] 开始发送 clean_0009_0015.wav，总帧 1300，时长 20.79s
[2025-11-19 01:21:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.412, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.028, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.681, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.779, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.974, 'turn': 0, 'state': 'LISTEN', 'content': '那做卧推的时候也是这样吗'}}
[2025-11-19 01:21:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.979, 'infer_time': 0.195, 'content': '卧推动作要领和深蹲不同，注意安全。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.247, 'infer_time': 0.263, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:21:50] 收到 tts_done, timestamp=4.247s
[2025-11-19 01:21:50] 在 4.25s 插入 TTS（3.32s）
[2025-11-19 01:22:07] 音频发送完毕，用时 21.30s
[2025-11-19 01:22:07] WebSocket 已关闭，结束接收循环
[2025-11-19 01:22:07] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0015_output.wav，时长 20.79s
[2025-11-19 01:22:07] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0015_output.wav
[2025-11-19 01:22:07] 处理完成: clean_0009_0015.wav
[2025-11-19 01:22:07] -----------------------------------
[2025-11-19 01:22:07] 开始处理文件: clean_0009_0019.wav
[2025-11-19 01:22:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:22:07] 初始化输出 buffer，总时长 25.78s（412496 samples）
[2025-11-19 01:22:07] 开始发送 clean_0009_0019.wav，总帧 1612，时长 25.78s
[2025-11-19 01:22:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.67, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.32, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.433, 'infer_time': 0.108, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.625, 'turn': 0, 'state': 'LISTEN', 'content': '如果老人行动不便医院有哪些便利措施'}}
[2025-11-19 01:22:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.625, 'infer_time': 0.188, 'content': '医院有轮椅、优先通道和导诊服务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.893, 'infer_time': 0.262, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:13] 收到 tts_done, timestamp=5.893s
[2025-11-19 01:22:13] 在 5.89s 插入 TTS（3.41s）
[2025-11-19 01:22:34] 音频发送完毕，用时 26.41s
[2025-11-19 01:22:34] WebSocket 已关闭，结束接收循环
[2025-11-19 01:22:34] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0019_output.wav，时长 25.78s
[2025-11-19 01:22:34] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0019_output.wav
[2025-11-19 01:22:34] 处理完成: clean_0009_0019.wav
[2025-11-19 01:22:34] -----------------------------------
[2025-11-19 01:22:34] 开始处理文件: clean_0009_0020.wav
[2025-11-19 01:22:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:22:34] 初始化输出 buffer，总时长 23.49s（375856 samples）
[2025-11-19 01:22:34] 开始发送 clean_0009_0020.wav，总帧 1469，时长 23.49s
[2025-11-19 01:22:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.951, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.595, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.771, 'infer_time': 0.172, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.953, 'turn': 0, 'state': 'LISTEN', 'content': '卫星地图具体用什么软件比较好'}}
[2025-11-19 01:22:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.13, 'infer_time': 0.355, 'content': '谷歌地球和百度地图都很好用', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.377, 'infer_time': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:22:39] 收到 tts_done, timestamp=5.377s
[2025-11-19 01:22:39] 在 5.38s 插入 TTS（2.78s）
[2025-11-19 01:22:58] 音频发送完毕，用时 24.08s
[2025-11-19 01:22:58] WebSocket 已关闭，结束接收循环
[2025-11-19 01:22:58] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0020_output.wav，时长 23.49s
[2025-11-19 01:22:58] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0020_output.wav
[2025-11-19 01:22:58] 处理完成: clean_0009_0020.wav
[2025-11-19 01:22:58] -----------------------------------
[2025-11-19 01:22:58] 开始处理文件: clean_0009_0026.wav
[2025-11-19 01:22:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:22:58] 初始化输出 buffer，总时长 24.34s（389456 samples）
[2025-11-19 01:22:58] 开始发送 clean_0009_0026.wav，总帧 1522，时长 24.34s
[2025-11-19 01:22:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.838, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.937, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.154, 'infer_time': 0.214, 'content': '资金短缺主要表现在现金流紧张、融资困难和运营成本高。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.158, 'turn': 0, 'state': 'LISTEN', 'content': '那资金短缺具体体现在哪些方面'}}
[2025-11-19 01:23:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.554, 'infer_time': 0.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:03] 收到 tts_done, timestamp=5.554s
[2025-11-19 01:23:03] 在 5.55s 插入 TTS（5.41s）
[2025-11-19 01:23:23] 音频发送完毕，用时 24.92s
[2025-11-19 01:23:23] WebSocket 已关闭，结束接收循环
[2025-11-19 01:23:23] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0026_output.wav，时长 24.34s
[2025-11-19 01:23:23] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0026_output.wav
[2025-11-19 01:23:23] 处理完成: clean_0009_0026.wav
[2025-11-19 01:23:23] -----------------------------------
[2025-11-19 01:23:23] 开始处理文件: clean_0009_0031.wav
[2025-11-19 01:23:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:23:23] 初始化输出 buffer，总时长 25.01s（400176 samples）
[2025-11-19 01:23:23] 开始发送 clean_0009_0031.wav，总帧 1564，时长 25.01s
[2025-11-19 01:23:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.17, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.824, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.924, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.072, 'infer_time': 0.143, 'content': '没关系，模糊的记忆也有价值。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.125, 'turn': 0, 'state': 'LISTEN', 'content': '那如果回忆比较久远记不清具体细节怎么办'}}
[2025-11-19 01:23:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.324, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:29] 收到 tts_done, timestamp=6.324s
[2025-11-19 01:23:29] 在 6.32s 插入 TTS（3.12s）
[2025-11-19 01:23:48] 音频发送完毕，用时 25.65s
[2025-11-19 01:23:48] WebSocket 已关闭，结束接收循环
[2025-11-19 01:23:48] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0031_output.wav，时长 25.01s
[2025-11-19 01:23:48] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0031_output.wav
[2025-11-19 01:23:48] 处理完成: clean_0009_0031.wav
[2025-11-19 01:23:48] -----------------------------------
[2025-11-19 01:23:48] 开始处理文件: clean_0009_0035.wav
[2025-11-19 01:23:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:23:48] 初始化输出 buffer，总时长 21.94s（351056 samples）
[2025-11-19 01:23:48] 开始发送 clean_0009_0035.wav，总帧 1372，时长 21.94s
[2025-11-19 01:23:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.25, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.893, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.985, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.155, 'infer_time': 0.166, 'content': '豆沙色很显白，适合你。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.172, 'turn': 0, 'state': 'LISTEN', 'content': '那豆沙色适合我吗'}}
[2025-11-19 01:23:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.358, 'infer_time': 0.197, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:23:52] 收到 tts_done, timestamp=3.358s
[2025-11-19 01:23:52] 在 3.36s 插入 TTS（2.43s）
[2025-11-19 01:24:11] 音频发送完毕，用时 22.43s
[2025-11-19 01:24:11] WebSocket 已关闭，结束接收循环
[2025-11-19 01:24:11] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0035_output.wav，时长 21.94s
[2025-11-19 01:24:11] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0009_0035_output.wav
[2025-11-19 01:24:11] 处理完成: clean_0009_0035.wav
[2025-11-19 01:24:11] -----------------------------------
[2025-11-19 01:24:11] 开始处理文件: clean_0010_0001.wav
[2025-11-19 01:24:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:24:11] 初始化输出 buffer，总时长 20.50s（328016 samples）
[2025-11-19 01:24:11] 开始发送 clean_0010_0001.wav，总帧 1282，时长 20.50s
[2025-11-19 01:24:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.816, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.469, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.562, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.732, 'infer_time': 0.165, 'content': '感觉天旋地转，站不稳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.764, 'turn': 0, 'state': 'LISTEN', 'content': '那头晕眼花具体是什么感觉'}}
[2025-11-19 01:24:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.965, 'infer_time': 0.229, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:15] 收到 tts_done, timestamp=3.965s
[2025-11-19 01:24:15] 在 3.96s 插入 TTS（2.84s）
[2025-11-19 01:24:32] 音频发送完毕，用时 20.93s
[2025-11-19 01:24:32] WebSocket 已关闭，结束接收循环
[2025-11-19 01:24:32] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0001_output.wav，时长 20.50s
[2025-11-19 01:24:32] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0001_output.wav
[2025-11-19 01:24:32] 处理完成: clean_0010_0001.wav
[2025-11-19 01:24:32] -----------------------------------
[2025-11-19 01:24:32] 开始处理文件: clean_0010_0006.wav
[2025-11-19 01:24:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:24:32] 初始化输出 buffer，总时长 24.50s（392016 samples）
[2025-11-19 01:24:32] 开始发送 clean_0010_0006.wav，总帧 1532，时长 24.50s
[2025-11-19 01:24:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.801, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.816, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.469, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.571, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.776, 'infer_time': 0.2, 'content': 'B型血的人通常喜欢策略类和竞技类游戏。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.818, 'turn': 0, 'state': 'LISTEN', 'content': '那 b 型血的人通常会喜欢什么类型的游戏呢'}}
[2025-11-19 01:24:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.057, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:24:38] 收到 tts_done, timestamp=6.057s
[2025-11-19 01:24:38] 在 6.06s 插入 TTS（3.48s）
[2025-11-19 01:24:57] 音频发送完毕，用时 25.09s
[2025-11-19 01:24:57] WebSocket 已关闭，结束接收循环
[2025-11-19 01:24:57] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0006_output.wav，时长 24.50s
[2025-11-19 01:24:57] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0006_output.wav
[2025-11-19 01:24:57] 处理完成: clean_0010_0006.wav
[2025-11-19 01:24:57] -----------------------------------
[2025-11-19 01:24:57] 开始处理文件: clean_0010_0007.wav
[2025-11-19 01:24:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:24:57] 初始化输出 buffer，总时长 20.65s（330416 samples）
[2025-11-19 01:24:57] 开始发送 clean_0010_0007.wav，总帧 1291，时长 20.65s
[2025-11-19 01:24:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.614, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.36, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.513, 'infer_time': 0.147, 'content': '淘宝京东拼多多等都是线上平台。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.543, 'turn': 0, 'state': 'LISTEN', 'content': '线上平台具体是哪些'}}
[2025-11-19 01:25:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.761, 'infer_time': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:01] 收到 tts_done, timestamp=3.761s
[2025-11-19 01:25:01] 在 3.76s 插入 TTS（3.08s）
[2025-11-19 01:25:18] 音频发送完毕，用时 21.05s
[2025-11-19 01:25:18] WebSocket 已关闭，结束接收循环
[2025-11-19 01:25:18] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0007_output.wav，时长 20.65s
[2025-11-19 01:25:18] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0007_output.wav
[2025-11-19 01:25:18] 处理完成: clean_0010_0007.wav
[2025-11-19 01:25:18] -----------------------------------
[2025-11-19 01:25:18] 开始处理文件: clean_0010_0008.wav
[2025-11-19 01:25:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:25:18] 初始化输出 buffer，总时长 22.33s（357296 samples）
[2025-11-19 01:25:18] 开始发送 clean_0010_0008.wav，总帧 1396，时长 22.33s
[2025-11-19 01:25:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.609, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.351, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.528, 'infer_time': 0.173, 'content': '一般浸泡15到30分钟比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.533, 'turn': 0, 'state': 'LISTEN', 'content': '那浸泡多久比较合适呢'}}
[2025-11-19 01:25:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.783, 'infer_time': 0.25, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:22] 收到 tts_done, timestamp=3.783s
[2025-11-19 01:25:22] 在 3.78s 插入 TTS（3.22s）
[2025-11-19 01:25:41] 音频发送完毕，用时 22.75s
[2025-11-19 01:25:41] WebSocket 已关闭，结束接收循环
[2025-11-19 01:25:41] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0008_output.wav，时长 22.33s
[2025-11-19 01:25:41] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0008_output.wav
[2025-11-19 01:25:41] 处理完成: clean_0010_0008.wav
[2025-11-19 01:25:41] -----------------------------------
[2025-11-19 01:25:41] 开始处理文件: clean_0010_0012.wav
[2025-11-19 01:25:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:25:41] 初始化输出 buffer，总时长 22.32s（357136 samples）
[2025-11-19 01:25:41] 开始发送 clean_0010_0012.wav，总帧 1396，时长 22.32s
[2025-11-19 01:25:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.864, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.949, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.051, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.214, 'infer_time': 0.16, 'content': '戴口罩，勤洗手，保持距离。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.274, 'turn': 0, 'state': 'LISTEN', 'content': '那如果必须出门需要采取哪些具体措施'}}
[2025-11-19 01:25:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.456, 'infer_time': 0.236, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:25:46] 收到 tts_done, timestamp=5.456s
[2025-11-19 01:25:46] 在 5.46s 插入 TTS（2.96s）
[2025-11-19 01:26:04] 音频发送完毕，用时 22.82s
[2025-11-19 01:26:04] WebSocket 已关闭，结束接收循环
[2025-11-19 01:26:04] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0012_output.wav，时长 22.32s
[2025-11-19 01:26:04] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0012_output.wav
[2025-11-19 01:26:04] 处理完成: clean_0010_0012.wav
[2025-11-19 01:26:04] -----------------------------------
[2025-11-19 01:26:04] 开始处理文件: clean_0010_0013.wav
[2025-11-19 01:26:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:26:04] 初始化输出 buffer，总时长 21.71s（347376 samples）
[2025-11-19 01:26:04] 开始发送 clean_0010_0013.wav，总帧 1357，时长 21.71s
[2025-11-19 01:26:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.461, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.908, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.559, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.655, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.791, 'infer_time': 0.133, 'content': '保持冷静，及时沟通解决问题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.832, 'turn': 0, 'state': 'LISTEN', 'content': '那如果被骗了怎么避免尴尬'}}
[2025-11-19 01:26:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.031, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:08] 收到 tts_done, timestamp=4.031s
[2025-11-19 01:26:08] 在 4.03s 插入 TTS（2.97s）
[2025-11-19 01:26:26] 音频发送完毕，用时 22.13s
[2025-11-19 01:26:26] WebSocket 已关闭，结束接收循环
[2025-11-19 01:26:26] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0013_output.wav，时长 21.71s
[2025-11-19 01:26:26] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0013_output.wav
[2025-11-19 01:26:26] 处理完成: clean_0010_0013.wav
[2025-11-19 01:26:26] -----------------------------------
[2025-11-19 01:26:26] 开始处理文件: clean_0010_0014.wav
[2025-11-19 01:26:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:26:26] 初始化输出 buffer，总时长 22.83s（365296 samples）
[2025-11-19 01:26:26] 开始发送 clean_0010_0014.wav，总帧 1427，时长 22.83s
[2025-11-19 01:26:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.057, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.71, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.802, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.974, 'turn': 0, 'state': 'LISTEN', 'content': '这些分类垃圾桶是免费发放的吗'}}
[2025-11-19 01:26:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.978, 'infer_time': 0.171, 'content': '是的，这些分类垃圾桶通常是免费发放的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.272, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:30] 收到 tts_done, timestamp=4.272s
[2025-11-19 01:26:30] 在 4.27s 插入 TTS（3.74s）
[2025-11-19 01:26:49] 音频发送完毕，用时 23.29s
[2025-11-19 01:26:49] WebSocket 已关闭，结束接收循环
[2025-11-19 01:26:49] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0014_output.wav，时长 22.83s
[2025-11-19 01:26:49] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0014_output.wav
[2025-11-19 01:26:49] 处理完成: clean_0010_0014.wav
[2025-11-19 01:26:49] -----------------------------------
[2025-11-19 01:26:49] 开始处理文件: clean_0010_0018.wav
[2025-11-19 01:26:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:26:49] 初始化输出 buffer，总时长 21.91s（350576 samples）
[2025-11-19 01:26:49] 开始发送 clean_0010_0018.wav，总帧 1370，时长 21.91s
[2025-11-19 01:26:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.018, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.668, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.763, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.92, 'turn': 0, 'state': 'LISTEN', 'content': '训练后多久补充蛋白质最有效'}}
[2025-11-19 01:26:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.928, 'infer_time': 0.162, 'content': '训练后30分钟内补充最有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.162, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:26:53] 收到 tts_done, timestamp=4.162s
[2025-11-19 01:26:53] 在 4.16s 插入 TTS（2.90s）
[2025-11-19 01:27:11] 音频发送完毕，用时 22.36s
[2025-11-19 01:27:11] WebSocket 已关闭，结束接收循环
[2025-11-19 01:27:11] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0018_output.wav，时长 21.91s
[2025-11-19 01:27:11] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0018_output.wav
[2025-11-19 01:27:11] 处理完成: clean_0010_0018.wav
[2025-11-19 01:27:11] -----------------------------------
[2025-11-19 01:27:11] 开始处理文件: clean_0010_0019.wav
[2025-11-19 01:27:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:27:11] 初始化输出 buffer，总时长 21.93s（350896 samples）
[2025-11-19 01:27:11] 开始发送 clean_0010_0019.wav，总帧 1371，时长 21.93s
[2025-11-19 01:27:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.7, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.864, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.957, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.089, 'turn': 0, 'state': 'LISTEN', 'content': '那如果忘记吃饭可以空腹吃吗'}}
[2025-11-19 01:27:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.143, 'infer_time': 0.183, 'content': '空腹吃东西因人而异，建议适量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.382, 'infer_time': 0.234, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:16] 收到 tts_done, timestamp=4.382s
[2025-11-19 01:27:16] 在 4.38s 插入 TTS（3.01s）
[2025-11-19 01:27:34] 音频发送完毕，用时 22.34s
[2025-11-19 01:27:34] WebSocket 已关闭，结束接收循环
[2025-11-19 01:27:34] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0019_output.wav，时长 21.93s
[2025-11-19 01:27:34] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0019_output.wav
[2025-11-19 01:27:34] 处理完成: clean_0010_0019.wav
[2025-11-19 01:27:34] -----------------------------------
[2025-11-19 01:27:34] 开始处理文件: clean_0010_0027.wav
[2025-11-19 01:27:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:27:34] 初始化输出 buffer，总时长 23.94s（383056 samples）
[2025-11-19 01:27:34] 开始发送 clean_0010_0027.wav，总帧 1497，时长 23.94s
[2025-11-19 01:27:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.516, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.166, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.269, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.441, 'infer_time': 0.167, 'content': '亮色点缀需适量，避免视觉疲劳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.485, 'turn': 0, 'state': 'LISTEN', 'content': '那如果我想加入一些亮色点缀应该注意什么'}}
[2025-11-19 01:27:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.702, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:27:39] 收到 tts_done, timestamp=5.702s
[2025-11-19 01:27:39] 在 5.70s 插入 TTS（3.31s）
[2025-11-19 01:27:58] 音频发送完毕，用时 24.46s
[2025-11-19 01:27:58] WebSocket 已关闭，结束接收循环
[2025-11-19 01:27:58] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0027_output.wav，时长 23.94s
[2025-11-19 01:27:58] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0027_output.wav
[2025-11-19 01:27:58] 处理完成: clean_0010_0027.wav
[2025-11-19 01:27:58] -----------------------------------
[2025-11-19 01:27:58] 开始处理文件: clean_0010_0028.wav
[2025-11-19 01:27:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:27:58] 初始化输出 buffer，总时长 22.86s（365776 samples）
[2025-11-19 01:27:58] 开始发送 clean_0010_0028.wav，总帧 1429，时长 22.86s
[2025-11-19 01:27:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.137, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.046, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.695, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.792, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.943, 'infer_time': 0.147, 'content': '立即停止拉伸，避免受伤。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.951, 'turn': 0, 'state': 'LISTEN', 'content': '如果拉伸时感到疼痛该怎么办'}}
[2025-11-19 01:28:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.141, 'infer_time': 0.193, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:02] 收到 tts_done, timestamp=4.141s
[2025-11-19 01:28:02] 在 4.14s 插入 TTS（2.33s）
[2025-11-19 01:28:21] 音频发送完毕，用时 23.27s
[2025-11-19 01:28:21] WebSocket 已关闭，结束接收循环
[2025-11-19 01:28:21] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0028_output.wav，时长 22.86s
[2025-11-19 01:28:21] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0028_output.wav
[2025-11-19 01:28:21] 处理完成: clean_0010_0028.wav
[2025-11-19 01:28:21] -----------------------------------
[2025-11-19 01:28:21] 开始处理文件: clean_0010_0032.wav
[2025-11-19 01:28:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:28:21] 初始化输出 buffer，总时长 22.27s（356336 samples）
[2025-11-19 01:28:21] 开始发送 clean_0010_0032.wav，总帧 1392，时长 22.27s
[2025-11-19 01:28:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.907, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.0, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.142, 'infer_time': 0.138, 'content': '通常由宠物主人自己承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.263, 'turn': 0, 'state': 'LISTEN', 'content': '绝育手术的费用一般由谁承担呢'}}
[2025-11-19 01:28:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.36, 'infer_time': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:26] 收到 tts_done, timestamp=4.36s
[2025-11-19 01:28:26] 在 4.36s 插入 TTS（2.46s）
[2025-11-19 01:28:44] 音频发送完毕，用时 22.69s
[2025-11-19 01:28:44] WebSocket 已关闭，结束接收循环
[2025-11-19 01:28:44] 已保存对齐音频: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0032_output.wav，时长 22.27s
[2025-11-19 01:28:44] 已保存 TTS 输出: exp/exp13/dev_zh/Speech Directed at Others/clean_0010_0032_output.wav
[2025-11-19 01:28:44] 处理完成: clean_0010_0032.wav
[2025-11-19 01:28:44] -----------------------------------
[2025-11-19 01:28:44] 
进入目录: Third-party Speech_after
[2025-11-19 01:28:44] 开始处理文件: 0001_0009.wav
[2025-11-19 01:28:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:28:44] 初始化输出 buffer，总时长 23.26s（372160 samples）
[2025-11-19 01:28:44] 开始发送 0001_0009.wav，总帧 1454，时长 23.26s
[2025-11-19 01:28:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.826, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.976, 'infer_time': 0.144, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.167, 'turn': 0, 'state': 'LISTEN', 'content': '能详细讲述一下隶书的蚕头燕尾特征吗'}}
[2025-11-19 01:28:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.681, 'infer_time': 1.701, 'content': '好的，隶书的蚕头燕尾是其典型特征。具体来说：\n\n1. **蚕头**：指横画起笔处的形态。书写时，笔锋逆入后稍作停顿、按压，形成一个类似蚕宝宝头部圆润饱满的形状。这个过程也叫“逆锋起笔”或“欲右先左”，目的是蓄势发力。\n\n2. **燕尾**：指捺画收笔处的形态。写捺画时，在出锋前会有一个明显的提按动作，使末端向右上方挑出并分叉成两股细长如燕子尾巴般的线条，显得飘逸灵动。\n\n这种独特的波磔（zhé）效果是隶书区别于篆书和楷书的重要标志之一，体现了汉代书法追求装饰性与节奏感的艺术风格。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 9.742, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 10.038, 'infer_time': 3.349, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:28:54] 收到 tts_done, timestamp=10.038s
[2025-11-19 01:28:54] 在 10.04s 插入 TTS（13.22s）
[2025-11-19 01:28:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.099, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.877, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.524, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.622, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.74, 'infer_time': 0.113, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能详细讲述一下隶书的蚕头燕尾特征吗'}]}, {'role': 'assistant', 'content': '好的，隶书的蚕头燕尾是其典型特征。具体来说：\n\n1. **蚕头**：指横画起笔处的形态。书写时，笔锋逆入后稍作停顿、按压，形成一个类似蚕宝宝头部圆润饱满的形状。这个过程也叫“逆锋起笔”或“欲右先左”，目的是蓄势发力。\n\n2. **燕尾**：指捺画收笔处的形态。写捺画时，在出锋前会有一个明显的提按动作，使末端向右上方挑出并分叉成两股细长如燕子尾巴般的线条，显得飘逸灵动。\n\n这种独特的波磔（zhé）效果是隶书区别于篆书和楷书的重要标志之一，体现了汉代书法追求装饰性与节奏感的艺术风格。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.908, 'infer_time': 0.167, 'content': '蚕头燕尾是隶书典型笔画特征', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能详细讲述一下隶书的蚕头燕尾特征吗'}]}, {'role': 'assistant', 'content': '好的，隶书的蚕头燕尾是其典型特征。具体来说：\n\n1. **蚕头**：指横画起笔处的形态。书写时，笔锋逆入后稍作停顿、按压，形成一个类似蚕宝宝头部圆润饱满的形状。这个过程也叫“逆锋起笔”或“欲右先左”，目的是蓄势发力。\n\n2. **燕尾**：指捺画收笔处的形态。写捺画时，在出锋前会有一个明显的提按动作，使末端向右上方挑出并分叉成两股细长如燕子尾巴般的线条，显得飘逸灵动。\n\n这种独特的波磔（zhé）效果是隶书区别于篆书和楷书的重要标志之一，体现了汉代书法追求装饰性与节奏感的艺术风格。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.151, 'infer_time': 0.238, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:28:59] 收到 tts_done, timestamp=15.151s
[2025-11-19 01:28:59] 在 15.15s 插入 TTS（3.11s）
[2025-11-19 01:29:08] 音频发送完毕，用时 23.94s
[2025-11-19 01:29:08] WebSocket 已关闭，结束接收循环
[2025-11-19 01:29:08] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0001_0009_output.wav，时长 23.26s
[2025-11-19 01:29:08] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0001_0009_output.wav
[2025-11-19 01:29:08] 处理完成: 0001_0009.wav
[2025-11-19 01:29:08] -----------------------------------
[2025-11-19 01:29:08] 开始处理文件: 0001_0016.wav
[2025-11-19 01:29:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:29:08] 初始化输出 buffer，总时长 23.01s（368160 samples）
[2025-11-19 01:29:08] 开始发送 0001_0016.wav，总帧 1439，时长 23.01s
[2025-11-19 01:29:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.8, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.093, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.744, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.841, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.022, 'turn': 0, 'state': 'LISTEN', 'content': '当我感到焦虑时哪种呼吸技巧最有效'}}
[2025-11-19 01:29:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.045, 'infer_time': 0.199, 'content': '试试4-7-8呼吸法，特别管用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.297, 'infer_time': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:14] 收到 tts_done, timestamp=5.297s
[2025-11-19 01:29:14] 在 5.30s 插入 TTS（3.05s）
[2025-11-19 01:29:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.633}}
[2025-11-19 01:29:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.146, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.598, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.247, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.341, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.433, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '当我感到焦虑时哪种呼吸技巧最有效'}]}, {'role': 'assistant', 'content': '试试4-7-8呼吸法，特别管用。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.596, 'infer_time': 0.162, 'content': '试试4-7-8呼吸法，特别管用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '当我感到焦虑时哪种呼吸技巧最有效'}]}, {'role': 'assistant', 'content': '试试4-7-8呼吸法，特别管用。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.827, 'infer_time': 0.226, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:23] 收到 tts_done, timestamp=14.827s
[2025-11-19 01:29:23] 在 14.83s 插入 TTS（2.87s）
[2025-11-19 01:29:32] 音频发送完毕，用时 23.69s
[2025-11-19 01:29:32] WebSocket 已关闭，结束接收循环
[2025-11-19 01:29:32] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0001_0016_output.wav，时长 23.01s
[2025-11-19 01:29:32] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0001_0016_output.wav
[2025-11-19 01:29:32] 处理完成: 0001_0016.wav
[2025-11-19 01:29:32] -----------------------------------
[2025-11-19 01:29:32] 开始处理文件: 0001_0018.wav
[2025-11-19 01:29:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:29:32] 初始化输出 buffer，总时长 23.18s（370880 samples）
[2025-11-19 01:29:32] 开始发送 0001_0018.wav，总帧 1449，时长 23.18s
[2025-11-19 01:29:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.687, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.34, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.439, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.603, 'infer_time': 0.159, 'content': '教育扶贫改善了偏远地区教学条件。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.632, 'turn': 0, 'state': 'LISTEN', 'content': '最近几年教育扶贫在偏远地区的具体成效有哪些'}}
[2025-11-19 01:29:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.857, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:29:38] 收到 tts_done, timestamp=5.857s
[2025-11-19 01:29:38] 在 5.86s 插入 TTS（3.06s）
[2025-11-19 01:29:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.257}}
[2025-11-19 01:29:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.764, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.831, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.479, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.574, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.664, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近几年教育扶贫在偏远地区的具体成效有哪些'}]}, {'role': 'assistant', 'content': '教育扶贫改善了偏远地区教学条件。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.787, 'infer_time': 0.122, 'content': '教育扶贫改善了偏远地区教学条件。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近几年教育扶贫在偏远地区的具体成效有哪些'}]}, {'role': 'assistant', 'content': '教育扶贫改善了偏远地区教学条件。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.043, 'infer_time': 0.25, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:29:47] 收到 tts_done, timestamp=15.043s
[2025-11-19 01:29:47] 在 15.04s 插入 TTS（3.25s）
[2025-11-19 01:29:56] 音频发送完毕，用时 23.85s
[2025-11-19 01:29:56] WebSocket 已关闭，结束接收循环
[2025-11-19 01:29:56] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0001_0018_output.wav，时长 23.18s
[2025-11-19 01:29:56] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0001_0018_output.wav
[2025-11-19 01:29:56] 处理完成: 0001_0018.wav
[2025-11-19 01:29:56] -----------------------------------
[2025-11-19 01:29:56] 开始处理文件: 0001_0024.wav
[2025-11-19 01:29:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:29:56] 初始化输出 buffer，总时长 23.95s（383200 samples）
[2025-11-19 01:29:56] 开始发送 0001_0024.wav，总帧 1497，时长 23.95s
[2025-11-19 01:29:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.785, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.436, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.532, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.729, 'infer_time': 0.191, 'content': '短期记忆是临时存储，长期记忆则持久保存。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.81, 'turn': 0, 'state': 'LISTEN', 'content': '人类的短期记忆和长期记忆在脑科学中的区别是什么'}}
[2025-11-19 01:30:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.096, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:03] 收到 tts_done, timestamp=7.096s
[2025-11-19 01:30:03] 在 7.10s 插入 TTS（4.72s）
[2025-11-19 01:30:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.296}}
[2025-11-19 01:30:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.81, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.167, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.621, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.362, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.452, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '人类的短期记忆和长期记忆在脑科学中的区别是什么'}]}, {'role': 'assistant', 'content': '短期记忆是临时存储，长期记忆则持久保存。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.603, 'infer_time': 0.15, 'content': '短期记忆是临时存储，长期记忆则持久保存。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '人类的短期记忆和长期记忆在脑科学中的区别是什么'}]}, {'role': 'assistant', 'content': '短期记忆是临时存储，长期记忆则持久保存。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.991, 'infer_time': 0.383, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:12] 收到 tts_done, timestamp=15.991s
[2025-11-19 01:30:12] 在 15.99s 插入 TTS（5.04s）
[2025-11-19 01:30:20] 音频发送完毕，用时 24.69s
[2025-11-19 01:30:20] WebSocket 已关闭，结束接收循环
[2025-11-19 01:30:20] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0001_0024_output.wav，时长 23.95s
[2025-11-19 01:30:20] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0001_0024_output.wav
[2025-11-19 01:30:20] 处理完成: 0001_0024.wav
[2025-11-19 01:30:20] -----------------------------------
[2025-11-19 01:30:20] 开始处理文件: 0001_0030.wav
[2025-11-19 01:30:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:30:20] 初始化输出 buffer，总时长 23.20s（371200 samples）
[2025-11-19 01:30:20] 开始发送 0001_0030.wav，总帧 1450，时长 23.20s
[2025-11-19 01:30:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.902, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.522, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.796, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.448, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.544, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.708, 'infer_time': 0.159, 'content': '试试深呼吸，适当休息放松一下。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.809, 'turn': 0, 'state': 'LISTEN', 'content': '最近工作压力好大总觉得喘不过气我该怎么办'}}
[2025-11-19 01:30:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.974, 'infer_time': 0.262, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:26] 收到 tts_done, timestamp=5.974s
[2025-11-19 01:30:26] 在 5.97s 插入 TTS（3.35s）
[2025-11-19 01:30:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.402}}
[2025-11-19 01:30:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.915, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.827, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.475, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.566, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.655, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近工作压力好大总觉得喘不过气我该怎么办'}]}, {'role': 'assistant', 'content': '试试深呼吸，适当休息放松一下。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.782, 'turn': 1, 'state': 'LISTEN', 'content': '要去千岛湖的路线规划好了吗要不要现在讨论'}}
[2025-11-19 01:30:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.815, 'infer_time': 0.157, 'content': '路线规划好了，现在可以讨论细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近工作压力好大总觉得喘不过气我该怎么办'}]}, {'role': 'assistant', 'content': '试试深呼吸，适当休息放松一下。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.083, 'infer_time': 0.263, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:36] 收到 tts_done, timestamp=15.083s
[2025-11-19 01:30:36] 在 15.08s 插入 TTS（3.38s）
[2025-11-19 01:30:44] 音频发送完毕，用时 23.86s
[2025-11-19 01:30:44] WebSocket 已关闭，结束接收循环
[2025-11-19 01:30:44] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0001_0030_output.wav，时长 23.20s
[2025-11-19 01:30:44] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0001_0030_output.wav
[2025-11-19 01:30:44] 处理完成: 0001_0030.wav
[2025-11-19 01:30:44] -----------------------------------
[2025-11-19 01:30:44] 开始处理文件: 0002_0010.wav
[2025-11-19 01:30:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:30:44] 初始化输出 buffer，总时长 23.01s（368160 samples）
[2025-11-19 01:30:44] 开始发送 0002_0010.wav，总帧 1439，时长 23.01s
[2025-11-19 01:30:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.651, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.397, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.55, 'infer_time': 0.149, 'content': '多视频聊天，分享日常细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.557, 'turn': 0, 'state': 'LISTEN', 'content': '和朋友异地后怎么保持亲密联系'}}
[2025-11-19 01:30:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.809, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:30:49] 收到 tts_done, timestamp=4.809s
[2025-11-19 01:30:49] 在 4.81s 插入 TTS（3.30s）
[2025-11-19 01:30:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.017}}
[2025-11-19 01:30:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.529, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.714, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.589, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.237, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.331, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.422, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '和朋友异地后怎么保持亲密联系'}]}, {'role': 'assistant', 'content': '多视频聊天，分享日常细节。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.535, 'infer_time': 0.112, 'content': '多视频聊天，分享日常细节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '和朋友异地后怎么保持亲密联系'}]}, {'role': 'assistant', 'content': '多视频聊天，分享日常细节。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.751, 'infer_time': 0.211, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:30:59] 收到 tts_done, timestamp=14.751s
[2025-11-19 01:30:59] 在 14.75s 插入 TTS（2.69s）
[2025-11-19 01:31:08] 音频发送完毕，用时 23.67s
[2025-11-19 01:31:08] WebSocket 已关闭，结束接收循环
[2025-11-19 01:31:08] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0002_0010_output.wav，时长 23.01s
[2025-11-19 01:31:08] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0002_0010_output.wav
[2025-11-19 01:31:08] 处理完成: 0002_0010.wav
[2025-11-19 01:31:08] -----------------------------------
[2025-11-19 01:31:08] 开始处理文件: 0002_0011.wav
[2025-11-19 01:31:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:31:08] 初始化输出 buffer，总时长 24.63s（394080 samples）
[2025-11-19 01:31:08] 开始发送 0002_0011.wav，总帧 1540，时长 24.63s
[2025-11-19 01:31:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.532, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.182, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.284, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.434, 'infer_time': 0.145, 'content': '多沟通，理解对方感受。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.495, 'turn': 0, 'state': 'LISTEN', 'content': '最竟和伴侣总是因为小事争吵感觉婚姻出现了危机我该怎么办'}}
[2025-11-19 01:31:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.641, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:15] 收到 tts_done, timestamp=6.641s
[2025-11-19 01:31:15] 在 6.64s 插入 TTS（2.40s）
[2025-11-19 01:31:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.534}}
[2025-11-19 01:31:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.855, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:31:21] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.038, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.221, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.87, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.965, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.055, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最竟和伴侣总是因为小事争吵感觉婚姻出现了危机我该怎么办'}]}, {'role': 'assistant', 'content': '多沟通，理解对方感受。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.19, 'turn': 1, 'state': 'LISTEN', 'content': '管理的怎么样上次说的健身计划开始了吗'}}
[2025-11-19 01:31:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.218, 'infer_time': 0.159, 'content': '坚持健身，循序渐进最重要。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最竟和伴侣总是因为小事争吵感觉婚姻出现了危机我该怎么办'}]}, {'role': 'assistant', 'content': '多沟通，理解对方感受。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.45, 'infer_time': 0.225, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:25] 收到 tts_done, timestamp=16.45s
[2025-11-19 01:31:25] 在 16.45s 插入 TTS（2.87s）
[2025-11-19 01:31:33] 音频发送完毕，用时 25.36s
[2025-11-19 01:31:33] WebSocket 已关闭，结束接收循环
[2025-11-19 01:31:33] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0002_0011_output.wav，时长 24.63s
[2025-11-19 01:31:33] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0002_0011_output.wav
[2025-11-19 01:31:33] 处理完成: 0002_0011.wav
[2025-11-19 01:31:33] -----------------------------------
[2025-11-19 01:31:33] 开始处理文件: 0002_0021.wav
[2025-11-19 01:31:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:31:33] 初始化输出 buffer，总时长 25.54s（408640 samples）
[2025-11-19 01:31:33] 开始发送 0002_0021.wav，总帧 1597，时长 25.54s
[2025-11-19 01:31:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.469, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.118, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.219, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.505, 'infer_time': 0.281, 'content': 'CRISPR基因编辑技术已用于治疗镰状细胞病和β地中海贫血等血液疾病。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.543, 'turn': 0, 'state': 'LISTEN', 'content': 'b r i s p r 基因编辑技术目前有哪些最新的临床应用'}}
[2025-11-19 01:31:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.952, 'infer_time': 0.442, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:31:41] 收到 tts_done, timestamp=7.952s
[2025-11-19 01:31:41] 在 7.95s 插入 TTS（6.08s）
[2025-11-19 01:31:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.749}}
[2025-11-19 01:31:47] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.252, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.191, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.839, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.939, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.051, 'infer_time': 0.108, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'b r i s p r 基因编辑技术目前有哪些最新的临床应用'}]}, {'role': 'assistant', 'content': 'CRISPR基因编辑技术已用于治疗镰状细胞病和β地中海贫血等血液疾病。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.213, 'turn': 1, 'state': 'LISTEN', 'content': '你最近在读的那本人类简史对你有怎样的启发'}}
[2025-11-19 01:31:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.257, 'infer_time': 0.201, 'content': '这本书让我重新思考人类在宇宙中的位置和未来发展方向。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'b r i s p r 基因编辑技术目前有哪些最新的临床应用'}]}, {'role': 'assistant', 'content': 'CRISPR基因编辑技术已用于治疗镰状细胞病和β地中海贫血等血液疾病。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.638, 'infer_time': 0.375, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:31:51] 收到 tts_done, timestamp=17.638s
[2025-11-19 01:31:51] 在 17.64s 插入 TTS（5.07s）
[2025-11-19 01:32:00] 音频发送完毕，用时 26.27s
[2025-11-19 01:32:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:32:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0002_0021_output.wav，时长 25.54s
[2025-11-19 01:32:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0002_0021_output.wav
[2025-11-19 01:32:00] 处理完成: 0002_0021.wav
[2025-11-19 01:32:00] -----------------------------------
[2025-11-19 01:32:00] 开始处理文件: 0002_0028.wav
[2025-11-19 01:32:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:32:00] 初始化输出 buffer，总时长 22.62s（361920 samples）
[2025-11-19 01:32:00] 开始发送 0002_0028.wav，总帧 1414，时长 22.62s
[2025-11-19 01:32:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.661, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.312, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.413, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.541, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得现在中小学教师的薪资水平是否合理'}}
[2025-11-19 01:32:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.595, 'infer_time': 0.178, 'content': '教师薪资与付出不完全匹配，有待提升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.913, 'infer_time': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:05] 收到 tts_done, timestamp=4.913s
[2025-11-19 01:32:05] 在 4.91s 插入 TTS（4.10s）
[2025-11-19 01:32:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.915}}
[2025-11-19 01:32:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.424, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.189, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.837, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.935, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.029, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得现在中小学教师的薪资水平是否合理'}]}, {'role': 'assistant', 'content': '教师薪资与付出不完全匹配，有待提升。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.17, 'infer_time': 0.141, 'content': '教师薪资与付出不完全匹配，有待提升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得现在中小学教师的薪资水平是否合理'}]}, {'role': 'assistant', 'content': '教师薪资与付出不完全匹配，有待提升。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.483, 'infer_time': 0.308, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:14] 收到 tts_done, timestamp=14.483s
[2025-11-19 01:32:14] 在 14.48s 插入 TTS（3.95s）
[2025-11-19 01:32:23] 音频发送完毕，用时 23.26s
[2025-11-19 01:32:23] WebSocket 已关闭，结束接收循环
[2025-11-19 01:32:23] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0002_0028_output.wav，时长 22.62s
[2025-11-19 01:32:23] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0002_0028_output.wav
[2025-11-19 01:32:23] 处理完成: 0002_0028.wav
[2025-11-19 01:32:23] -----------------------------------
[2025-11-19 01:32:23] 开始处理文件: 0003_0011.wav
[2025-11-19 01:32:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:32:23] 初始化输出 buffer，总时长 24.71s（395360 samples）
[2025-11-19 01:32:23] 开始发送 0003_0011.wav，总帧 1545，时长 24.71s
[2025-11-19 01:32:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.629, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.379, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.569, 'infer_time': 0.185, 'content': '是的，每天冥想十分钟能有效改善焦虑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.585, 'turn': 0, 'state': 'LISTEN', 'content': '每天冥想十分钟真的能改善焦虑吗'}}
[2025-11-19 01:32:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.868, 'infer_time': 0.294, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:28] 收到 tts_done, timestamp=4.868s
[2025-11-19 01:32:28] 在 4.87s 插入 TTS（3.80s）
[2025-11-19 01:32:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.034}}
[2025-11-19 01:32:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.548, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.591, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.375, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.023, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.13, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.243, 'infer_time': 0.109, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '每天冥想十分钟真的能改善焦虑吗'}]}, {'role': 'assistant', 'content': '是的，每天冥想十分钟能有效改善焦虑。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.449, 'turn': 1, 'state': 'LISTEN', 'content': '上次在团队聚餐讲的那个客户段子太有意思了能再说一遍吗'}}
[2025-11-19 01:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.45, 'infer_time': 0.201, 'content': '当然可以，那个客户段子确实很有趣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '每天冥想十分钟真的能改善焦虑吗'}]}, {'role': 'assistant', 'content': '是的，每天冥想十分钟能有效改善焦虑。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.751, 'infer_time': 0.295, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:32:40] 收到 tts_done, timestamp=16.751s
[2025-11-19 01:32:40] 在 16.75s 插入 TTS（3.88s）
[2025-11-19 01:32:48] 音频发送完毕，用时 25.51s
[2025-11-19 01:32:48] WebSocket 已关闭，结束接收循环
[2025-11-19 01:32:48] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0003_0011_output.wav，时长 24.71s
[2025-11-19 01:32:48] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0003_0011_output.wav
[2025-11-19 01:32:48] 处理完成: 0003_0011.wav
[2025-11-19 01:32:48] -----------------------------------
[2025-11-19 01:32:48] 开始处理文件: 0003_0022.wav
[2025-11-19 01:32:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:32:48] 初始化输出 buffer，总时长 23.40s（374400 samples）
[2025-11-19 01:32:48] 开始发送 0003_0022.wav，总帧 1463，时长 23.40s
[2025-11-19 01:32:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.149, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.768, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.417, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.512, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.658, 'turn': 0, 'state': 'LISTEN', 'content': '民族舞的基本功训练有哪些要点'}}
[2025-11-19 01:32:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.8, 'infer_time': 0.284, 'content': '民族舞基本功训练要点包括：站姿、手位、脚位、身韵和节奏感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.341, 'infer_time': 0.535, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:32:54] 收到 tts_done, timestamp=5.341s
[2025-11-19 01:32:54] 在 5.34s 插入 TTS（7.36s）
[2025-11-19 01:32:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.169}}
[2025-11-19 01:32:59] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.681, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.511, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.071, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.721, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.818, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.909, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '民族舞的基本功训练有哪些要点'}]}, {'role': 'assistant', 'content': '民族舞基本功训练要点包括：站姿、手位、脚位、身韵和节奏感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.138, 'infer_time': 0.225, 'content': '加绒围巾在衣柜左边第三层挂着，记得取用保暖。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '民族舞的基本功训练有哪些要点'}]}, {'role': 'assistant', 'content': '民族舞基本功训练要点包括：站姿、手位、脚位、身韵和节奏感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.179, 'turn': 1, 'state': 'LISTEN', 'content': '那条加绒围巾放哪儿了最近降温的注意保暖'}}
[2025-11-19 01:33:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.502, 'infer_time': 0.358, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:04] 收到 tts_done, timestamp=15.502s
[2025-11-19 01:33:04] 在 15.50s 插入 TTS（4.94s）
[2025-11-19 01:33:13] 音频发送完毕，用时 24.10s
[2025-11-19 01:33:13] WebSocket 已关闭，结束接收循环
[2025-11-19 01:33:13] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0003_0022_output.wav，时长 23.40s
[2025-11-19 01:33:13] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0003_0022_output.wav
[2025-11-19 01:33:13] 处理完成: 0003_0022.wav
[2025-11-19 01:33:13] -----------------------------------
[2025-11-19 01:33:13] 开始处理文件: 0003_0024.wav
[2025-11-19 01:33:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:33:13] 初始化输出 buffer，总时长 22.64s（362240 samples）
[2025-11-19 01:33:13] 开始发送 0003_0024.wav，总帧 1415，时长 22.64s
[2025-11-19 01:33:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.932, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.581, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.678, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.815, 'turn': 0, 'state': 'LISTEN', 'content': '最近感觉和恋人聊天变少了该怎么改善'}}
[2025-11-19 01:33:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.84, 'infer_time': 0.157, 'content': '主动创造共同话题，增加互动频率。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.093, 'infer_time': 0.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:18] 收到 tts_done, timestamp=5.093s
[2025-11-19 01:33:18] 在 5.09s 插入 TTS（3.20s）
[2025-11-19 01:33:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.191}}
[2025-11-19 01:33:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.703, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.237, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.885, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.98, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.071, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近感觉和恋人聊天变少了该怎么改善'}]}, {'role': 'assistant', 'content': '主动创造共同话题，增加互动频率。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.272, 'infer_time': 0.193, 'content': '团队KPI完成情况良好，正按计划推进。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近感觉和恋人聊天变少了该怎么改善'}]}, {'role': 'assistant', 'content': '主动创造共同话题，增加互动频率。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.282, 'turn': 1, 'state': 'LISTEN', 'content': '你们团队这季度的 kpi 完成的怎么样了'}}
[2025-11-19 01:33:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.592, 'infer_time': 0.315, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:27] 收到 tts_done, timestamp=14.592s
[2025-11-19 01:33:27] 在 14.59s 插入 TTS（4.17s）
[2025-11-19 01:33:36] 音频发送完毕，用时 23.30s
[2025-11-19 01:33:36] WebSocket 已关闭，结束接收循环
[2025-11-19 01:33:36] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0003_0024_output.wav，时长 22.64s
[2025-11-19 01:33:36] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0003_0024_output.wav
[2025-11-19 01:33:36] 处理完成: 0003_0024.wav
[2025-11-19 01:33:36] -----------------------------------
[2025-11-19 01:33:36] 开始处理文件: 0003_0039.wav
[2025-11-19 01:33:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:33:36] 初始化输出 buffer，总时长 23.03s（368480 samples）
[2025-11-19 01:33:36] 开始发送 0003_0039.wav，总帧 1440，时长 23.03s
[2025-11-19 01:33:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.779, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.43, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.525, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.645, 'turn': 0, 'state': 'LISTEN', 'content': '视脚走路对健康有什么好处'}}
[2025-11-19 01:33:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.72, 'infer_time': 0.191, 'content': '赤脚走路能促进血液循环，增强足底肌肉力量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.052, 'infer_time': 0.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:33:40] 收到 tts_done, timestamp=4.052s
[2025-11-19 01:33:40] 在 4.05s 插入 TTS（4.42s）
[2025-11-19 01:33:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.073}}
[2025-11-19 01:33:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.585, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.198, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.661, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.31, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.41, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.505, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '视脚走路对健康有什么好处'}]}, {'role': 'assistant', 'content': '赤脚走路能促进血液循环，增强足底肌肉力量。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.666, 'infer_time': 0.16, 'content': '赤脚走路能促进血液循环，增强足底肌肉力量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '视脚走路对健康有什么好处'}]}, {'role': 'assistant', 'content': '赤脚走路能促进血液循环，增强足底肌肉力量。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.967, 'infer_time': 0.296, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:33:51] 收到 tts_done, timestamp=14.967s
[2025-11-19 01:33:51] 在 14.97s 插入 TTS（4.03s）
[2025-11-19 01:34:00] 音频发送完毕，用时 23.70s
[2025-11-19 01:34:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:34:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0003_0039_output.wav，时长 23.03s
[2025-11-19 01:34:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0003_0039_output.wav
[2025-11-19 01:34:00] 处理完成: 0003_0039.wav
[2025-11-19 01:34:00] -----------------------------------
[2025-11-19 01:34:00] 开始处理文件: 0004_0003.wav
[2025-11-19 01:34:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:34:00] 初始化输出 buffer，总时长 26.00s（416000 samples）
[2025-11-19 01:34:00] 开始发送 0004_0003.wav，总帧 1625，时长 26.00s
[2025-11-19 01:34:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.354, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.943, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 8.598, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.704, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.865, 'infer_time': 0.156, 'content': '应立即上报并回避相关决策。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 9.012, 'turn': 0, 'state': 'LISTEN', 'content': '作为项目经理如果发现团队成员与供应商存在私人利益关系应该如何处理'}}
[2025-11-19 01:34:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 9.072, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:09] 收到 tts_done, timestamp=9.072s
[2025-11-19 01:34:09] 在 9.07s 插入 TTS（2.59s）
[2025-11-19 01:34:14] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 13.904}}
[2025-11-19 01:34:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 15.419, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.857, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.506, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.597, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.687, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '作为项目经理如果发现团队成员与供应商存在私人利益关系应该如何处理'}]}, {'role': 'assistant', 'content': '应立即上报并回避相关决策。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.803, 'turn': 1, 'state': 'LISTEN', 'content': '毕业后这些工作还是继续深造了吗'}}
[2025-11-19 01:34:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.841, 'infer_time': 0.15, 'content': '根据职业规划选择，各有优势。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '作为项目经理如果发现团队成员与供应商存在私人利益关系应该如何处理'}]}, {'role': 'assistant', 'content': '应立即上报并回避相关决策。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.079, 'infer_time': 0.233, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:18] 收到 tts_done, timestamp=18.079s
[2025-11-19 01:34:18] 在 18.08s 插入 TTS（3.03s）
[2025-11-19 01:34:27] 音频发送完毕，用时 26.96s
[2025-11-19 01:34:27] WebSocket 已关闭，结束接收循环
[2025-11-19 01:34:27] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0004_0003_output.wav，时长 26.00s
[2025-11-19 01:34:27] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0004_0003_output.wav
[2025-11-19 01:34:27] 处理完成: 0004_0003.wav
[2025-11-19 01:34:27] -----------------------------------
[2025-11-19 01:34:27] 开始处理文件: 0004_0008.wav
[2025-11-19 01:34:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:34:27] 初始化输出 buffer，总时长 22.87s（365920 samples）
[2025-11-19 01:34:27] 开始发送 0004_0008.wav，总帧 1430，时长 22.87s
[2025-11-19 01:34:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.052, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.707, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.804, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.953, 'turn': 0, 'state': 'LISTEN', 'content': '高血压患者适合吃哪些水果来控制血压'}}
[2025-11-19 01:34:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.995, 'infer_time': 0.186, 'content': '香蕉、猕猴桃和蓝莓适合高血压患者。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.287, 'infer_time': 0.288, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:32] 收到 tts_done, timestamp=5.287s
[2025-11-19 01:34:32] 在 5.29s 插入 TTS（3.80s）
[2025-11-19 01:34:36] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.719}}
[2025-11-19 01:34:38] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.231, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.41, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.061, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.156, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.249, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '高血压患者适合吃哪些水果来控制血压'}]}, {'role': 'assistant', 'content': '香蕉、猕猴桃和蓝莓适合高血压患者。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.4, 'infer_time': 0.15, 'content': '香蕉、猕猴桃和蓝莓适合高血压患者。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '高血压患者适合吃哪些水果来控制血压'}]}, {'role': 'assistant', 'content': '香蕉、猕猴桃和蓝莓适合高血压患者。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.671, 'infer_time': 0.266, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:34:41] 收到 tts_done, timestamp=14.671s
[2025-11-19 01:34:41] 在 14.67s 插入 TTS（3.73s）
[2025-11-19 01:34:50] 音频发送完毕，用时 23.61s
[2025-11-19 01:34:50] WebSocket 已关闭，结束接收循环
[2025-11-19 01:34:50] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0004_0008_output.wav，时长 22.87s
[2025-11-19 01:34:50] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0004_0008_output.wav
[2025-11-19 01:34:50] 处理完成: 0004_0008.wav
[2025-11-19 01:34:50] -----------------------------------
[2025-11-19 01:34:50] 开始处理文件: 0004_0027.wav
[2025-11-19 01:34:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:34:50] 初始化输出 buffer，总时长 23.01s（368160 samples）
[2025-11-19 01:34:50] 开始发送 0004_0027.wav，总帧 1439，时长 23.01s
[2025-11-19 01:34:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.3, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.955, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.054, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.242, 'turn': 0, 'state': 'LISTEN', 'content': '端午节挂艾草有什么特别讲究吗'}}
[2025-11-19 01:34:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.263, 'infer_time': 0.204, 'content': '挂艾草能驱邪避疫，保佑平安健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.536, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:34:55] 收到 tts_done, timestamp=4.536s
[2025-11-19 01:34:55] 在 4.54s 插入 TTS（3.41s）
[2025-11-19 01:34:59] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.685}}
[2025-11-19 01:35:00] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.197, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.719, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.367, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.466, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.562, 'infer_time': 0.091, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '端午节挂艾草有什么特别讲究吗'}]}, {'role': 'assistant', 'content': '挂艾草能驱邪避疫，保佑平安健康。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.73, 'infer_time': 0.167, 'content': '挂艾草能驱邪避疫，保佑平安健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '端午节挂艾草有什么特别讲究吗'}]}, {'role': 'assistant', 'content': '挂艾草能驱邪避疫，保佑平安健康。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.985, 'infer_time': 0.249, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:05] 收到 tts_done, timestamp=14.985s
[2025-11-19 01:35:05] 在 14.98s 插入 TTS（3.22s）
[2025-11-19 01:35:14] 音频发送完毕，用时 23.75s
[2025-11-19 01:35:14] WebSocket 已关闭，结束接收循环
[2025-11-19 01:35:14] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0004_0027_output.wav，时长 23.01s
[2025-11-19 01:35:14] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0004_0027_output.wav
[2025-11-19 01:35:14] 处理完成: 0004_0027.wav
[2025-11-19 01:35:14] -----------------------------------
[2025-11-19 01:35:14] 开始处理文件: 0004_0032.wav
[2025-11-19 01:35:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:35:14] 初始化输出 buffer，总时长 23.49s（375840 samples）
[2025-11-19 01:35:14] 开始发送 0004_0032.wav，总帧 1469，时长 23.49s
[2025-11-19 01:35:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.064, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.687, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.342, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.443, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.594, 'infer_time': 0.145, 'content': '团队游戏能增强信任与协作', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.73, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过游戏活动提升队伍的凝聚力'}}
[2025-11-19 01:35:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.838, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:20] 收到 tts_done, timestamp=5.838s
[2025-11-19 01:35:20] 在 5.84s 插入 TTS（3.03s）
[2025-11-19 01:35:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.074}}
[2025-11-19 01:35:26] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.584, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.233, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.881, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.978, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.069, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过游戏活动提升队伍的凝聚力'}]}, {'role': 'assistant', 'content': '团队游戏能增强信任与协作'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.171, 'infer_time': 0.102, 'content': '团队游戏能增强信任与协作', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过游戏活动提升队伍的凝聚力'}]}, {'role': 'assistant', 'content': '团队游戏能增强信任与协作'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.402, 'infer_time': 0.227, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:29] 收到 tts_done, timestamp=15.402s
[2025-11-19 01:35:29] 在 15.40s 插入 TTS（3.04s）
[2025-11-19 01:35:38] 音频发送完毕，用时 24.25s
[2025-11-19 01:35:38] WebSocket 已关闭，结束接收循环
[2025-11-19 01:35:38] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0004_0032_output.wav，时长 23.49s
[2025-11-19 01:35:38] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0004_0032_output.wav
[2025-11-19 01:35:38] 处理完成: 0004_0032.wav
[2025-11-19 01:35:38] -----------------------------------
[2025-11-19 01:35:38] 开始处理文件: 0005_0003.wav
[2025-11-19 01:35:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:35:38] 初始化输出 buffer，总时长 21.69s（347040 samples）
[2025-11-19 01:35:38] 开始发送 0005_0003.wav，总帧 1356，时长 21.69s
[2025-11-19 01:35:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.901, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.542, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.636, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.804, 'infer_time': 0.165, 'content': '跑步、骑车和深蹲都有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.837, 'turn': 0, 'state': 'LISTEN', 'content': '有什么有效的运动可以帮助瘦腿'}}
[2025-11-19 01:35:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.061, 'infer_time': 0.251, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:35:42] 收到 tts_done, timestamp=4.061s
[2025-11-19 01:35:42] 在 4.06s 插入 TTS（3.21s）
[2025-11-19 01:35:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.745}}
[2025-11-19 01:35:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.563, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:35:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.517, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.172, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.263, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.347, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有什么有效的运动可以帮助瘦腿'}]}, {'role': 'assistant', 'content': '跑步、骑车和深蹲都有效。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.452, 'turn': 1, 'state': 'LISTEN', 'content': '说的蛋白粉和维生素它'}}
[2025-11-19 01:35:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.513, 'infer_time': 0.162, 'content': '蛋白粉和维生素对瘦腿帮助有限。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有什么有效的运动可以帮助瘦腿'}]}, {'role': 'assistant', 'content': '跑步、骑车和深蹲都有效。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.755, 'infer_time': 0.236, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:35:50] 收到 tts_done, timestamp=11.755s
[2025-11-19 01:35:50] 在 11.76s 插入 TTS（2.89s）
[2025-11-19 01:36:01] 音频发送完毕，用时 22.41s
[2025-11-19 01:36:01] WebSocket 已关闭，结束接收循环
[2025-11-19 01:36:01] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0005_0003_output.wav，时长 21.69s
[2025-11-19 01:36:01] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0005_0003_output.wav
[2025-11-19 01:36:01] 处理完成: 0005_0003.wav
[2025-11-19 01:36:01] -----------------------------------
[2025-11-19 01:36:01] 开始处理文件: 0005_0015.wav
[2025-11-19 01:36:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:36:01] 初始化输出 buffer，总时长 23.54s（376640 samples）
[2025-11-19 01:36:01] 开始发送 0005_0015.wav，总帧 1472，时长 23.54s
[2025-11-19 01:36:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.87, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.51, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.612, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.787, 'infer_time': 0.17, 'content': '亚龙湾热带天堂森林公园适合亲子互动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.792, 'turn': 0, 'state': 'LISTEN', 'content': '带孩子去三亚玩有哪些适合亲子互动的景点推荐'}}
[2025-11-19 01:36:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.057, 'infer_time': 0.265, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:07] 收到 tts_done, timestamp=6.057s
[2025-11-19 01:36:07] 在 6.06s 插入 TTS（3.47s）
[2025-11-19 01:36:11] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.642}}
[2025-11-19 01:36:13] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.245, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.893, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.984, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.076, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '带孩子去三亚玩有哪些适合亲子互动的景点推荐'}]}, {'role': 'assistant', 'content': '亚龙湾热带天堂森林公园适合亲子互动。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.246, 'infer_time': 0.166, 'content': '熬夜追剧伤身，建议早点休息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '带孩子去三亚玩有哪些适合亲子互动的景点推荐'}]}, {'role': 'assistant', 'content': '亚龙湾热带天堂森林公园适合亲子互动。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.273, 'turn': 1, 'state': 'LISTEN', 'content': '熬夜这位朋们要看到第几集了黑眼圈都出来了'}}
[2025-11-19 01:36:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.49, 'infer_time': 0.239, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:16] 收到 tts_done, timestamp=15.49s
[2025-11-19 01:36:16] 在 15.49s 插入 TTS（3.06s）
[2025-11-19 01:36:25] 音频发送完毕，用时 24.38s
[2025-11-19 01:36:25] WebSocket 已关闭，结束接收循环
[2025-11-19 01:36:25] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0005_0015_output.wav，时长 23.54s
[2025-11-19 01:36:25] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0005_0015_output.wav
[2025-11-19 01:36:25] 处理完成: 0005_0015.wav
[2025-11-19 01:36:25] -----------------------------------
[2025-11-19 01:36:25] 开始处理文件: 0005_0038.wav
[2025-11-19 01:36:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:36:25] 初始化输出 buffer，总时长 22.44s（359040 samples）
[2025-11-19 01:36:25] 开始发送 0005_0038.wav，总帧 1403，时长 22.44s
[2025-11-19 01:36:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.443, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.083, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.181, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.31, 'turn': 0, 'state': 'LISTEN', 'content': '如何与意见不合的同事和平沟通'}}
[2025-11-19 01:36:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.397, 'infer_time': 0.213, 'content': '保持冷静，倾听对方观点。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.655, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:30] 收到 tts_done, timestamp=4.655s
[2025-11-19 01:36:30] 在 4.66s 插入 TTS（3.03s）
[2025-11-19 01:36:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.639}}
[2025-11-19 01:36:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.151, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.13, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.779, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.873, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.96, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何与意见不合的同事和平沟通'}]}, {'role': 'assistant', 'content': '保持冷静，倾听对方观点。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.085, 'turn': 1, 'state': 'LISTEN', 'content': '你要不要一起去看听说主演是国家级演员'}}
[2025-11-19 01:36:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.131, 'infer_time': 0.167, 'content': '国家级演员确实很厉害，一起去看看吧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何与意见不合的同事和平沟通'}]}, {'role': 'assistant', 'content': '保持冷静，倾听对方观点。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.413, 'infer_time': 0.276, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:36:40] 收到 tts_done, timestamp=14.413s
[2025-11-19 01:36:40] 在 14.41s 插入 TTS（3.64s）
[2025-11-19 01:36:48] 音频发送完毕，用时 23.17s
[2025-11-19 01:36:48] WebSocket 已关闭，结束接收循环
[2025-11-19 01:36:48] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0005_0038_output.wav，时长 22.44s
[2025-11-19 01:36:48] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0005_0038_output.wav
[2025-11-19 01:36:48] 处理完成: 0005_0038.wav
[2025-11-19 01:36:48] -----------------------------------
[2025-11-19 01:36:48] 开始处理文件: 0006_0002.wav
[2025-11-19 01:36:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:36:48] 初始化输出 buffer，总时长 24.36s（389760 samples）
[2025-11-19 01:36:48] 开始发送 0006_0002.wav，总帧 1523，时长 24.36s
[2025-11-19 01:36:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.194, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.844, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.942, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.116, 'infer_time': 0.17, 'content': '优化财政转移支付，加强薄弱学校建设。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.179, 'turn': 0, 'state': 'LISTEN', 'content': '如何确保教育资源在不同地区之间的公平分配'}}
[2025-11-19 01:36:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.392, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:36:55] 收到 tts_done, timestamp=6.392s
[2025-11-19 01:36:55] 在 6.39s 插入 TTS（3.53s）
[2025-11-19 01:36:59] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.498}}
[2025-11-19 01:37:00] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.011, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.74, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.038, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.686, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.783, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.876, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何确保教育资源在不同地区之间的公平分配'}]}, {'role': 'assistant', 'content': '优化财政转移支付，加强薄弱学校建设。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.035, 'turn': 1, 'state': 'LISTEN', 'content': '上次说想买个新外套周末要不要一起去商场看看'}}
[2025-11-19 01:37:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.061, 'infer_time': 0.18, 'content': '好啊，周末一起去商场看看新外套吧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何确保教育资源在不同地区之间的公平分配'}]}, {'role': 'assistant', 'content': '优化财政转移支付，加强薄弱学校建设。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.331, 'infer_time': 0.265, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:05] 收到 tts_done, timestamp=16.331s
[2025-11-19 01:37:05] 在 16.33s 插入 TTS（3.51s）
[2025-11-19 01:37:13] 音频发送完毕，用时 25.13s
[2025-11-19 01:37:13] WebSocket 已关闭，结束接收循环
[2025-11-19 01:37:13] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0006_0002_output.wav，时长 24.36s
[2025-11-19 01:37:13] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0006_0002_output.wav
[2025-11-19 01:37:13] 处理完成: 0006_0002.wav
[2025-11-19 01:37:13] -----------------------------------
[2025-11-19 01:37:13] 开始处理文件: 0006_0004.wav
[2025-11-19 01:37:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:37:13] 初始化输出 buffer，总时长 22.13s（354080 samples）
[2025-11-19 01:37:13] 开始发送 0006_0004.wav，总帧 1384，时长 22.13s
[2025-11-19 01:37:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.796, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.6, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.251, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.342, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.498, 'infer_time': 0.152, 'content': '每个人都有自己的价值，试着接纳自己。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.527, 'turn': 0, 'state': 'LISTEN', 'content': '我总觉得自己不够好怎么办'}}
[2025-11-19 01:37:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.774, 'infer_time': 0.271, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:17] 收到 tts_done, timestamp=3.774s
[2025-11-19 01:37:17] 在 3.77s 插入 TTS（3.52s）
[2025-11-19 01:37:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.998}}
[2025-11-19 01:37:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.507, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.437, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.601, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.248, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.345, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.438, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总觉得自己不够好怎么办'}]}, {'role': 'assistant', 'content': '每个人都有自己的价值，试着接纳自己。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.592, 'turn': 1, 'state': 'LISTEN', 'content': '上次你做的素咖喱很好吃能教我具体怎么调味吗'}}
[2025-11-19 01:37:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.668, 'infer_time': 0.224, 'content': '用咖喱块加椰奶，小火慢炖才香浓。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总觉得自己不够好怎么办'}]}, {'role': 'assistant', 'content': '每个人都有自己的价值，试着接纳自己。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.966, 'infer_time': 0.292, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:27] 收到 tts_done, timestamp=13.966s
[2025-11-19 01:37:27] 在 13.97s 插入 TTS（3.90s）
[2025-11-19 01:37:36] 音频发送完毕，用时 22.73s
[2025-11-19 01:37:36] WebSocket 已关闭，结束接收循环
[2025-11-19 01:37:36] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0006_0004_output.wav，时长 22.13s
[2025-11-19 01:37:36] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0006_0004_output.wav
[2025-11-19 01:37:36] 处理完成: 0006_0004.wav
[2025-11-19 01:37:36] -----------------------------------
[2025-11-19 01:37:36] 开始处理文件: 0006_0029.wav
[2025-11-19 01:37:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:37:36] 初始化输出 buffer，总时长 23.58s（377280 samples）
[2025-11-19 01:37:36] 开始发送 0006_0029.wav，总帧 1474，时长 23.58s
[2025-11-19 01:37:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.07, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.869, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.97, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.115, 'turn': 0, 'state': 'LISTEN', 'content': '我的猫咪最近总躲着我是不是我哪里做的不对'}}
[2025-11-19 01:37:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.161, 'infer_time': 0.186, 'content': '猫咪可能感到紧张或不适，建议观察环境变化。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.516, 'infer_time': 0.351, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:37:42] 收到 tts_done, timestamp=5.516s
[2025-11-19 01:37:42] 在 5.52s 插入 TTS（4.64s）
[2025-11-19 01:37:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.625}}
[2025-11-19 01:37:47] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.138, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.003, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.85, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.95, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.046, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的猫咪最近总躲着我是不是我哪里做的不对'}]}, {'role': 'assistant', 'content': '猫咪可能感到紧张或不适，建议观察环境变化。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.238, 'turn': 1, 'state': 'LISTEN', 'content': '此提到的指数基金定投你决定好投入比例了吗'}}
[2025-11-19 01:37:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.251, 'infer_time': 0.201, 'content': '根据风险承受能力决定比例，建议先小步尝试。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的猫咪最近总躲着我是不是我哪里做的不对'}]}, {'role': 'assistant', 'content': '猫咪可能感到紧张或不适，建议观察环境变化。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.572, 'infer_time': 0.314, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:37:52] 收到 tts_done, timestamp=15.572s
[2025-11-19 01:37:52] 在 15.57s 插入 TTS（4.22s）
[2025-11-19 01:38:00] 音频发送完毕，用时 24.28s
[2025-11-19 01:38:00] WebSocket 已关闭，结束接收循环
[2025-11-19 01:38:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0006_0029_output.wav，时长 23.58s
[2025-11-19 01:38:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0006_0029_output.wav
[2025-11-19 01:38:00] 处理完成: 0006_0029.wav
[2025-11-19 01:38:00] -----------------------------------
[2025-11-19 01:38:00] 开始处理文件: 0006_0030.wav
[2025-11-19 01:38:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:38:00] 初始化输出 buffer，总时长 23.20s（371200 samples）
[2025-11-19 01:38:00] 开始发送 0006_0030.wav，总帧 1450，时长 23.20s
[2025-11-19 01:38:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.748, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.332, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.982, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.082, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.249, 'infer_time': 0.161, 'content': '可能和工作态度、个人情况有关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.266, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些同事对待加班的态度截然不同'}}
[2025-11-19 01:38:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.49, 'infer_time': 0.237, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:06] 收到 tts_done, timestamp=5.49s
[2025-11-19 01:38:06] 在 5.49s 插入 TTS（3.02s）
[2025-11-19 01:38:10] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.694}}
[2025-11-19 01:38:12] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.206, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.805, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.453, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.552, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.64, 'infer_time': 0.083, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些同事对待加班的态度截然不同'}]}, {'role': 'assistant', 'content': '可能和工作态度、个人情况有关。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.765, 'infer_time': 0.124, 'content': '可能和工作态度、个人情况有关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些同事对待加班的态度截然不同'}]}, {'role': 'assistant', 'content': '可能和工作态度、个人情况有关。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.013, 'infer_time': 0.242, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:16] 收到 tts_done, timestamp=15.013s
[2025-11-19 01:38:16] 在 15.01s 插入 TTS（3.06s）
[2025-11-19 01:38:24] 音频发送完毕，用时 23.89s
[2025-11-19 01:38:24] WebSocket 已关闭，结束接收循环
[2025-11-19 01:38:24] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0006_0030_output.wav，时长 23.20s
[2025-11-19 01:38:24] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0006_0030_output.wav
[2025-11-19 01:38:24] 处理完成: 0006_0030.wav
[2025-11-19 01:38:24] -----------------------------------
[2025-11-19 01:38:24] 开始处理文件: 0006_0038.wav
[2025-11-19 01:38:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:38:24] 初始化输出 buffer，总时长 24.07s（385120 samples）
[2025-11-19 01:38:24] 开始发送 0006_0038.wav，总帧 1505，时长 24.07s
[2025-11-19 01:38:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.906, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.876, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.877, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.183, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.833, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.934, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.162, 'infer_time': 0.223, 'content': '因为红叶含有花青素，而黄叶是类胡萝卜素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.173, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些树叶在秋天会变红而不是黄色'}}
[2025-11-19 01:38:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.483, 'infer_time': 0.316, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:31] 收到 tts_done, timestamp=6.483s
[2025-11-19 01:38:31] 在 6.48s 插入 TTS（4.14s）
[2025-11-19 01:38:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.449}}
[2025-11-19 01:38:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.956, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.563, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.21, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.311, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.403, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些树叶在秋天会变红而不是黄色'}]}, {'role': 'assistant', 'content': '因为红叶含有花青素，而黄叶是类胡萝卜素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.548, 'turn': 1, 'state': 'LISTEN', 'content': '你最近读的那本心理学书籍对你有实际帮助吗'}}
[2025-11-19 01:38:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.567, 'infer_time': 0.159, 'content': '有帮助，学到了很多实用技巧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些树叶在秋天会变红而不是黄色'}]}, {'role': 'assistant', 'content': '因为红叶含有花青素，而黄叶是类胡萝卜素。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.799, 'infer_time': 0.227, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:38:40] 收到 tts_done, timestamp=15.799s
[2025-11-19 01:38:40] 在 15.80s 插入 TTS（2.89s）
[2025-11-19 01:38:49] 音频发送完毕，用时 24.64s
[2025-11-19 01:38:49] WebSocket 已关闭，结束接收循环
[2025-11-19 01:38:49] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0006_0038_output.wav，时长 24.07s
[2025-11-19 01:38:49] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0006_0038_output.wav
[2025-11-19 01:38:49] 处理完成: 0006_0038.wav
[2025-11-19 01:38:49] -----------------------------------
[2025-11-19 01:38:49] 开始处理文件: 0007_0006.wav
[2025-11-19 01:38:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:38:49] 初始化输出 buffer，总时长 23.56s（376960 samples）
[2025-11-19 01:38:49] 开始发送 0007_0006.wav，总帧 1473，时长 23.56s
[2025-11-19 01:38:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.054, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.701, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.8, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.958, 'infer_time': 0.154, 'content': '燕麦牛奶配水果是不错的选择', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.999, 'turn': 0, 'state': 'LISTEN', 'content': '有没有适合早餐的低卡路里减肥食谱推荐'}}
[2025-11-19 01:38:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.175, 'infer_time': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:38:55] 收到 tts_done, timestamp=6.175s
[2025-11-19 01:38:55] 在 6.17s 插入 TTS（2.63s）
[2025-11-19 01:39:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.478}}
[2025-11-19 01:39:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.987, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.194, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.842, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.934, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.023, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有没有适合早餐的低卡路里减肥食谱推荐'}]}, {'role': 'assistant', 'content': '燕麦牛奶配水果是不错的选择'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.136, 'infer_time': 0.112, 'content': '燕麦牛奶配水果是不错的选择', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有没有适合早餐的低卡路里减肥食谱推荐'}]}, {'role': 'assistant', 'content': '燕麦牛奶配水果是不错的选择'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.346, 'infer_time': 0.205, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:04] 收到 tts_done, timestamp=15.346s
[2025-11-19 01:39:04] 在 15.35s 插入 TTS（2.68s）
[2025-11-19 01:39:13] 音频发送完毕，用时 24.26s
[2025-11-19 01:39:13] WebSocket 已关闭，结束接收循环
[2025-11-19 01:39:13] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0007_0006_output.wav，时长 23.56s
[2025-11-19 01:39:13] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0007_0006_output.wav
[2025-11-19 01:39:13] 处理完成: 0007_0006.wav
[2025-11-19 01:39:13] -----------------------------------
[2025-11-19 01:39:13] 开始处理文件: 0007_0014.wav
[2025-11-19 01:39:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:39:13] 初始化输出 buffer，总时长 23.50s（376000 samples）
[2025-11-19 01:39:13] 开始发送 0007_0014.wav，总帧 1469，时长 23.50s
[2025-11-19 01:39:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.984, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.628, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.726, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.902, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过哑铃训练快速塑造手臂线条'}}
[2025-11-19 01:39:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.954, 'infer_time': 0.224, 'content': '哑铃弯举练肱二头肌，推举练三角肌。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.256, 'infer_time': 0.296, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:19] 收到 tts_done, timestamp=5.256s
[2025-11-19 01:39:19] 在 5.26s 插入 TTS（3.88s）
[2025-11-19 01:39:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.468}}
[2025-11-19 01:39:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.978, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.114, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.139, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.788, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.884, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.976, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过哑铃训练快速塑造手臂线条'}]}, {'role': 'assistant', 'content': '哑铃弯举练肱二头肌，推举练三角肌。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.174, 'turn': 1, 'state': 'LISTEN', 'content': '上周买的绿萝需要换盆了现在营养土放哪里'}}
[2025-11-19 01:39:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.179, 'infer_time': 0.197, 'content': '营养土放阴凉干燥处，避免阳光直射。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过哑铃训练快速塑造手臂线条'}]}, {'role': 'assistant', 'content': '哑铃弯举练肱二头肌，推举练三角肌。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.48, 'infer_time': 0.296, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:29] 收到 tts_done, timestamp=15.48s
[2025-11-19 01:39:29] 在 15.48s 插入 TTS（3.99s）
[2025-11-19 01:39:37] 音频发送完毕，用时 24.16s
[2025-11-19 01:39:37] WebSocket 已关闭，结束接收循环
[2025-11-19 01:39:37] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0007_0014_output.wav，时长 23.50s
[2025-11-19 01:39:37] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0007_0014_output.wav
[2025-11-19 01:39:37] 处理完成: 0007_0014.wav
[2025-11-19 01:39:37] -----------------------------------
[2025-11-19 01:39:37] 开始处理文件: 0008_0006.wav
[2025-11-19 01:39:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:39:37] 初始化输出 buffer，总时长 28.59s（457440 samples）
[2025-11-19 01:39:37] 开始发送 0008_0006.wav，总帧 1787，时长 28.59s
[2025-11-19 01:39:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.296, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.719, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.805, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 9.456, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.582, 'infer_time': 0.121, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.784, 'infer_time': 0.195, 'content': '责任主要由未完成任务的成员承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 9.881, 'turn': 0, 'state': 'LISTEN', 'content': '在团队项目中如果某个成员没有完成自己的任务导致项目延误责任应该如何划分'}}
[2025-11-19 01:39:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 10.035, 'infer_time': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:39:48] 收到 tts_done, timestamp=10.035s
[2025-11-19 01:39:48] 在 10.04s 插入 TTS（3.24s）
[2025-11-19 01:39:52] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 14.304}}
[2025-11-19 01:39:53] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 15.819, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.04, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.968, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.419, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 20.069, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.173, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.266, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在团队项目中如果某个成员没有完成自己的任务导致项目延误责任应该如何划分'}]}, {'role': 'assistant', 'content': '责任主要由未完成任务的成员承担。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 20.402, 'infer_time': 0.135, 'content': '责任主要由未完成任务的成员承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在团队项目中如果某个成员没有完成自己的任务导致项目延误责任应该如何划分'}]}, {'role': 'assistant', 'content': '责任主要由未完成任务的成员承担。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.635, 'infer_time': 0.228, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:39:58] 收到 tts_done, timestamp=20.635s
[2025-11-19 01:39:58] 在 20.64s 插入 TTS（2.90s）
[2025-11-19 01:40:07] 音频发送完毕，用时 29.49s
[2025-11-19 01:40:07] WebSocket 已关闭，结束接收循环
[2025-11-19 01:40:07] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0008_0006_output.wav，时长 28.59s
[2025-11-19 01:40:07] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0008_0006_output.wav
[2025-11-19 01:40:07] 处理完成: 0008_0006.wav
[2025-11-19 01:40:07] -----------------------------------
[2025-11-19 01:40:07] 开始处理文件: 0008_0007.wav
[2025-11-19 01:40:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:40:07] 初始化输出 buffer，总时长 24.93s（398880 samples）
[2025-11-19 01:40:07] 开始发送 0008_0007.wav，总帧 1559，时长 24.93s
[2025-11-19 01:40:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.16, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.777, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.428, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.529, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.711, 'infer_time': 0.177, 'content': '谢谢夸奖，这件衬衫确实很衬我。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.762, 'turn': 0, 'state': 'LISTEN', 'content': '你今天穿的这件衬衫真的很适合你颜色很衬肤色'}}
[2025-11-19 01:40:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.015, 'infer_time': 0.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:13] 收到 tts_done, timestamp=6.015s
[2025-11-19 01:40:13] 在 6.01s 插入 TTS（3.98s）
[2025-11-19 01:40:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.247}}
[2025-11-19 01:40:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.571, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:40:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.756, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.668, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.317, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.418, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.517, 'infer_time': 0.094, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你今天穿的这件衬衫真的很适合你颜色很衬肤色'}]}, {'role': 'assistant', 'content': '谢谢夸奖，这件衬衫确实很衬我。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.695, 'turn': 1, 'state': 'LISTEN', 'content': '那个项目你觉得难度曲线设置合理吗需要调整吗'}}
[2025-11-19 01:40:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.737, 'infer_time': 0.214, 'content': '难度曲线整体合理，但后期略陡，建议微调。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你今天穿的这件衬衫真的很适合你颜色很衬肤色'}]}, {'role': 'assistant', 'content': '谢谢夸奖，这件衬衫确实很衬我。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.097, 'infer_time': 0.354, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:24] 收到 tts_done, timestamp=17.097s
[2025-11-19 01:40:24] 在 17.10s 插入 TTS（4.73s）
[2025-11-19 01:40:33] 音频发送完毕，用时 25.72s
[2025-11-19 01:40:33] WebSocket 已关闭，结束接收循环
[2025-11-19 01:40:33] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0008_0007_output.wav，时长 24.93s
[2025-11-19 01:40:33] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0008_0007_output.wav
[2025-11-19 01:40:33] 处理完成: 0008_0007.wav
[2025-11-19 01:40:33] -----------------------------------
[2025-11-19 01:40:33] 开始处理文件: 0008_0011.wav
[2025-11-19 01:40:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:40:33] 初始化输出 buffer，总时长 23.52s（376320 samples）
[2025-11-19 01:40:33] 开始发送 0008_0011.wav，总帧 1470，时长 23.52s
[2025-11-19 01:40:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.731, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.833, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.991, 'infer_time': 0.154, 'content': '快节奏生活削弱了情感投入。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.008, 'turn': 0, 'state': 'LISTEN', 'content': '为什么现代社会越来越难建立深度信任关系'}}
[2025-11-19 01:40:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.206, 'infer_time': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:40:38] 收到 tts_done, timestamp=5.206s
[2025-11-19 01:40:38] 在 5.21s 插入 TTS（2.69s）
[2025-11-19 01:40:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.401}}
[2025-11-19 01:40:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.909, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.626, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.01, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.037, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.684, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.781, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.875, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么现代社会越来越难建立深度信任关系'}]}, {'role': 'assistant', 'content': '快节奏生活削弱了情感投入。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.986, 'infer_time': 0.11, 'content': '快节奏生活削弱了情感投入。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么现代社会越来越难建立深度信任关系'}]}, {'role': 'assistant', 'content': '快节奏生活削弱了情感投入。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.221, 'infer_time': 0.231, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:40:48] 收到 tts_done, timestamp=15.221s
[2025-11-19 01:40:48] 在 15.22s 插入 TTS（2.99s）
[2025-11-19 01:40:57] 音频发送完毕，用时 24.14s
[2025-11-19 01:40:57] WebSocket 已关闭，结束接收循环
[2025-11-19 01:40:57] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0008_0011_output.wav，时长 23.52s
[2025-11-19 01:40:57] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0008_0011_output.wav
[2025-11-19 01:40:57] 处理完成: 0008_0011.wav
[2025-11-19 01:40:57] -----------------------------------
[2025-11-19 01:40:57] 开始处理文件: 0008_0032.wav
[2025-11-19 01:40:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:40:57] 初始化输出 buffer，总时长 25.05s（400800 samples）
[2025-11-19 01:40:57] 开始发送 0008_0032.wav，总帧 1566，时长 25.05s
[2025-11-19 01:40:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.042, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.695, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.796, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.034, 'infer_time': 0.234, 'content': '推荐滚筒洗衣机，品牌选海尔、西门子或小天鹅。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.043, 'turn': 0, 'state': 'LISTEN', 'content': '最近想换一台高端洗衣机有什么推荐的功能或品牌吗'}}
[2025-11-19 01:41:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.387, 'infer_time': 0.348, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:03] 收到 tts_done, timestamp=6.387s
[2025-11-19 01:41:03] 在 6.39s 插入 TTS（4.66s）
[2025-11-19 01:41:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.38}}
[2025-11-19 01:41:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.354, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:41:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.886, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.694, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.701, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.349, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.45, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.561, 'infer_time': 0.106, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近想换一台高端洗衣机有什么推荐的功能或品牌吗'}]}, {'role': 'assistant', 'content': '推荐滚筒洗衣机，品牌选海尔、西门子或小天鹅。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.752, 'infer_time': 0.191, 'content': '推荐滚筒洗衣机，品牌选海尔、西门子或小天鹅。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近想换一台高端洗衣机有什么推荐的功能或品牌吗'}]}, {'role': 'assistant', 'content': '推荐滚筒洗衣机，品牌选海尔、西门子或小天鹅。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.137, 'infer_time': 0.378, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:14] 收到 tts_done, timestamp=17.137s
[2025-11-19 01:41:14] 在 17.14s 插入 TTS（5.07s）
[2025-11-19 01:41:23] 音频发送完毕，用时 25.81s
[2025-11-19 01:41:23] WebSocket 已关闭，结束接收循环
[2025-11-19 01:41:23] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0008_0032_output.wav，时长 25.05s
[2025-11-19 01:41:23] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0008_0032_output.wav
[2025-11-19 01:41:23] 处理完成: 0008_0032.wav
[2025-11-19 01:41:23] -----------------------------------
[2025-11-19 01:41:23] 开始处理文件: 0009_0002.wav
[2025-11-19 01:41:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:41:23] 初始化输出 buffer，总时长 25.28s（404480 samples）
[2025-11-19 01:41:23] 开始发送 0009_0002.wav，总帧 1580，时长 25.28s
[2025-11-19 01:41:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.9, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.937, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.59, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.687, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.929, 'turn': 0, 'state': 'LISTEN', 'content': '朋友借了我五千块一直不还该怎么委婉提醒他'}}
[2025-11-19 01:41:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.948, 'infer_time': 0.257, 'content': '可以这样说：“最近手头有点紧，方便的话能不能把之前借的五千还一下？”', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.443, 'infer_time': 0.489, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:29] 收到 tts_done, timestamp=6.443s
[2025-11-19 01:41:29] 在 6.44s 插入 TTS（6.82s）
[2025-11-19 01:41:33] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.3}}
[2025-11-19 01:41:35] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.809, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.184, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.978, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.885, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.535, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.63, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.74, 'infer_time': 0.106, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '朋友借了我五千块一直不还该怎么委婉提醒他'}]}, {'role': 'assistant', 'content': '可以这样说：“最近手头有点紧，方便的话能不能把之前借的五千还一下？”'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.956, 'infer_time': 0.21, 'content': '是啊，那段真的超甜，看得我心动了！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '朋友借了我五千块一直不还该怎么委婉提醒他'}]}, {'role': 'assistant', 'content': '可以这样说：“最近手头有点紧，方便的话能不能把之前借的五千还一下？”'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.962, 'turn': 1, 'state': 'LISTEN', 'content': '看昨晚那步你是我的荣耀了吗男女主告白那段太甜了'}}
[2025-11-19 01:41:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.36, 'infer_time': 0.399, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:41:40] 收到 tts_done, timestamp=17.36s
[2025-11-19 01:41:40] 在 17.36s 插入 TTS（5.46s）
[2025-11-19 01:41:49] 音频发送完毕，用时 26.12s
[2025-11-19 01:41:49] WebSocket 已关闭，结束接收循环
[2025-11-19 01:41:49] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0009_0002_output.wav，时长 25.28s
[2025-11-19 01:41:49] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0009_0002_output.wav
[2025-11-19 01:41:49] 处理完成: 0009_0002.wav
[2025-11-19 01:41:49] -----------------------------------
[2025-11-19 01:41:49] 开始处理文件: 0009_0013.wav
[2025-11-19 01:41:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:41:49] 初始化输出 buffer，总时长 24.87s（397920 samples）
[2025-11-19 01:41:49] 开始发送 0009_0013.wav，总帧 1555，时长 24.87s
[2025-11-19 01:41:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.049, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.689, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.794, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.966, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几本适合三岁孩子理解的情绪管理绘本吗'}}
[2025-11-19 01:41:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.137, 'infer_time': 0.338, 'content': '《我的情绪小怪兽》《菲菲生气了》《杰克的愤怒盒子》', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.535, 'infer_time': 0.392, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:41:55] 收到 tts_done, timestamp=6.535s
[2025-11-19 01:41:55] 在 6.54s 插入 TTS（4.84s）
[2025-11-19 01:42:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.643}}
[2025-11-19 01:42:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.261, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.559, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.207, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.305, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.416, 'infer_time': 0.106, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能推荐几本适合三岁孩子理解的情绪管理绘本吗'}]}, {'role': 'assistant', 'content': '《我的情绪小怪兽》《菲菲生气了》《杰克的愤怒盒子》'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.554, 'infer_time': 0.134, 'content': '对比过器械和价格了吗', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能推荐几本适合三岁孩子理解的情绪管理绘本吗'}]}, {'role': 'assistant', 'content': '《我的情绪小怪兽》《菲菲生气了》《杰克的愤怒盒子》'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.626, 'turn': 1, 'state': 'LISTEN', 'content': '上次说要找家附近的健身房对比过器械和价格了吗'}}
[2025-11-19 01:42:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.761, 'infer_time': 0.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:06] 收到 tts_done, timestamp=16.761s
[2025-11-19 01:42:06] 在 16.76s 插入 TTS（2.07s）
[2025-11-19 01:42:15] 音频发送完毕，用时 25.74s
[2025-11-19 01:42:15] WebSocket 已关闭，结束接收循环
[2025-11-19 01:42:15] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0009_0013_output.wav，时长 24.87s
[2025-11-19 01:42:15] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0009_0013_output.wav
[2025-11-19 01:42:15] 处理完成: 0009_0013.wav
[2025-11-19 01:42:15] -----------------------------------
[2025-11-19 01:42:15] 开始处理文件: 0009_0014.wav
[2025-11-19 01:42:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:42:15] 初始化输出 buffer，总时长 22.57s（361120 samples）
[2025-11-19 01:42:15] 开始发送 0009_0014.wav，总帧 1411，时长 22.57s
[2025-11-19 01:42:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.951, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.052, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.197, 'infer_time': 0.14, 'content': '分流选择确实会影响职业发展。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.268, 'turn': 0, 'state': 'LISTEN', 'content': '高中阶段的分流选择会影响未来职业发展吗'}}
[2025-11-19 01:42:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.432, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:20] 收到 tts_done, timestamp=5.432s
[2025-11-19 01:42:20] 在 5.43s 插入 TTS（2.85s）
[2025-11-19 01:42:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.183}}
[2025-11-19 01:42:26] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.696, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.069, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.718, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.814, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.901, 'infer_time': 0.083, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '高中阶段的分流选择会影响未来职业发展吗'}]}, {'role': 'assistant', 'content': '分流选择确实会影响职业发展。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.001, 'infer_time': 0.099, 'content': '分流选择确实会影响职业发展。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '高中阶段的分流选择会影响未来职业发展吗'}]}, {'role': 'assistant', 'content': '分流选择确实会影响职业发展。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.233, 'infer_time': 0.225, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:29] 收到 tts_done, timestamp=14.233s
[2025-11-19 01:42:29] 在 14.23s 插入 TTS（2.84s）
[2025-11-19 01:42:38] 音频发送完毕，用时 23.29s
[2025-11-19 01:42:38] WebSocket 已关闭，结束接收循环
[2025-11-19 01:42:38] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0009_0014_output.wav，时长 22.57s
[2025-11-19 01:42:38] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0009_0014_output.wav
[2025-11-19 01:42:38] 处理完成: 0009_0014.wav
[2025-11-19 01:42:38] -----------------------------------
[2025-11-19 01:42:38] 开始处理文件: 0009_0016.wav
[2025-11-19 01:42:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:42:38] 初始化输出 buffer，总时长 25.86s（413760 samples）
[2025-11-19 01:42:38] 开始发送 0009_0016.wav，总帧 1617，时长 25.86s
[2025-11-19 01:42:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.457, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.308, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.444, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 8.099, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.202, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.434, 'infer_time': 0.226, 'content': 'BMI=体重÷身高的平方，你的结果是22.6。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.507, 'turn': 0, 'state': 'LISTEN', 'content': 'b m i 指数怎么计算我的身高是一点七五米体重六十八公斤'}}
[2025-11-19 01:42:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.802, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:42:47] 收到 tts_done, timestamp=8.802s
[2025-11-19 01:42:47] 在 8.80s 插入 TTS（4.76s）
[2025-11-19 01:42:52] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 14.087}}
[2025-11-19 01:42:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 15.601, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.567, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.215, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.303, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.393, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'b m i 指数怎么计算我的身高是一点七五米体重六十八公斤'}]}, {'role': 'assistant', 'content': 'BMI=体重÷身高的平方，你的结果是22.6。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.502, 'turn': 1, 'state': 'LISTEN', 'content': '话说快递员把包裹放物业了'}}
[2025-11-19 01:42:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.561, 'infer_time': 0.164, 'content': '快递放物业了，记得去取哦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'b m i 指数怎么计算我的身高是一点七五米体重六十八公斤'}]}, {'role': 'assistant', 'content': 'BMI=体重÷身高的平方，你的结果是22.6。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.785, 'infer_time': 0.22, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:42:56] 收到 tts_done, timestamp=17.785s
[2025-11-19 01:42:56] 在 17.79s 插入 TTS（2.67s）
[2025-11-19 01:43:05] 音频发送完毕，用时 26.79s
[2025-11-19 01:43:05] WebSocket 已关闭，结束接收循环
[2025-11-19 01:43:05] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0009_0016_output.wav，时长 25.86s
[2025-11-19 01:43:05] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0009_0016_output.wav
[2025-11-19 01:43:05] 处理完成: 0009_0016.wav
[2025-11-19 01:43:05] -----------------------------------
[2025-11-19 01:43:05] 开始处理文件: 0010_0011.wav
[2025-11-19 01:43:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:43:05] 初始化输出 buffer，总时长 23.82s（381120 samples）
[2025-11-19 01:43:05] 开始发送 0010_0011.wav，总帧 1489，时长 23.82s
[2025-11-19 01:43:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.863, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.515, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.614, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.77, 'turn': 0, 'state': 'LISTEN', 'content': '清明节祭祖时应该准备哪些传统贡品'}}
[2025-11-19 01:43:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.829, 'infer_time': 0.21, 'content': '通常准备青团、水果、糕点和纸钱等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.179, 'infer_time': 0.344, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:10] 收到 tts_done, timestamp=5.179s
[2025-11-19 01:43:10] 在 5.18s 插入 TTS（4.46s）
[2025-11-19 01:43:14] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.191}}
[2025-11-19 01:43:15] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.702, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.704, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.481, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.129, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.23, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.325, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明节祭祖时应该准备哪些传统贡品'}]}, {'role': 'assistant', 'content': '通常准备青团、水果、糕点和纸钱等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.523, 'infer_time': 0.193, 'content': '用豆腐、豆干或土豆代替肉类很合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '清明节祭祖时应该准备哪些传统贡品'}]}, {'role': 'assistant', 'content': '通常准备青团、水果、糕点和纸钱等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.538, 'turn': 1, 'state': 'LISTEN', 'content': '你上次做的酥咖喱很好吃能教我用什么代替肉类吗'}}
[2025-11-19 01:43:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.834, 'infer_time': 0.304, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:21] 收到 tts_done, timestamp=15.834s
[2025-11-19 01:43:21] 在 15.83s 插入 TTS（3.86s）
[2025-11-19 01:43:29] 音频发送完毕，用时 24.53s
[2025-11-19 01:43:29] WebSocket 已关闭，结束接收循环
[2025-11-19 01:43:29] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0010_0011_output.wav，时长 23.82s
[2025-11-19 01:43:29] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0010_0011_output.wav
[2025-11-19 01:43:29] 处理完成: 0010_0011.wav
[2025-11-19 01:43:29] -----------------------------------
[2025-11-19 01:43:29] 开始处理文件: 0010_0013.wav
[2025-11-19 01:43:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:43:29] 初始化输出 buffer，总时长 25.80s（412800 samples）
[2025-11-19 01:43:29] 开始发送 0010_0013.wav，总帧 1613，时长 25.80s
[2025-11-19 01:43:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.728, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.073, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.293, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.945, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.043, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.247, 'turn': 0, 'state': 'LISTEN', 'content': '枸杞泡水喝真的能明目吗每天喝多少比较合适'}}
[2025-11-19 01:43:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.29, 'infer_time': 0.242, 'content': '枸杞泡水确实有助于明目，每天10-20克比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.634, 'infer_time': 0.339, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:36] 收到 tts_done, timestamp=6.634s
[2025-11-19 01:43:36] 在 6.63s 插入 TTS（4.52s）
[2025-11-19 01:43:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.629}}
[2025-11-19 01:43:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.645, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:43:41] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.133, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.165, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.479, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.509, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.262, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.377, 'infer_time': 0.11, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '枸杞泡水喝真的能明目吗每天喝多少比较合适'}]}, {'role': 'assistant', 'content': '枸杞泡水确实有助于明目，每天10-20克比较合适。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.56, 'infer_time': 0.178, 'content': '不用了，我先自己试试看。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '枸杞泡水喝真的能明目吗每天喝多少比较合适'}]}, {'role': 'assistant', 'content': '枸杞泡水确实有助于明目，每天10-20克比较合适。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.574, 'turn': 1, 'state': 'LISTEN', 'content': '你上次说想学切蓑衣黄瓜现在要示范给你看吗'}}
[2025-11-19 01:43:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.755, 'infer_time': 0.189, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:43:47] 收到 tts_done, timestamp=17.755s
[2025-11-19 01:43:47] 在 17.75s 插入 TTS（2.20s）
[2025-11-19 01:43:56] 音频发送完毕，用时 26.59s
[2025-11-19 01:43:56] WebSocket 已关闭，结束接收循环
[2025-11-19 01:43:56] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0010_0013_output.wav，时长 25.80s
[2025-11-19 01:43:56] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0010_0013_output.wav
[2025-11-19 01:43:56] 处理完成: 0010_0013.wav
[2025-11-19 01:43:56] -----------------------------------
[2025-11-19 01:43:56] 开始处理文件: 0010_0016.wav
[2025-11-19 01:43:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:43:56] 初始化输出 buffer，总时长 22.13s（354080 samples）
[2025-11-19 01:43:56] 开始发送 0010_0016.wav，总帧 1384，时长 22.13s
[2025-11-19 01:43:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:43:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.123, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.775, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.873, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.034, 'turn': 0, 'state': 'LISTEN', 'content': '为什么我总觉得自己做什么都不够好'}}
[2025-11-19 01:44:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.034, 'infer_time': 0.156, 'content': '这种感觉很常见，你并不孤单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.319, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:00] 收到 tts_done, timestamp=4.319s
[2025-11-19 01:44:00] 在 4.32s 插入 TTS（3.55s）
[2025-11-19 01:44:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.591}}
[2025-11-19 01:44:06] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.104, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.596, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.735, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.384, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.48, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.572, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我总觉得自己做什么都不够好'}]}, {'role': 'assistant', 'content': '这种感觉很常见，你并不孤单。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.755, 'turn': 1, 'state': 'LISTEN', 'content': '上次视频的剪辑节奏你觉得是太快还是太慢'}}
[2025-11-19 01:44:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.823, 'infer_time': 0.246, 'content': '上次视频剪辑节奏偏快，信息密度较高。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我总觉得自己做什么都不够好'}]}, {'role': 'assistant', 'content': '这种感觉很常见，你并不孤单。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.1, 'infer_time': 0.272, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:10] 收到 tts_done, timestamp=14.1s
[2025-11-19 01:44:10] 在 14.10s 插入 TTS（3.42s）
[2025-11-19 01:44:19] 音频发送完毕，用时 22.78s
[2025-11-19 01:44:19] WebSocket 已关闭，结束接收循环
[2025-11-19 01:44:19] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0010_0016_output.wav，时长 22.13s
[2025-11-19 01:44:19] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0010_0016_output.wav
[2025-11-19 01:44:19] 处理完成: 0010_0016.wav
[2025-11-19 01:44:19] -----------------------------------
[2025-11-19 01:44:19] 开始处理文件: 0010_0020.wav
[2025-11-19 01:44:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:44:19] 初始化输出 buffer，总时长 25.69s（411040 samples）
[2025-11-19 01:44:19] 开始发送 0010_0020.wav，总帧 1606，时长 25.69s
[2025-11-19 01:44:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.677, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.431, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.588, 'turn': 0, 'state': 'LISTEN', 'content': '当团队新成员加入时如何快速建立信任关系'}}
[2025-11-19 01:44:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.615, 'infer_time': 0.18, 'content': '多沟通，分享经验，一起完成小任务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.913, 'infer_time': 0.293, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:25] 收到 tts_done, timestamp=5.913s
[2025-11-19 01:44:25] 在 5.91s 插入 TTS（3.69s）
[2025-11-19 01:44:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.278}}
[2025-11-19 01:44:30] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.793, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.013, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.863, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.483, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.132, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.235, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.346, 'infer_time': 0.105, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '当团队新成员加入时如何快速建立信任关系'}]}, {'role': 'assistant', 'content': '多沟通，分享经验，一起完成小任务。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.487, 'infer_time': 0.141, 'content': '多沟通，分享经验，一起完成小任务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '当团队新成员加入时如何快速建立信任关系'}]}, {'role': 'assistant', 'content': '多沟通，分享经验，一起完成小任务。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.777, 'infer_time': 0.283, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:36] 收到 tts_done, timestamp=17.777s
[2025-11-19 01:44:36] 在 17.78s 插入 TTS（3.65s）
[2025-11-19 01:44:45] 音频发送完毕，用时 26.54s
[2025-11-19 01:44:45] WebSocket 已关闭，结束接收循环
[2025-11-19 01:44:45] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0010_0020_output.wav，时长 25.69s
[2025-11-19 01:44:45] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0010_0020_output.wav
[2025-11-19 01:44:45] 处理完成: 0010_0020.wav
[2025-11-19 01:44:45] -----------------------------------
[2025-11-19 01:44:45] 开始处理文件: 0011_0001.wav
[2025-11-19 01:44:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:44:45] 初始化输出 buffer，总时长 21.71s（347360 samples）
[2025-11-19 01:44:45] 开始发送 0011_0001.wav，总帧 1357，时长 21.71s
[2025-11-19 01:44:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.738, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.389, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.485, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.637, 'infer_time': 0.147, 'content': '高蛋白低脂肪食物助燃脂', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.697, 'turn': 0, 'state': 'LISTEN', 'content': '晚上健身后吃什么能帮助减脂'}}
[2025-11-19 01:44:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.849, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:44:50] 收到 tts_done, timestamp=4.849s
[2025-11-19 01:44:50] 在 4.85s 插入 TTS（2.60s）
[2025-11-19 01:44:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.072}}
[2025-11-19 01:44:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.581, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.899, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.995, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.086, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '晚上健身后吃什么能帮助减脂'}]}, {'role': 'assistant', 'content': '高蛋白低脂肪食物助燃脂'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.197, 'infer_time': 0.11, 'content': '高蛋白低脂肪食物助燃脂', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '晚上健身后吃什么能帮助减脂'}]}, {'role': 'assistant', 'content': '高蛋白低脂肪食物助燃脂'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.404, 'infer_time': 0.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:44:59] 收到 tts_done, timestamp=13.404s
[2025-11-19 01:44:59] 在 13.40s 插入 TTS（2.47s）
[2025-11-19 01:45:08] 音频发送完毕，用时 22.32s
[2025-11-19 01:45:08] WebSocket 已关闭，结束接收循环
[2025-11-19 01:45:08] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0011_0001_output.wav，时长 21.71s
[2025-11-19 01:45:08] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0011_0001_output.wav
[2025-11-19 01:45:08] 处理完成: 0011_0001.wav
[2025-11-19 01:45:08] -----------------------------------
[2025-11-19 01:45:08] 开始处理文件: 0011_0010.wav
[2025-11-19 01:45:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:45:08] 初始化输出 buffer，总时长 23.14s（370240 samples）
[2025-11-19 01:45:08] 开始发送 0011_0010.wav，总帧 1447，时长 23.14s
[2025-11-19 01:45:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.552, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.303, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.452, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得盗梦空间的结局是现实还是梦境'}}
[2025-11-19 01:45:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.489, 'infer_time': 0.181, 'content': '电影结局是现实还是梦境，其实并不重要。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.827, 'infer_time': 0.334, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:13] 收到 tts_done, timestamp=5.827s
[2025-11-19 01:45:13] 在 5.83s 插入 TTS（4.53s）
[2025-11-19 01:45:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.116}}
[2025-11-19 01:45:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.624, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.737, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.385, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.48, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.568, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得盗梦空间的结局是现实还是梦境'}]}, {'role': 'assistant', 'content': '电影结局是现实还是梦境，其实并不重要。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.703, 'turn': 1, 'state': 'LISTEN', 'content': '今天准备带什么健康零食去图书馆复习'}}
[2025-11-19 01:45:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.763, 'infer_time': 0.19, 'content': '带些坚果和水果干，健康又提神。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得盗梦空间的结局是现实还是梦境'}]}, {'role': 'assistant', 'content': '电影结局是现实还是梦境，其实并不重要。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.014, 'infer_time': 0.245, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:23] 收到 tts_done, timestamp=15.014s
[2025-11-19 01:45:23] 在 15.01s 插入 TTS（3.17s）
[2025-11-19 01:45:31] 音频发送完毕，用时 23.81s
[2025-11-19 01:45:31] WebSocket 已关闭，结束接收循环
[2025-11-19 01:45:31] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0011_0010_output.wav，时长 23.14s
[2025-11-19 01:45:31] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0011_0010_output.wav
[2025-11-19 01:45:31] 处理完成: 0011_0010.wav
[2025-11-19 01:45:31] -----------------------------------
[2025-11-19 01:45:31] 开始处理文件: 0011_0037.wav
[2025-11-19 01:45:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:45:31] 初始化输出 buffer，总时长 21.66s（346560 samples）
[2025-11-19 01:45:31] 开始发送 0011_0037.wav，总帧 1354，时长 21.66s
[2025-11-19 01:45:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.658, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.311, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.405, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.566, 'infer_time': 0.157, 'content': '规律作息有助于身体修复和免疫力提升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.611, 'turn': 0, 'state': 'LISTEN', 'content': '为什么早睡早起对健康更有好处'}}
[2025-11-19 01:45:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.846, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:36] 收到 tts_done, timestamp=4.846s
[2025-11-19 01:45:36] 在 4.85s 插入 TTS（3.48s）
[2025-11-19 01:45:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.052}}
[2025-11-19 01:45:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.56, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.23, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.878, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.97, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.057, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么早睡早起对健康更有好处'}]}, {'role': 'assistant', 'content': '规律作息有助于身体修复和免疫力提升。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.221, 'turn': 1, 'state': 'LISTEN', 'content': '最近跑步时会不会觉得特别容易烦躁'}}
[2025-11-19 01:45:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.265, 'infer_time': 0.204, 'content': '运动时烦躁可能因缺氧或疲劳，适当调整强度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么早睡早起对健康更有好处'}]}, {'role': 'assistant', 'content': '规律作息有助于身体修复和免疫力提升。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.6, 'infer_time': 0.33, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:45:45] 收到 tts_done, timestamp=13.6s
[2025-11-19 01:45:45] 在 13.60s 插入 TTS（4.28s）
[2025-11-19 01:45:54] 音频发送完毕，用时 22.23s
[2025-11-19 01:45:54] WebSocket 已关闭，结束接收循环
[2025-11-19 01:45:54] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0011_0037_output.wav，时长 21.66s
[2025-11-19 01:45:54] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0011_0037_output.wav
[2025-11-19 01:45:54] 处理完成: 0011_0037.wav
[2025-11-19 01:45:54] -----------------------------------
[2025-11-19 01:45:54] 开始处理文件: 0012_0013.wav
[2025-11-19 01:45:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:45:54] 初始化输出 buffer，总时长 25.66s（410560 samples）
[2025-11-19 01:45:54] 开始发送 0012_0013.wav，总帧 1604，时长 25.66s
[2025-11-19 01:45:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.085, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.74, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:45:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.839, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.033, 'turn': 0, 'state': 'LISTEN', 'content': '为什么我总是过度依赖伴侣来获得安全感'}}
[2025-11-19 01:46:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.053, 'infer_time': 0.209, 'content': '可能源于内心缺乏安全感，需要伴侣给予更多关注和肯定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.438, 'infer_time': 0.379, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:00] 收到 tts_done, timestamp=6.438s
[2025-11-19 01:46:00] 在 6.44s 插入 TTS（5.06s）
[2025-11-19 01:46:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.187}}
[2025-11-19 01:46:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.638, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:46:06] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.722, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.903, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.517, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.165, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.268, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.363, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我总是过度依赖伴侣来获得安全感'}]}, {'role': 'assistant', 'content': '可能源于内心缺乏安全感，需要伴侣给予更多关注和肯定。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.54, 'turn': 1, 'state': 'LISTEN', 'content': '上次教你羊毛粘小兔子眼睛缝法还记得吗'}}
[2025-11-19 01:46:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.566, 'infer_time': 0.198, 'content': '记得，用黑色线缝出两个小圆点即可。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么我总是过度依赖伴侣来获得安全感'}]}, {'role': 'assistant', 'content': '可能源于内心缺乏安全感，需要伴侣给予更多关注和肯定。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.874, 'infer_time': 0.303, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:12] 收到 tts_done, timestamp=17.874s
[2025-11-19 01:46:12] 在 17.87s 插入 TTS（3.83s）
[2025-11-19 01:46:20] 音频发送完毕，用时 26.55s
[2025-11-19 01:46:20] WebSocket 已关闭，结束接收循环
[2025-11-19 01:46:20] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0012_0013_output.wav，时长 25.66s
[2025-11-19 01:46:20] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0012_0013_output.wav
[2025-11-19 01:46:20] 处理完成: 0012_0013.wav
[2025-11-19 01:46:20] -----------------------------------
[2025-11-19 01:46:20] 开始处理文件: 0012_0025.wav
[2025-11-19 01:46:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:46:20] 初始化输出 buffer，总时长 24.98s（399680 samples）
[2025-11-19 01:46:20] 开始发送 0012_0025.wav，总帧 1562，时长 24.98s
[2025-11-19 01:46:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.055, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.709, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.808, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.0, 'infer_time': 0.188, 'content': '部分工作会被取代，但人类角色仍不可替代。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.025, 'turn': 0, 'state': 'LISTEN', 'content': '觉得人工智能会最终取代人类的工作吗'}}
[2025-11-19 01:46:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.283, 'infer_time': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:27] 收到 tts_done, timestamp=6.283s
[2025-11-19 01:46:27] 在 6.28s 插入 TTS（3.65s）
[2025-11-19 01:46:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.808}}
[2025-11-19 01:46:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.318, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.012, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.747, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.395, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.494, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.592, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '觉得人工智能会最终取代人类的工作吗'}]}, {'role': 'assistant', 'content': '部分工作会被取代，但人类角色仍不可替代。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.766, 'turn': 1, 'state': 'LISTEN', 'content': '手工皮具 d i y 你选好要用的皮革颜色了吗'}}
[2025-11-19 01:46:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.776, 'infer_time': 0.178, 'content': '我还没选好，你有什么推荐的颜色吗？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '觉得人工智能会最终取代人类的工作吗'}]}, {'role': 'assistant', 'content': '部分工作会被取代，但人类角色仍不可替代。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.014, 'infer_time': 0.231, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:37] 收到 tts_done, timestamp=17.014s
[2025-11-19 01:46:37] 在 17.01s 插入 TTS（2.91s）
[2025-11-19 01:46:46] 音频发送完毕，用时 25.81s
[2025-11-19 01:46:46] WebSocket 已关闭，结束接收循环
[2025-11-19 01:46:46] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0012_0025_output.wav，时长 24.98s
[2025-11-19 01:46:46] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0012_0025_output.wav
[2025-11-19 01:46:46] 处理完成: 0012_0025.wav
[2025-11-19 01:46:46] -----------------------------------
[2025-11-19 01:46:46] 开始处理文件: 0013_0015.wav
[2025-11-19 01:46:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:46:46] 初始化输出 buffer，总时长 23.66s（378560 samples）
[2025-11-19 01:46:46] 开始发送 0013_0015.wav，总帧 1479，时长 23.66s
[2025-11-19 01:46:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.578, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.232, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.336, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.488, 'turn': 0, 'state': 'LISTEN', 'content': '如何在工作中有效利用番茄工作法提高效率'}}
[2025-11-19 01:46:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.531, 'infer_time': 0.19, 'content': '番茄工作法能提升专注力，建议你试试。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.823, 'infer_time': 0.287, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:46:52] 收到 tts_done, timestamp=5.823s
[2025-11-19 01:46:52] 在 5.82s 插入 TTS（3.69s）
[2025-11-19 01:46:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.921}}
[2025-11-19 01:46:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.433, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:46:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.539, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.268, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.917, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.013, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.104, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何在工作中有效利用番茄工作法提高效率'}]}, {'role': 'assistant', 'content': '番茄工作法能提升专注力，建议你试试。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.297, 'turn': 1, 'state': 'LISTEN', 'content': '你上次测的餐后血糖值是多少需要调整用药吗'}}
[2025-11-19 01:47:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.374, 'infer_time': 0.266, 'content': '上次餐后血糖值是8.2mmol/L，需遵医嘱调整用药。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何在工作中有效利用番茄工作法提高效率'}]}, {'role': 'assistant', 'content': '番茄工作法能提升专注力，建议你试试。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.783, 'infer_time': 0.402, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:02] 收到 tts_done, timestamp=15.783s
[2025-11-19 01:47:02] 在 15.78s 插入 TTS（5.39s）
[2025-11-19 01:47:10] 音频发送完毕，用时 24.39s
[2025-11-19 01:47:10] WebSocket 已关闭，结束接收循环
[2025-11-19 01:47:10] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0013_0015_output.wav，时长 23.66s
[2025-11-19 01:47:10] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0013_0015_output.wav
[2025-11-19 01:47:10] 处理完成: 0013_0015.wav
[2025-11-19 01:47:10] -----------------------------------
[2025-11-19 01:47:10] 开始处理文件: 0013_0035.wav
[2025-11-19 01:47:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:47:10] 初始化输出 buffer，总时长 27.48s（439680 samples）
[2025-11-19 01:47:10] 开始发送 0013_0035.wav，总帧 1718，时长 27.48s
[2025-11-19 01:47:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.053, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.999, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.397, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.052, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.15, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.331, 'turn': 0, 'state': 'LISTEN', 'content': '为什么今年这么难阶段反应会持续很久'}}
[2025-11-19 01:47:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.382, 'infer_time': 0.227, 'content': '戒断反应因人而异，通常持续数周到数月。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.703, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:16] 收到 tts_done, timestamp=5.703s
[2025-11-19 01:47:16] 在 5.70s 插入 TTS（4.09s）
[2025-11-19 01:47:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.744}}
[2025-11-19 01:47:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.064, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:47:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.443, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.174, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.095, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 18.296, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 18.944, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.053, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.169, 'infer_time': 0.111, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么今年这么难阶段反应会持续很久'}]}, {'role': 'assistant', 'content': '戒断反应因人而异，通常持续数周到数月。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.426, 'infer_time': 0.251, 'content': '是的，那段铜管合奏气势磅礴，极具震撼力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么今年这么难阶段反应会持续很久'}]}, {'role': 'assistant', 'content': '戒断反应因人而异，通常持续数周到数月。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 19.435, 'turn': 1, 'state': 'LISTEN', 'content': '你上次听到柴可夫斯基第六交响曲第四乐章那段铜管合奏震撼吗'}}
[2025-11-19 01:47:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 19.752, 'infer_time': 0.319, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:30] 收到 tts_done, timestamp=19.752s
[2025-11-19 01:47:30] 在 19.75s 插入 TTS（4.25s）
[2025-11-19 01:47:39] 音频发送完毕，用时 28.41s
[2025-11-19 01:47:39] WebSocket 已关闭，结束接收循环
[2025-11-19 01:47:39] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0013_0035_output.wav，时长 27.48s
[2025-11-19 01:47:39] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0013_0035_output.wav
[2025-11-19 01:47:39] 处理完成: 0013_0035.wav
[2025-11-19 01:47:39] -----------------------------------
[2025-11-19 01:47:39] 开始处理文件: 0014_0006.wav
[2025-11-19 01:47:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:47:39] 初始化输出 buffer，总时长 22.33s（357280 samples）
[2025-11-19 01:47:39] 开始发送 0014_0006.wav，总帧 1396，时长 22.33s
[2025-11-19 01:47:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.03, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.559, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.312, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.515, 'infer_time': 0.198, 'content': '家用太阳能投资回报周期通常为6到10年。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.531, 'turn': 0, 'state': 'LISTEN', 'content': '家用太阳能电池板的投资回报周期一般是多久'}}
[2025-11-19 01:47:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.85, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:47:45] 收到 tts_done, timestamp=5.85s
[2025-11-19 01:47:45] 在 5.85s 插入 TTS（4.45s）
[2025-11-19 01:47:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.947}}
[2025-11-19 01:47:50] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.457, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.004, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.65, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.744, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.835, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家用太阳能电池板的投资回报周期一般是多久'}]}, {'role': 'assistant', 'content': '家用太阳能投资回报周期通常为6到10年。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.996, 'infer_time': 0.161, 'content': '家用太阳能投资回报周期通常为6到10年。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '家用太阳能电池板的投资回报周期一般是多久'}]}, {'role': 'assistant', 'content': '家用太阳能投资回报周期通常为6到10年。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.292, 'infer_time': 0.29, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:47:53] 收到 tts_done, timestamp=14.292s
[2025-11-19 01:47:53] 在 14.29s 插入 TTS（3.91s）
[2025-11-19 01:48:02] 音频发送完毕，用时 23.00s
[2025-11-19 01:48:02] WebSocket 已关闭，结束接收循环
[2025-11-19 01:48:02] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0014_0006_output.wav，时长 22.33s
[2025-11-19 01:48:02] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0014_0006_output.wav
[2025-11-19 01:48:02] 处理完成: 0014_0006.wav
[2025-11-19 01:48:02] -----------------------------------
[2025-11-19 01:48:02] 开始处理文件: 0014_0038.wav
[2025-11-19 01:48:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:48:02] 初始化输出 buffer，总时长 22.65s（362400 samples）
[2025-11-19 01:48:02] 开始发送 0014_0038.wav，总帧 1416，时长 22.65s
[2025-11-19 01:48:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.384, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.722, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.377, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.477, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.669, 'turn': 0, 'state': 'LISTEN', 'content': '如何运用三分法构图让风景照片更有层次感'}}
[2025-11-19 01:48:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.926, 'infer_time': 2.444, 'content': '三分法构图是摄影中常用的一种技巧，它通过将画面平均分成九个相等的部分（即三行三列），形成四个交叉点。在拍摄风景照片时，可以利用这些交叉点来安排画面中的重要元素，比如地平线、山峰或树木的顶端等。\n\n具体来说：\n\n1. **放置地平线**：通常情况下，如果想强调天空的壮丽或者地面的细节，可以将地平线放在上三分之一处或下三分之一处。例如，在拍摄日出或日落时，若希望突出天空的颜色变化，则可将地平线置于下方；反之，在展现广阔草原或沙漠景观时，则可让地平线上移至上方。\n\n2. **定位主体对象**：除了调整背景层次外，还可以使用三分法来决定前景物体的位置。假设你在拍摄一片湖泊旁的小岛或是远处连绵起伏的山脉作为焦点的话，请尝试将其置于任一交点之上——这不仅有助于引导观众视线聚焦于关键区域，并且还能增强整体视觉冲击力与深度感。\n\n3. **创造动态平衡**：当存在多个显著特征需要同时呈现给观者时（如河流蜿蜒穿过山谷），不妨试着把它们', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 10.089, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.836, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.845, 'infer_time': 5.912, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:16] 收到 tts_done, timestamp=13.845s
[2025-11-19 01:48:16] 在 13.85s 插入 TTS（8.80s）
[2025-11-19 01:48:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.943, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:48:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.11, 'turn': 0, 'state': 'SPEAK', 'content': '看的悬疑剧反转部分够精彩吗'}}
[2025-11-19 01:48:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.189, 'infer_time': 0.242, 'content': '反转部分确实很精彩，情节紧凑又出人意料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何运用三分法构图让风景照片更有层次感'}]}, {'role': 'assistant', 'content': '三分法构图是摄影中常用的一种技巧，它通过将画面平均分成九个相等的部分（即三行三列），形成四个交叉点。在拍摄风景照片时，可以利用这些交叉点来安排画面中的重要元素，比如地平线、山峰或树木的顶端等。\n\n具体来说：\n\n1. **放置地平线**：通常情况下，如果想强调天空的壮丽或者地面的细节，可以将地平线放在上三分之一处或下三分之一处。例如，在拍摄日出或日落时，若希望突出天空的颜色变化，则可将地平线置于下方；反之，在展现广阔草原或沙漠景观时，则可让地平线上移至上方。\n\n2. **定位主体对象**：除了调整背景层次外，还可以使用三分法来决定前景物体的位置。假设你在拍摄一片湖泊旁的小岛或是远处连绵起伏的山脉作为焦点的话，请尝试将其置于任一交点之上——这不仅有助于引导观众视线聚焦于关键区域，并且还能增强整体视觉冲击力与深度感。\n\n3. **创造动态平衡**：当存在多个显著特征需要同时呈现给观者时（如河流蜿蜒穿过山谷），不妨试着把它们'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:48:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.514, 'infer_time': 0.319, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 01:48:16] 收到 tts_done, timestamp=14.514s
[2025-11-19 01:48:16] 在 14.51s 插入 TTS（4.35s）
[2025-11-19 01:48:25] 音频发送完毕，用时 23.23s
[2025-11-19 01:48:25] WebSocket 已关闭，结束接收循环
[2025-11-19 01:48:25] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0014_0038_output.wav，时长 22.65s
[2025-11-19 01:48:25] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0014_0038_output.wav
[2025-11-19 01:48:25] 处理完成: 0014_0038.wav
[2025-11-19 01:48:25] -----------------------------------
[2025-11-19 01:48:25] 开始处理文件: 0014_0039.wav
[2025-11-19 01:48:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:48:25] 初始化输出 buffer，总时长 23.86s（381760 samples）
[2025-11-19 01:48:25] 开始发送 0014_0039.wav，总帧 1492，时长 23.86s
[2025-11-19 01:48:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.002, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.656, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.763, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.923, 'infer_time': 0.154, 'content': '检查数据一致性与实验可重复性', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.005, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一篇论文是否存在数据伪造的学术不端行为'}}
[2025-11-19 01:48:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.152, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:31] 收到 tts_done, timestamp=6.152s
[2025-11-19 01:48:31] 在 6.15s 插入 TTS（2.72s）
[2025-11-19 01:48:36] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.49}}
[2025-11-19 01:48:37] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.0, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.586, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.233, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.33, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.422, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何判断一篇论文是否存在数据伪造的学术不端行为'}]}, {'role': 'assistant', 'content': '检查数据一致性与实验可重复性'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.567, 'turn': 1, 'state': 'LISTEN', 'content': '通过周杰伦新专辑的主打歌了吗副歌部分超惊艳'}}
[2025-11-19 01:48:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.595, 'infer_time': 0.169, 'content': '周杰伦新专辑主打歌确实很惊艳', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何判断一篇论文是否存在数据伪造的学术不端行为'}]}, {'role': 'assistant', 'content': '检查数据一致性与实验可重复性'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.908, 'infer_time': 0.307, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:48:41] 收到 tts_done, timestamp=15.908s
[2025-11-19 01:48:41] 在 15.91s 插入 TTS（4.08s）
[2025-11-19 01:48:50] 音频发送完毕，用时 24.61s
[2025-11-19 01:48:50] WebSocket 已关闭，结束接收循环
[2025-11-19 01:48:50] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0014_0039_output.wav，时长 23.86s
[2025-11-19 01:48:50] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0014_0039_output.wav
[2025-11-19 01:48:50] 处理完成: 0014_0039.wav
[2025-11-19 01:48:50] -----------------------------------
[2025-11-19 01:48:50] 开始处理文件: 0015_0020.wav
[2025-11-19 01:48:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:48:50] 初始化输出 buffer，总时长 26.16s（418560 samples）
[2025-11-19 01:48:50] 开始发送 0015_0020.wav，总帧 1635，时长 26.16s
[2025-11-19 01:48:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.432, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.653, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.303, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.408, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.597, 'turn': 0, 'state': 'LISTEN', 'content': '我的风险承受能力测评结果是保守性该如何调整投资组合'}}
[2025-11-19 01:48:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.615, 'infer_time': 0.202, 'content': '建议配置高比例债券和货币基金，降低股票仓位。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.977, 'infer_time': 0.356, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:48:57] 收到 tts_done, timestamp=6.977s
[2025-11-19 01:48:57] 在 6.98s 插入 TTS（4.77s）
[2025-11-19 01:49:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.154}}
[2025-11-19 01:49:02] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.668, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.863, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.957, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.605, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.707, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.819, 'infer_time': 0.107, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的风险承受能力测评结果是保守性该如何调整投资组合'}]}, {'role': 'assistant', 'content': '建议配置高比例债券和货币基金，降低股票仓位。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.033, 'infer_time': 0.209, 'content': '感谢邀请，我将参加下周的行业酒会。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的风险承受能力测评结果是保守性该如何调整投资组合'}]}, {'role': 'assistant', 'content': '建议配置高比例债券和货币基金，降低股票仓位。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 18.054, 'turn': 1, 'state': 'LISTEN', 'content': '总刚问你要不要参加下周的行业酒会主办方特意邀请你了'}}
[2025-11-19 01:49:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.307, 'infer_time': 0.267, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 01:49:08] 收到 tts_done, timestamp=18.307s
[2025-11-19 01:49:08] 在 18.31s 插入 TTS（3.39s）
[2025-11-19 01:49:17] 音频发送完毕，用时 27.01s
[2025-11-19 01:49:17] WebSocket 已关闭，结束接收循环
[2025-11-19 01:49:17] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/0015_0020_output.wav，时长 26.16s
[2025-11-19 01:49:17] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/0015_0020_output.wav
[2025-11-19 01:49:17] 处理完成: 0015_0020.wav
[2025-11-19 01:49:17] -----------------------------------
[2025-11-19 01:49:17] 开始处理文件: clean_0001_0009.wav
[2025-11-19 01:49:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:49:17] 初始化输出 buffer，总时长 23.27s（372320 samples）
[2025-11-19 01:49:17] 开始发送 clean_0001_0009.wav，总帧 1455，时长 23.27s
[2025-11-19 01:49:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.148, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.182, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.831, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.93, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.083, 'turn': 0, 'state': 'LISTEN', 'content': '能详细讲述一下隶书的蚕头燕尾特征吗'}}
[2025-11-19 01:49:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.135, 'infer_time': 0.2, 'content': '蚕头雁尾是隶书的典型笔画特征。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.427, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:22] 收到 tts_done, timestamp=5.427s
[2025-11-19 01:49:22] 在 5.43s 插入 TTS（3.83s）
[2025-11-19 01:49:41] 音频发送完毕，用时 23.75s
[2025-11-19 01:49:41] WebSocket 已关闭，结束接收循环
[2025-11-19 01:49:41] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0009_output.wav，时长 23.27s
[2025-11-19 01:49:41] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0009_output.wav
[2025-11-19 01:49:41] 处理完成: clean_0001_0009.wav
[2025-11-19 01:49:41] -----------------------------------
[2025-11-19 01:49:41] 开始处理文件: clean_0001_0016.wav
[2025-11-19 01:49:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:49:41] 初始化输出 buffer，总时长 23.02s（368320 samples）
[2025-11-19 01:49:41] 开始发送 clean_0001_0016.wav，总帧 1439，时长 23.02s
[2025-11-19 01:49:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.801, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.093, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.741, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.855, 'infer_time': 0.109, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.058, 'infer_time': 0.198, 'content': '试试4-7-8呼吸法，特别管用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.071, 'turn': 0, 'state': 'LISTEN', 'content': '当我感到焦虑时哪种呼吸技巧最有效'}}
[2025-11-19 01:49:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.281, 'infer_time': 0.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:49:46] 收到 tts_done, timestamp=5.281s
[2025-11-19 01:49:46] 在 5.28s 插入 TTS（2.64s）
[2025-11-19 01:50:04] 音频发送完毕，用时 23.50s
[2025-11-19 01:50:04] WebSocket 已关闭，结束接收循环
[2025-11-19 01:50:04] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0016_output.wav，时长 23.02s
[2025-11-19 01:50:04] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0016_output.wav
[2025-11-19 01:50:04] 处理完成: clean_0001_0016.wav
[2025-11-19 01:50:04] -----------------------------------
[2025-11-19 01:50:04] 开始处理文件: clean_0001_0018.wav
[2025-11-19 01:50:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:50:04] 初始化输出 buffer，总时长 23.19s（371040 samples）
[2025-11-19 01:50:04] 开始发送 clean_0001_0018.wav，总帧 1450，时长 23.19s
[2025-11-19 01:50:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.34, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.45, 'infer_time': 0.106, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.606, 'turn': 0, 'state': 'LISTEN', 'content': '最近几年教育扶贫在偏远地区的具体成效有哪些'}}
[2025-11-19 01:50:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.618, 'infer_time': 0.163, 'content': '改善了教学设施，提高了入学率。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.879, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:10] 收到 tts_done, timestamp=5.879s
[2025-11-19 01:50:10] 在 5.88s 插入 TTS（2.99s）
[2025-11-19 01:50:28] 音频发送完毕，用时 23.73s
[2025-11-19 01:50:28] WebSocket 已关闭，结束接收循环
[2025-11-19 01:50:28] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0018_output.wav，时长 23.19s
[2025-11-19 01:50:28] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0018_output.wav
[2025-11-19 01:50:28] 处理完成: clean_0001_0018.wav
[2025-11-19 01:50:28] -----------------------------------
[2025-11-19 01:50:28] 开始处理文件: clean_0001_0024.wav
[2025-11-19 01:50:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:50:28] 初始化输出 buffer，总时长 23.96s（383360 samples）
[2025-11-19 01:50:28] 开始发送 clean_0001_0024.wav，总帧 1498，时长 23.96s
[2025-11-19 01:50:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.789, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.437, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.551, 'infer_time': 0.109, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.748, 'infer_time': 0.192, 'content': '短期记忆是临时存储，长期记忆则持久保存。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.81, 'turn': 0, 'state': 'LISTEN', 'content': '人类的短期记忆和长期记忆在脑科学中的区别是什么'}}
[2025-11-19 01:50:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.099, 'infer_time': 0.346, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:35] 收到 tts_done, timestamp=7.099s
[2025-11-19 01:50:35] 在 7.10s 插入 TTS（4.40s）
[2025-11-19 01:50:52] 音频发送完毕，用时 24.53s
[2025-11-19 01:50:52] WebSocket 已关闭，结束接收循环
[2025-11-19 01:50:52] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0024_output.wav，时长 23.96s
[2025-11-19 01:50:52] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0024_output.wav
[2025-11-19 01:50:52] 处理完成: clean_0001_0024.wav
[2025-11-19 01:50:52] -----------------------------------
[2025-11-19 01:50:52] 开始处理文件: clean_0001_0030.wav
[2025-11-19 01:50:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:50:52] 初始化输出 buffer，总时长 23.21s（371360 samples）
[2025-11-19 01:50:52] 开始发送 clean_0001_0030.wav，总帧 1451，时长 23.21s
[2025-11-19 01:50:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.902, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.523, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.794, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.441, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.67, 'infer_time': 0.224, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.834, 'infer_time': 0.159, 'content': '试试深呼吸，适当休息放松一下。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.867, 'turn': 0, 'state': 'LISTEN', 'content': '最近工作压力好大总觉得喘不过气我该怎么办'}}
[2025-11-19 01:50:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.096, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:50:58] 收到 tts_done, timestamp=6.096s
[2025-11-19 01:50:58] 在 6.10s 插入 TTS（2.96s）
[2025-11-19 01:51:16] 音频发送完毕，用时 23.69s
[2025-11-19 01:51:16] WebSocket 已关闭，结束接收循环
[2025-11-19 01:51:16] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0030_output.wav，时长 23.21s
[2025-11-19 01:51:16] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0001_0030_output.wav
[2025-11-19 01:51:16] 处理完成: clean_0001_0030.wav
[2025-11-19 01:51:16] -----------------------------------
[2025-11-19 01:51:16] 开始处理文件: clean_0002_0010.wav
[2025-11-19 01:51:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:51:16] 初始化输出 buffer，总时长 23.02s（368320 samples）
[2025-11-19 01:51:16] 开始发送 clean_0002_0010.wav，总帧 1439，时长 23.02s
[2025-11-19 01:51:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.651, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.395, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.547, 'infer_time': 0.147, 'content': '定期视频通话，分享生活点滴。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.609, 'turn': 0, 'state': 'LISTEN', 'content': '和朋友异地后怎么保持亲密联系'}}
[2025-11-19 01:51:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.791, 'infer_time': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:21] 收到 tts_done, timestamp=4.791s
[2025-11-19 01:51:21] 在 4.79s 插入 TTS（3.05s）
[2025-11-19 01:51:40] 音频发送完毕，用时 23.47s
[2025-11-19 01:51:40] WebSocket 已关闭，结束接收循环
[2025-11-19 01:51:40] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0010_output.wav，时长 23.02s
[2025-11-19 01:51:40] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0010_output.wav
[2025-11-19 01:51:40] 处理完成: clean_0002_0010.wav
[2025-11-19 01:51:40] -----------------------------------
[2025-11-19 01:51:40] 开始处理文件: clean_0002_0011.wav
[2025-11-19 01:51:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:51:40] 初始化输出 buffer，总时长 24.64s（394240 samples）
[2025-11-19 01:51:40] 开始发送 clean_0002_0011.wav，总帧 1540，时长 24.64s
[2025-11-19 01:51:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.537, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.282, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.43, 'infer_time': 0.142, 'content': '多沟通，理解对方感受。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.455, 'turn': 0, 'state': 'LISTEN', 'content': '最竟和伴侣总是因为小事争吵感觉婚姻出现了危机我该怎么办'}}
[2025-11-19 01:51:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.637, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:51:46] 收到 tts_done, timestamp=6.637s
[2025-11-19 01:51:46] 在 6.64s 插入 TTS（2.35s）
[2025-11-19 01:52:05] 音频发送完毕，用时 25.17s
[2025-11-19 01:52:05] WebSocket 已关闭，结束接收循环
[2025-11-19 01:52:05] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0011_output.wav，时长 24.64s
[2025-11-19 01:52:05] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0011_output.wav
[2025-11-19 01:52:05] 处理完成: clean_0002_0011.wav
[2025-11-19 01:52:05] -----------------------------------
[2025-11-19 01:52:05] 开始处理文件: clean_0002_0021.wav
[2025-11-19 01:52:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:52:05] 初始化输出 buffer，总时长 25.55s（408800 samples）
[2025-11-19 01:52:05] 开始发送 clean_0002_0021.wav，总帧 1597，时长 25.55s
[2025-11-19 01:52:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.478, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.127, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.23, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.504, 'turn': 0, 'state': 'LISTEN', 'content': 'b r i s p r 基因编辑技术目前有哪些最新的临床应用'}}
[2025-11-19 01:52:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.507, 'infer_time': 0.272, 'content': 'CRISPR基因编辑技术已用于治疗镰状细胞病和β地中海贫血等血液疾病。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.984, 'infer_time': 0.471, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:13] 收到 tts_done, timestamp=7.984s
[2025-11-19 01:52:13] 在 7.98s 插入 TTS（6.48s）
[2025-11-19 01:52:31] 音频发送完毕，用时 26.17s
[2025-11-19 01:52:31] WebSocket 已关闭，结束接收循环
[2025-11-19 01:52:31] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0021_output.wav，时长 25.55s
[2025-11-19 01:52:31] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0021_output.wav
[2025-11-19 01:52:31] 处理完成: clean_0002_0021.wav
[2025-11-19 01:52:31] -----------------------------------
[2025-11-19 01:52:31] 开始处理文件: clean_0002_0028.wav
[2025-11-19 01:52:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:52:31] 初始化输出 buffer，总时长 22.63s（362080 samples）
[2025-11-19 01:52:31] 开始发送 clean_0002_0028.wav，总帧 1415，时长 22.63s
[2025-11-19 01:52:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.661, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.308, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.406, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.551, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得现在中小学教师的薪资水平是否合理'}}
[2025-11-19 01:52:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.587, 'infer_time': 0.178, 'content': '教师薪资与付出不完全匹配，有待提升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.881, 'infer_time': 0.288, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:36] 收到 tts_done, timestamp=4.881s
[2025-11-19 01:52:36] 在 4.88s 插入 TTS（3.69s）
[2025-11-19 01:52:54] 音频发送完毕，用时 23.07s
[2025-11-19 01:52:54] WebSocket 已关闭，结束接收循环
[2025-11-19 01:52:54] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0028_output.wav，时长 22.63s
[2025-11-19 01:52:54] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0002_0028_output.wav
[2025-11-19 01:52:54] 处理完成: clean_0002_0028.wav
[2025-11-19 01:52:54] -----------------------------------
[2025-11-19 01:52:54] 开始处理文件: clean_0003_0011.wav
[2025-11-19 01:52:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:52:54] 初始化输出 buffer，总时长 24.72s（395520 samples）
[2025-11-19 01:52:54] 开始发送 clean_0003_0011.wav，总帧 1545，时长 24.72s
[2025-11-19 01:52:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.63, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.377, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.527, 'infer_time': 0.146, 'content': '科学研究表明冥想有助于缓解焦虑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.568, 'turn': 0, 'state': 'LISTEN', 'content': '每天冥想十分钟真的能改善焦虑吗'}}
[2025-11-19 01:52:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.808, 'infer_time': 0.277, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:52:59] 收到 tts_done, timestamp=4.808s
[2025-11-19 01:52:59] 在 4.81s 插入 TTS（3.59s）
[2025-11-19 01:53:19] 音频发送完毕，用时 25.20s
[2025-11-19 01:53:19] WebSocket 已关闭，结束接收循环
[2025-11-19 01:53:19] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0011_output.wav，时长 24.72s
[2025-11-19 01:53:19] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0011_output.wav
[2025-11-19 01:53:19] 处理完成: clean_0003_0011.wav
[2025-11-19 01:53:19] -----------------------------------
[2025-11-19 01:53:19] 开始处理文件: clean_0003_0022.wav
[2025-11-19 01:53:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:53:19] 初始化输出 buffer，总时长 23.41s（374560 samples）
[2025-11-19 01:53:19] 开始发送 clean_0003_0022.wav，总帧 1464，时长 23.41s
[2025-11-19 01:53:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.763, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.411, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.506, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.654, 'turn': 0, 'state': 'LISTEN', 'content': '民族舞的基本功训练有哪些要点'}}
[2025-11-19 01:53:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.801, 'infer_time': 0.29, 'content': '民族舞基本功训练要点包括：站姿、手位、脚位、身韵和节奏感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.34, 'infer_time': 0.533, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:25] 收到 tts_done, timestamp=5.34s
[2025-11-19 01:53:25] 在 5.34s 插入 TTS（7.44s）
[2025-11-19 01:53:43] 音频发送完毕，用时 23.87s
[2025-11-19 01:53:43] WebSocket 已关闭，结束接收循环
[2025-11-19 01:53:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0022_output.wav，时长 23.41s
[2025-11-19 01:53:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0022_output.wav
[2025-11-19 01:53:43] 处理完成: clean_0003_0022.wav
[2025-11-19 01:53:43] -----------------------------------
[2025-11-19 01:53:43] 开始处理文件: clean_0003_0024.wav
[2025-11-19 01:53:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:53:43] 初始化输出 buffer，总时长 22.65s（362400 samples）
[2025-11-19 01:53:43] 开始发送 clean_0003_0024.wav，总帧 1416，时长 22.65s
[2025-11-19 01:53:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.933, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.583, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.692, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.853, 'infer_time': 0.157, 'content': '主动创造聊天机会，分享日常小事。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.89, 'turn': 0, 'state': 'LISTEN', 'content': '最近感觉和恋人聊天变少了该怎么改善'}}
[2025-11-19 01:53:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.126, 'infer_time': 0.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:53:48] 收到 tts_done, timestamp=5.126s
[2025-11-19 01:53:48] 在 5.13s 插入 TTS（3.21s）
[2025-11-19 01:54:06] 音频发送完毕，用时 23.11s
[2025-11-19 01:54:06] WebSocket 已关闭，结束接收循环
[2025-11-19 01:54:06] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0024_output.wav，时长 22.65s
[2025-11-19 01:54:06] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0024_output.wav
[2025-11-19 01:54:06] 处理完成: clean_0003_0024.wav
[2025-11-19 01:54:06] -----------------------------------
[2025-11-19 01:54:06] 开始处理文件: clean_0003_0039.wav
[2025-11-19 01:54:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:54:06] 初始化输出 buffer，总时长 23.04s（368640 samples）
[2025-11-19 01:54:06] 开始发送 clean_0003_0039.wav，总帧 1440，时长 23.04s
[2025-11-19 01:54:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.777, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.426, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.533, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.681, 'turn': 0, 'state': 'LISTEN', 'content': '视角走路对健康有什么好处'}}
[2025-11-19 01:54:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.728, 'infer_time': 0.191, 'content': '赤脚走路能促进血液循环，增强足底肌肉力量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.071, 'infer_time': 0.338, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:10] 收到 tts_done, timestamp=4.071s
[2025-11-19 01:54:10] 在 4.07s 插入 TTS（4.29s）
[2025-11-19 01:54:30] 音频发送完毕，用时 23.48s
[2025-11-19 01:54:30] WebSocket 已关闭，结束接收循环
[2025-11-19 01:54:30] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0039_output.wav，时长 23.04s
[2025-11-19 01:54:30] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0003_0039_output.wav
[2025-11-19 01:54:30] 处理完成: clean_0003_0039.wav
[2025-11-19 01:54:30] -----------------------------------
[2025-11-19 01:54:30] 开始处理文件: clean_0004_0003.wav
[2025-11-19 01:54:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:54:30] 初始化输出 buffer，总时长 26.01s（416160 samples）
[2025-11-19 01:54:30] 开始发送 clean_0004_0003.wav，总帧 1626，时长 26.01s
[2025-11-19 01:54:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.355, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.943, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 8.591, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.709, 'infer_time': 0.113, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.872, 'infer_time': 0.157, 'content': '应立即上报并回避相关决策。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.983, 'turn': 0, 'state': 'LISTEN', 'content': '作为项目经理如果发现团队成员与供应商存在私人利益关系应该如何处理'}}
[2025-11-19 01:54:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 9.111, 'infer_time': 0.234, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:54:39] 收到 tts_done, timestamp=9.111s
[2025-11-19 01:54:39] 在 9.11s 插入 TTS（2.84s）
[2025-11-19 01:54:56] 音频发送完毕，用时 26.72s
[2025-11-19 01:54:56] WebSocket 已关闭，结束接收循环
[2025-11-19 01:54:56] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0003_output.wav，时长 26.01s
[2025-11-19 01:54:56] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0003_output.wav
[2025-11-19 01:54:56] 处理完成: clean_0004_0003.wav
[2025-11-19 01:54:56] -----------------------------------
[2025-11-19 01:54:56] 开始处理文件: clean_0004_0008.wav
[2025-11-19 01:54:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:54:56] 初始化输出 buffer，总时长 22.88s（366080 samples）
[2025-11-19 01:54:56] 开始发送 clean_0004_0008.wav，总帧 1430，时长 22.88s
[2025-11-19 01:54:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.055, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.704, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.809, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.999, 'infer_time': 0.186, 'content': '香蕉、猕猴桃和蓝莓适合高血压患者。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.023, 'turn': 0, 'state': 'LISTEN', 'content': '高血压患者适合吃哪些水果来控制血压'}}
[2025-11-19 01:55:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.288, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:02] 收到 tts_done, timestamp=5.288s
[2025-11-19 01:55:02] 在 5.29s 插入 TTS（3.48s）
[2025-11-19 01:55:20] 音频发送完毕，用时 23.39s
[2025-11-19 01:55:20] WebSocket 已关闭，结束接收循环
[2025-11-19 01:55:20] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0008_output.wav，时长 22.88s
[2025-11-19 01:55:20] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0008_output.wav
[2025-11-19 01:55:20] 处理完成: clean_0004_0008.wav
[2025-11-19 01:55:20] -----------------------------------
[2025-11-19 01:55:20] 开始处理文件: clean_0004_0027.wav
[2025-11-19 01:55:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:55:20] 初始化输出 buffer，总时长 23.02s（368320 samples）
[2025-11-19 01:55:20] 开始发送 clean_0004_0027.wav，总帧 1439，时长 23.02s
[2025-11-19 01:55:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.946, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.046, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.194, 'turn': 0, 'state': 'LISTEN', 'content': '端午节挂艾草有什么特别讲究吗'}}
[2025-11-19 01:55:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.258, 'infer_time': 0.208, 'content': '挂艾草能驱邪避疫，保佑平安健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.539, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:24] 收到 tts_done, timestamp=4.539s
[2025-11-19 01:55:24] 在 4.54s 插入 TTS（3.52s）
[2025-11-19 01:55:43] 音频发送完毕，用时 23.47s
[2025-11-19 01:55:43] WebSocket 已关闭，结束接收循环
[2025-11-19 01:55:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0027_output.wav，时长 23.02s
[2025-11-19 01:55:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0027_output.wav
[2025-11-19 01:55:43] 处理完成: clean_0004_0027.wav
[2025-11-19 01:55:43] -----------------------------------
[2025-11-19 01:55:43] 开始处理文件: clean_0004_0032.wav
[2025-11-19 01:55:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:55:43] 初始化输出 buffer，总时长 23.50s（376000 samples）
[2025-11-19 01:55:43] 开始发送 clean_0004_0032.wav，总帧 1469，时长 23.50s
[2025-11-19 01:55:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.065, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.682, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.33, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.431, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.607, 'infer_time': 0.171, 'content': '游戏活动能增强团队默契和协作能力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.669, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过游戏活动提升队伍的凝聚力'}}
[2025-11-19 01:55:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.895, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:55:49] 收到 tts_done, timestamp=5.895s
[2025-11-19 01:55:49] 在 5.89s 插入 TTS（3.68s）
[2025-11-19 01:56:07] 音频发送完毕，用时 24.00s
[2025-11-19 01:56:07] WebSocket 已关闭，结束接收循环
[2025-11-19 01:56:07] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0032_output.wav，时长 23.50s
[2025-11-19 01:56:07] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0004_0032_output.wav
[2025-11-19 01:56:07] 处理完成: clean_0004_0032.wav
[2025-11-19 01:56:07] -----------------------------------
[2025-11-19 01:56:07] 开始处理文件: clean_0005_0003.wav
[2025-11-19 01:56:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:56:07] 初始化输出 buffer，总时长 21.70s（347200 samples）
[2025-11-19 01:56:07] 开始发送 clean_0005_0003.wav，总帧 1357，时长 21.70s
[2025-11-19 01:56:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.898, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.548, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.643, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.769, 'turn': 0, 'state': 'LISTEN', 'content': '有什么有效的运动可以帮助瘦腿'}}
[2025-11-19 01:56:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.814, 'infer_time': 0.167, 'content': '跑步、骑车和深蹲都有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.051, 'infer_time': 0.231, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:11] 收到 tts_done, timestamp=4.051s
[2025-11-19 01:56:11] 在 4.05s 插入 TTS（2.84s）
[2025-11-19 01:56:29] 音频发送完毕，用时 22.12s
[2025-11-19 01:56:29] WebSocket 已关闭，结束接收循环
[2025-11-19 01:56:30] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0003_output.wav，时长 21.70s
[2025-11-19 01:56:30] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0003_output.wav
[2025-11-19 01:56:30] 处理完成: clean_0005_0003.wav
[2025-11-19 01:56:30] -----------------------------------
[2025-11-19 01:56:30] 开始处理文件: clean_0005_0015.wav
[2025-11-19 01:56:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:56:30] 初始化输出 buffer，总时长 23.55s（376800 samples）
[2025-11-19 01:56:30] 开始发送 clean_0005_0015.wav，总帧 1472，时长 23.55s
[2025-11-19 01:56:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.874, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.529, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.629, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.808, 'infer_time': 0.173, 'content': '亚龙湾热带天堂森林公园适合亲子互动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.855, 'turn': 0, 'state': 'LISTEN', 'content': '带孩子去三亚玩有哪些适合亲子互动的景点推荐'}}
[2025-11-19 01:56:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.098, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:36] 收到 tts_done, timestamp=6.098s
[2025-11-19 01:56:36] 在 6.10s 插入 TTS（3.78s）
[2025-11-19 01:56:54] 音频发送完毕，用时 24.10s
[2025-11-19 01:56:54] WebSocket 已关闭，结束接收循环
[2025-11-19 01:56:54] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0015_output.wav，时长 23.55s
[2025-11-19 01:56:54] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0015_output.wav
[2025-11-19 01:56:54] 处理完成: clean_0005_0015.wav
[2025-11-19 01:56:54] -----------------------------------
[2025-11-19 01:56:54] 开始处理文件: clean_0005_0038.wav
[2025-11-19 01:56:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:56:54] 初始化输出 buffer，总时长 22.45s（359200 samples）
[2025-11-19 01:56:54] 开始发送 clean_0005_0038.wav，总帧 1404，时长 22.45s
[2025-11-19 01:56:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.444, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.097, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.193, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.335, 'infer_time': 0.137, 'content': '保持冷静，倾听对方观点。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.397, 'turn': 0, 'state': 'LISTEN', 'content': '如何与意见不合的同事和平沟通'}}
[2025-11-19 01:56:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.556, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:56:58] 收到 tts_done, timestamp=4.556s
[2025-11-19 01:56:58] 在 4.56s 插入 TTS（2.81s）
[2025-11-19 01:57:17] 音频发送完毕，用时 22.93s
[2025-11-19 01:57:17] WebSocket 已关闭，结束接收循环
[2025-11-19 01:57:17] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0038_output.wav，时长 22.45s
[2025-11-19 01:57:17] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0005_0038_output.wav
[2025-11-19 01:57:17] 处理完成: clean_0005_0038.wav
[2025-11-19 01:57:17] -----------------------------------
[2025-11-19 01:57:17] 开始处理文件: clean_0006_0002.wav
[2025-11-19 01:57:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:57:17] 初始化输出 buffer，总时长 24.37s（389920 samples）
[2025-11-19 01:57:17] 开始发送 clean_0006_0002.wav，总帧 1524，时长 24.37s
[2025-11-19 01:57:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.844, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.945, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.108, 'turn': 0, 'state': 'LISTEN', 'content': '如何确保教育资源在不同地区之间的公平分配'}}
[2025-11-19 01:57:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.115, 'infer_time': 0.165, 'content': '均衡投入，政策倾斜，师资流动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.397, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:23] 收到 tts_done, timestamp=6.397s
[2025-11-19 01:57:23] 在 6.40s 插入 TTS（3.51s）
[2025-11-19 01:57:41] 音频发送完毕，用时 24.91s
[2025-11-19 01:57:41] WebSocket 已关闭，结束接收循环
[2025-11-19 01:57:41] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0002_output.wav，时长 24.37s
[2025-11-19 01:57:41] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0002_output.wav
[2025-11-19 01:57:41] 处理完成: clean_0006_0002.wav
[2025-11-19 01:57:41] -----------------------------------
[2025-11-19 01:57:41] 开始处理文件: clean_0006_0004.wav
[2025-11-19 01:57:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:57:41] 初始化输出 buffer，总时长 22.14s（354240 samples）
[2025-11-19 01:57:41] 开始发送 clean_0006_0004.wav，总帧 1384，时长 22.14s
[2025-11-19 01:57:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.797, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.6, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.25, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.353, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.51, 'infer_time': 0.152, 'content': '每个人都有自己的价值，试着接纳自己。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.539, 'turn': 0, 'state': 'LISTEN', 'content': '我总觉得自己不够好怎么办'}}
[2025-11-19 01:57:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.807, 'infer_time': 0.292, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:57:45] 收到 tts_done, timestamp=3.807s
[2025-11-19 01:57:45] 在 3.81s 插入 TTS（3.53s）
[2025-11-19 01:58:04] 音频发送完毕，用时 22.55s
[2025-11-19 01:58:04] WebSocket 已关闭，结束接收循环
[2025-11-19 01:58:04] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0004_output.wav，时长 22.14s
[2025-11-19 01:58:04] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0004_output.wav
[2025-11-19 01:58:04] 处理完成: clean_0006_0004.wav
[2025-11-19 01:58:04] -----------------------------------
[2025-11-19 01:58:04] 开始处理文件: clean_0006_0029.wav
[2025-11-19 01:58:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:58:04] 初始化输出 buffer，总时长 23.59s（377440 samples）
[2025-11-19 01:58:04] 开始发送 clean_0006_0029.wav，总帧 1475，时长 23.59s
[2025-11-19 01:58:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.07, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.221, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.869, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.983, 'infer_time': 0.11, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.127, 'turn': 0, 'state': 'LISTEN', 'content': '我的猫咪最近总躲着我是不是我哪里做的不对'}}
[2025-11-19 01:58:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.176, 'infer_time': 0.188, 'content': '猫咪可能感到紧张或不适，建议观察环境变化。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.501, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:10] 收到 tts_done, timestamp=5.501s
[2025-11-19 01:58:10] 在 5.50s 插入 TTS（4.04s）
[2025-11-19 01:58:28] 音频发送完毕，用时 24.06s
[2025-11-19 01:58:28] WebSocket 已关闭，结束接收循环
[2025-11-19 01:58:28] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0029_output.wav，时长 23.59s
[2025-11-19 01:58:28] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0029_output.wav
[2025-11-19 01:58:28] 处理完成: clean_0006_0029.wav
[2025-11-19 01:58:28] -----------------------------------
[2025-11-19 01:58:28] 开始处理文件: clean_0006_0030.wav
[2025-11-19 01:58:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:58:28] 初始化输出 buffer，总时长 23.21s（371360 samples）
[2025-11-19 01:58:28] 开始发送 clean_0006_0030.wav，总帧 1451，时长 23.21s
[2025-11-19 01:58:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.747, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.979, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.083, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.247, 'infer_time': 0.16, 'content': '可能和工作态度、个人情况有关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.309, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些同事对待加班的态度截然不同'}}
[2025-11-19 01:58:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.501, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:34] 收到 tts_done, timestamp=5.501s
[2025-11-19 01:58:34] 在 5.50s 插入 TTS（3.21s）
[2025-11-19 01:58:52] 音频发送完毕，用时 23.70s
[2025-11-19 01:58:52] WebSocket 已关闭，结束接收循环
[2025-11-19 01:58:52] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0030_output.wav，时长 23.21s
[2025-11-19 01:58:52] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0030_output.wav
[2025-11-19 01:58:52] 处理完成: clean_0006_0030.wav
[2025-11-19 01:58:52] -----------------------------------
[2025-11-19 01:58:52] 开始处理文件: clean_0006_0038.wav
[2025-11-19 01:58:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:58:52] 初始化输出 buffer，总时长 24.08s（385280 samples）
[2025-11-19 01:58:52] 开始发送 clean_0006_0038.wav，总帧 1505，时长 24.08s
[2025-11-19 01:58:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.915, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.912, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.919, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.882, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.982, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.184, 'turn': 0, 'state': 'LISTEN', 'content': '什么有些树叶在秋天会变红而不是黄色'}}
[2025-11-19 01:58:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.203, 'infer_time': 0.217, 'content': '因为红叶含花青素，黄叶是类胡萝卜素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.534, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:58:58] 收到 tts_done, timestamp=6.534s
[2025-11-19 01:58:58] 在 6.53s 插入 TTS（4.32s）
[2025-11-19 01:59:16] 音频发送完毕，用时 24.59s
[2025-11-19 01:59:16] WebSocket 已关闭，结束接收循环
[2025-11-19 01:59:16] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0038_output.wav，时长 24.08s
[2025-11-19 01:59:16] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0006_0038_output.wav
[2025-11-19 01:59:16] 处理完成: clean_0006_0038.wav
[2025-11-19 01:59:16] -----------------------------------
[2025-11-19 01:59:16] 开始处理文件: clean_0007_0006.wav
[2025-11-19 01:59:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:59:16] 初始化输出 buffer，总时长 23.57s（377120 samples）
[2025-11-19 01:59:16] 开始发送 clean_0007_0006.wav，总帧 1474，时长 23.57s
[2025-11-19 01:59:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.067, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.716, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.816, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.973, 'infer_time': 0.153, 'content': '燕麦牛奶配水果是不错的选择', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.017, 'turn': 0, 'state': 'LISTEN', 'content': '有没有适合早餐的低卡路里减肥食谱推荐'}}
[2025-11-19 01:59:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.204, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:23] 收到 tts_done, timestamp=6.204s
[2025-11-19 01:59:23] 在 6.20s 插入 TTS（2.91s）
[2025-11-19 01:59:41] 音频发送完毕，用时 24.11s
[2025-11-19 01:59:41] WebSocket 已关闭，结束接收循环
[2025-11-19 01:59:41] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0007_0006_output.wav，时长 23.57s
[2025-11-19 01:59:41] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0007_0006_output.wav
[2025-11-19 01:59:41] 处理完成: clean_0007_0006.wav
[2025-11-19 01:59:41] -----------------------------------
[2025-11-19 01:59:41] 开始处理文件: clean_0007_0014.wav
[2025-11-19 01:59:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 01:59:41] 初始化输出 buffer，总时长 23.51s（376160 samples）
[2025-11-19 01:59:41] 开始发送 clean_0007_0014.wav，总帧 1470，时长 23.51s
[2025-11-19 01:59:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.7, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.797, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.947, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过哑铃训练快速塑造手臂线条'}}
[2025-11-19 01:59:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.027, 'infer_time': 0.225, 'content': '哑铃弯举练肱二头肌，推举练三角肌。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.343, 'infer_time': 0.312, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 01:59:46] 收到 tts_done, timestamp=5.343s
[2025-11-19 01:59:46] 在 5.34s 插入 TTS（3.90s）
[2025-11-19 02:00:05] 音频发送完毕，用时 24.04s
[2025-11-19 02:00:05] WebSocket 已关闭，结束接收循环
[2025-11-19 02:00:05] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0007_0014_output.wav，时长 23.51s
[2025-11-19 02:00:05] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0007_0014_output.wav
[2025-11-19 02:00:05] 处理完成: clean_0007_0014.wav
[2025-11-19 02:00:05] -----------------------------------
[2025-11-19 02:00:05] 开始处理文件: clean_0008_0006.wav
[2025-11-19 02:00:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:00:05] 初始化输出 buffer，总时长 28.60s（457600 samples）
[2025-11-19 02:00:05] 开始发送 clean_0008_0006.wav，总帧 1788，时长 28.60s
[2025-11-19 02:00:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.337, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.813, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.904, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 9.553, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.731, 'infer_time': 0.173, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.93, 'infer_time': 0.192, 'content': '责任主要由未完成任务的成员承担。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 10.052, 'turn': 0, 'state': 'LISTEN', 'content': '在团队项目中如果某个成员没有完成自己的任务导致项目延误责任应该如何划分'}}
[2025-11-19 02:00:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 10.212, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:15] 收到 tts_done, timestamp=10.212s
[2025-11-19 02:00:15] 在 10.21s 插入 TTS（3.34s）
[2025-11-19 02:00:34] 音频发送完毕，用时 29.35s
[2025-11-19 02:00:34] WebSocket 已关闭，结束接收循环
[2025-11-19 02:00:34] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0006_output.wav，时长 28.60s
[2025-11-19 02:00:34] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0006_output.wav
[2025-11-19 02:00:34] 处理完成: clean_0008_0006.wav
[2025-11-19 02:00:34] -----------------------------------
[2025-11-19 02:00:34] 开始处理文件: clean_0008_0007.wav
[2025-11-19 02:00:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:00:34] 初始化输出 buffer，总时长 24.94s（399040 samples）
[2025-11-19 02:00:34] 开始发送 clean_0008_0007.wav，总帧 1559，时长 24.94s
[2025-11-19 02:00:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.154, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.77, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.418, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.514, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.696, 'infer_time': 0.178, 'content': '谢谢夸奖，这件衬衫确实很衬我。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.747, 'turn': 0, 'state': 'LISTEN', 'content': '你今天穿的这件衬衫真的很适合你颜色很衬肤色'}}
[2025-11-19 02:00:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.995, 'infer_time': 0.294, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:00:40] 收到 tts_done, timestamp=5.995s
[2025-11-19 02:00:40] 在 6.00s 插入 TTS（3.65s）
[2025-11-19 02:01:00] 音频发送完毕，用时 25.49s
[2025-11-19 02:01:00] WebSocket 已关闭，结束接收循环
[2025-11-19 02:01:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0007_output.wav，时长 24.94s
[2025-11-19 02:01:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0007_output.wav
[2025-11-19 02:01:00] 处理完成: clean_0008_0007.wav
[2025-11-19 02:01:00] -----------------------------------
[2025-11-19 02:01:00] 开始处理文件: clean_0008_0011.wav
[2025-11-19 02:01:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:01:00] 初始化输出 buffer，总时长 23.53s（376480 samples）
[2025-11-19 02:01:00] 开始发送 clean_0008_0011.wav，总帧 1471，时长 23.53s
[2025-11-19 02:01:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.726, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.832, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.991, 'infer_time': 0.154, 'content': '快节奏生活削弱了情感投入。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.011, 'turn': 0, 'state': 'LISTEN', 'content': '为什么现代社会越来越难建立深度信任关系'}}
[2025-11-19 02:01:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.203, 'infer_time': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:05] 收到 tts_done, timestamp=5.203s
[2025-11-19 02:01:05] 在 5.20s 插入 TTS（2.37s）
[2025-11-19 02:01:24] 音频发送完毕，用时 24.04s
[2025-11-19 02:01:24] WebSocket 已关闭，结束接收循环
[2025-11-19 02:01:24] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0011_output.wav，时长 23.53s
[2025-11-19 02:01:24] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0011_output.wav
[2025-11-19 02:01:24] 处理完成: clean_0008_0011.wav
[2025-11-19 02:01:24] -----------------------------------
[2025-11-19 02:01:24] 开始处理文件: clean_0008_0032.wav
[2025-11-19 02:01:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:01:24] 初始化输出 buffer，总时长 25.06s（400960 samples）
[2025-11-19 02:01:24] 开始发送 clean_0008_0032.wav，总帧 1567，时长 25.06s
[2025-11-19 02:01:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.7, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.814, 'infer_time': 0.109, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.018, 'infer_time': 0.2, 'content': '推荐滚筒洗衣机，品牌选西门子或海尔。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.065, 'turn': 0, 'state': 'LISTEN', 'content': '最近想换一台高端洗衣机有什么推荐的功能或品牌吗'}}
[2025-11-19 02:01:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.343, 'infer_time': 0.32, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:30] 收到 tts_done, timestamp=6.343s
[2025-11-19 02:01:30] 在 6.34s 插入 TTS（4.09s）
[2025-11-19 02:01:49] 音频发送完毕，用时 25.60s
[2025-11-19 02:01:49] WebSocket 已关闭，结束接收循环
[2025-11-19 02:01:49] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0032_output.wav，时长 25.06s
[2025-11-19 02:01:49] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0008_0032_output.wav
[2025-11-19 02:01:49] 处理完成: clean_0008_0032.wav
[2025-11-19 02:01:49] -----------------------------------
[2025-11-19 02:01:49] 开始处理文件: clean_0009_0002.wav
[2025-11-19 02:01:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:01:49] 初始化输出 buffer，总时长 25.29s（404640 samples）
[2025-11-19 02:01:49] 开始发送 clean_0009_0002.wav，总帧 1581，时长 25.29s
[2025-11-19 02:01:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.186, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.904, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.94, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.591, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.69, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.87, 'turn': 0, 'state': 'LISTEN', 'content': '朋友借了我五千块一直不还该怎么委婉提醒他'}}
[2025-11-19 02:01:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.987, 'infer_time': 0.292, 'content': '可以这样说：“最近手头有点紧，你之前借的5000块方便还一下吗？”', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.473, 'infer_time': 0.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:01:56] 收到 tts_done, timestamp=6.473s
[2025-11-19 02:01:56] 在 6.47s 插入 TTS（6.65s）
[2025-11-19 02:02:15] 音频发送完毕，用时 25.83s
[2025-11-19 02:02:15] WebSocket 已关闭，结束接收循环
[2025-11-19 02:02:15] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0002_output.wav，时长 25.29s
[2025-11-19 02:02:15] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0002_output.wav
[2025-11-19 02:02:15] 处理完成: clean_0009_0002.wav
[2025-11-19 02:02:15] -----------------------------------
[2025-11-19 02:02:15] 开始处理文件: clean_0009_0013.wav
[2025-11-19 02:02:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:02:15] 初始化输出 buffer，总时长 24.88s（398080 samples）
[2025-11-19 02:02:15] 开始发送 clean_0009_0013.wav，总帧 1555，时长 24.88s
[2025-11-19 02:02:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.043, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.795, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.026, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几本适合三岁孩子理解的情绪管理绘本吗'}}
[2025-11-19 02:02:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.036, 'infer_time': 0.237, 'content': '《我的情绪小怪兽》《菲菲生气了》《大卫不可以》', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.395, 'infer_time': 0.352, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:21] 收到 tts_done, timestamp=6.395s
[2025-11-19 02:02:21] 在 6.39s 插入 TTS（4.67s）
[2025-11-19 02:02:40] 音频发送完毕，用时 25.44s
[2025-11-19 02:02:40] WebSocket 已关闭，结束接收循环
[2025-11-19 02:02:40] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0013_output.wav，时长 24.88s
[2025-11-19 02:02:40] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0013_output.wav
[2025-11-19 02:02:40] 处理完成: clean_0009_0013.wav
[2025-11-19 02:02:40] -----------------------------------
[2025-11-19 02:02:40] 开始处理文件: clean_0009_0014.wav
[2025-11-19 02:02:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:02:41] 初始化输出 buffer，总时长 22.58s（361280 samples）
[2025-11-19 02:02:41] 开始发送 clean_0009_0014.wav，总帧 1412，时长 22.58s
[2025-11-19 02:02:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.295, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.946, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.047, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.191, 'infer_time': 0.139, 'content': '分流选择确实会影响职业发展。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.264, 'turn': 0, 'state': 'LISTEN', 'content': '高中阶段的分流选择会影响未来职业发展吗'}}
[2025-11-19 02:02:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.428, 'infer_time': 0.232, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:02:46] 收到 tts_done, timestamp=5.428s
[2025-11-19 02:02:46] 在 5.43s 插入 TTS（2.85s）
[2025-11-19 02:03:04] 音频发送完毕，用时 23.08s
[2025-11-19 02:03:04] WebSocket 已关闭，结束接收循环
[2025-11-19 02:03:04] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0014_output.wav，时长 22.58s
[2025-11-19 02:03:04] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0014_output.wav
[2025-11-19 02:03:04] 处理完成: clean_0009_0014.wav
[2025-11-19 02:03:04] -----------------------------------
[2025-11-19 02:03:04] 开始处理文件: clean_0009_0016.wav
[2025-11-19 02:03:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:03:04] 初始化输出 buffer，总时长 25.87s（413920 samples）
[2025-11-19 02:03:04] 开始发送 clean_0009_0016.wav，总帧 1617，时长 25.87s
[2025-11-19 02:03:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.456, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.442, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 8.095, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.2, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.431, 'turn': 0, 'state': 'LISTEN', 'content': 'b m i 指数怎么计算我的身高是一点七五米体重六十八公斤'}}
[2025-11-19 02:03:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.433, 'infer_time': 0.228, 'content': 'BMI=体重÷身高的平方，你的结果是22.6。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.781, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:12] 收到 tts_done, timestamp=8.781s
[2025-11-19 02:03:12] 在 8.78s 插入 TTS（4.53s）
[2025-11-19 02:03:30] 音频发送完毕，用时 26.53s
[2025-11-19 02:03:30] WebSocket 已关闭，结束接收循环
[2025-11-19 02:03:30] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0016_output.wav，时长 25.87s
[2025-11-19 02:03:30] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0009_0016_output.wav
[2025-11-19 02:03:30] 处理完成: clean_0009_0016.wav
[2025-11-19 02:03:30] -----------------------------------
[2025-11-19 02:03:30] 开始处理文件: clean_0010_0011.wav
[2025-11-19 02:03:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:03:30] 初始化输出 buffer，总时长 23.83s（381280 samples）
[2025-11-19 02:03:30] 开始发送 clean_0010_0011.wav，总帧 1490，时长 23.83s
[2025-11-19 02:03:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.862, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.51, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.608, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.8, 'turn': 0, 'state': 'LISTEN', 'content': '清明节祭祖时应该准备哪些传统贡品'}}
[2025-11-19 02:03:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.817, 'infer_time': 0.205, 'content': '通常准备青团、水果、糕点和纸钱等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.15, 'infer_time': 0.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:35] 收到 tts_done, timestamp=5.15s
[2025-11-19 02:03:35] 在 5.15s 插入 TTS（4.31s）
[2025-11-19 02:03:54] 音频发送完毕，用时 24.28s
[2025-11-19 02:03:54] WebSocket 已关闭，结束接收循环
[2025-11-19 02:03:54] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0011_output.wav，时长 23.83s
[2025-11-19 02:03:54] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0011_output.wav
[2025-11-19 02:03:54] 处理完成: clean_0010_0011.wav
[2025-11-19 02:03:54] -----------------------------------
[2025-11-19 02:03:54] 开始处理文件: clean_0010_0013.wav
[2025-11-19 02:03:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:03:54] 初始化输出 buffer，总时长 25.81s（412960 samples）
[2025-11-19 02:03:54] 开始发送 clean_0010_0013.wav，总帧 1614，时长 25.81s
[2025-11-19 02:03:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.73, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:03:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.075, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.945, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.045, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.234, 'turn': 0, 'state': 'LISTEN', 'content': '枸杞泡水喝真的能明目吗每天喝多少比较合适'}}
[2025-11-19 02:04:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.299, 'infer_time': 0.248, 'content': '枸杞泡水确实有助于明目，每天建议10到20克左右。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.673, 'infer_time': 0.369, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:01] 收到 tts_done, timestamp=6.673s
[2025-11-19 02:04:01] 在 6.67s 插入 TTS（4.96s）
[2025-11-19 02:04:21] 音频发送完毕，用时 26.35s
[2025-11-19 02:04:21] WebSocket 已关闭，结束接收循环
[2025-11-19 02:04:21] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0013_output.wav，时长 25.81s
[2025-11-19 02:04:21] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0013_output.wav
[2025-11-19 02:04:21] 处理完成: clean_0010_0013.wav
[2025-11-19 02:04:21] -----------------------------------
[2025-11-19 02:04:21] 开始处理文件: clean_0010_0016.wav
[2025-11-19 02:04:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:04:21] 初始化输出 buffer，总时长 22.14s（354240 samples）
[2025-11-19 02:04:21] 开始发送 clean_0010_0016.wav，总帧 1384，时长 22.14s
[2025-11-19 02:04:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.118, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.766, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.873, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.069, 'turn': 0, 'state': 'LISTEN', 'content': '为什么我总觉得自己做什么都不够好'}}
[2025-11-19 02:04:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.108, 'infer_time': 0.23, 'content': '这种感觉很常见，你并不孤单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.372, 'infer_time': 0.258, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:25] 收到 tts_done, timestamp=4.372s
[2025-11-19 02:04:25] 在 4.37s 插入 TTS（2.97s）
[2025-11-19 02:04:43] 音频发送完毕，用时 22.58s
[2025-11-19 02:04:43] WebSocket 已关闭，结束接收循环
[2025-11-19 02:04:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0016_output.wav，时长 22.14s
[2025-11-19 02:04:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0016_output.wav
[2025-11-19 02:04:43] 处理完成: clean_0010_0016.wav
[2025-11-19 02:04:43] -----------------------------------
[2025-11-19 02:04:43] 开始处理文件: clean_0010_0020.wav
[2025-11-19 02:04:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:04:43] 初始化输出 buffer，总时长 25.70s（411200 samples）
[2025-11-19 02:04:43] 开始发送 clean_0010_0020.wav，总帧 1607，时长 25.70s
[2025-11-19 02:04:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.686, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.335, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.437, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.602, 'turn': 0, 'state': 'LISTEN', 'content': '当团队新成员加入时如何快速建立信任关系'}}
[2025-11-19 02:04:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.621, 'infer_time': 0.179, 'content': '多沟通分享，共同完成小任务建立默契。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.904, 'infer_time': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:04:49] 收到 tts_done, timestamp=5.904s
[2025-11-19 02:04:49] 在 5.90s 插入 TTS（3.44s）
[2025-11-19 02:05:10] 音频发送完毕，用时 26.25s
[2025-11-19 02:05:10] WebSocket 已关闭，结束接收循环
[2025-11-19 02:05:10] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0020_output.wav，时长 25.70s
[2025-11-19 02:05:10] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0010_0020_output.wav
[2025-11-19 02:05:10] 处理完成: clean_0010_0020.wav
[2025-11-19 02:05:10] -----------------------------------
[2025-11-19 02:05:10] 开始处理文件: clean_0011_0001.wav
[2025-11-19 02:05:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:05:10] 初始化输出 buffer，总时长 21.72s（347520 samples）
[2025-11-19 02:05:10] 开始发送 clean_0011_0001.wav，总帧 1358，时长 21.72s
[2025-11-19 02:05:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.736, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.383, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.491, 'infer_time': 0.105, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.646, 'infer_time': 0.15, 'content': '高蛋白低脂肪食物助燃脂', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.677, 'turn': 0, 'state': 'LISTEN', 'content': '晚上健身后吃什么能帮助减脂'}}
[2025-11-19 02:05:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.918, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:15] 收到 tts_done, timestamp=4.918s
[2025-11-19 02:05:15] 在 4.92s 插入 TTS（3.25s）
[2025-11-19 02:05:32] 音频发送完毕，用时 22.15s
[2025-11-19 02:05:32] WebSocket 已关闭，结束接收循环
[2025-11-19 02:05:32] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0001_output.wav，时长 21.72s
[2025-11-19 02:05:32] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0001_output.wav
[2025-11-19 02:05:32] 处理完成: clean_0011_0001.wav
[2025-11-19 02:05:32] -----------------------------------
[2025-11-19 02:05:32] 开始处理文件: clean_0011_0010.wav
[2025-11-19 02:05:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:05:32] 初始化输出 buffer，总时长 23.15s（370400 samples）
[2025-11-19 02:05:32] 开始发送 clean_0011_0010.wav，总帧 1447，时长 23.15s
[2025-11-19 02:05:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.556, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.305, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.464, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得盗梦空间的结局是现实还是梦境'}}
[2025-11-19 02:05:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.518, 'infer_time': 0.208, 'content': '电影结局是现实还是梦境，其实导演想表达的就是不确定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.085, 'infer_time': 0.562, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:38] 收到 tts_done, timestamp=6.085s
[2025-11-19 02:05:38] 在 6.08s 插入 TTS（7.37s）
[2025-11-19 02:05:55] 音频发送完毕，用时 23.66s
[2025-11-19 02:05:56] WebSocket 已关闭，结束接收循环
[2025-11-19 02:05:56] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0010_output.wav，时长 23.15s
[2025-11-19 02:05:56] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0010_output.wav
[2025-11-19 02:05:56] 处理完成: clean_0011_0010.wav
[2025-11-19 02:05:56] -----------------------------------
[2025-11-19 02:05:56] 开始处理文件: clean_0011_0037.wav
[2025-11-19 02:05:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:05:56] 初始化输出 buffer，总时长 21.67s（346720 samples）
[2025-11-19 02:05:56] 开始发送 clean_0011_0037.wav，总帧 1355，时长 21.67s
[2025-11-19 02:05:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:05:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.664, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.312, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.407, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.568, 'infer_time': 0.156, 'content': '规律作息有助于身体修复和免疫力提升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.603, 'turn': 0, 'state': 'LISTEN', 'content': '为什么早睡早起对健康更有好处'}}
[2025-11-19 02:06:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.868, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:00] 收到 tts_done, timestamp=4.868s
[2025-11-19 02:06:00] 在 4.87s 插入 TTS（3.79s）
[2025-11-19 02:06:18] 音频发送完毕，用时 22.09s
[2025-11-19 02:06:18] WebSocket 已关闭，结束接收循环
[2025-11-19 02:06:18] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0037_output.wav，时长 21.67s
[2025-11-19 02:06:18] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0011_0037_output.wav
[2025-11-19 02:06:18] 处理完成: clean_0011_0037.wav
[2025-11-19 02:06:18] -----------------------------------
[2025-11-19 02:06:18] 开始处理文件: clean_0012_0013.wav
[2025-11-19 02:06:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:06:18] 初始化输出 buffer，总时长 25.67s（410720 samples）
[2025-11-19 02:06:18] 开始发送 clean_0012_0013.wav，总帧 1605，时长 25.67s
[2025-11-19 02:06:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.084, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.732, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.83, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.002, 'turn': 0, 'state': 'LISTEN', 'content': '为什么我总是过度依赖伴侣来获得安全感'}}
[2025-11-19 02:06:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.036, 'infer_time': 0.201, 'content': '这可能源于内心缺乏安全感，建议多关注自我成长。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.37, 'infer_time': 0.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:24] 收到 tts_done, timestamp=6.37s
[2025-11-19 02:06:24] 在 6.37s 插入 TTS（4.17s）
[2025-11-19 02:06:44] 音频发送完毕，用时 26.21s
[2025-11-19 02:06:44] WebSocket 已关闭，结束接收循环
[2025-11-19 02:06:44] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0012_0013_output.wav，时长 25.67s
[2025-11-19 02:06:44] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0012_0013_output.wav
[2025-11-19 02:06:44] 处理完成: clean_0012_0013.wav
[2025-11-19 02:06:44] -----------------------------------
[2025-11-19 02:06:44] 开始处理文件: clean_0012_0025.wav
[2025-11-19 02:06:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:06:44] 初始化输出 buffer，总时长 24.99s（399840 samples）
[2025-11-19 02:06:44] 开始发送 clean_0012_0025.wav，总帧 1562，时长 24.99s
[2025-11-19 02:06:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.049, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.697, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.799, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.995, 'infer_time': 0.191, 'content': '部分工作会被取代，但人类角色仍不可替代。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.038, 'turn': 0, 'state': 'LISTEN', 'content': '觉得人工智能会最终取代人类的工作吗'}}
[2025-11-19 02:06:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.318, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:06:50] 收到 tts_done, timestamp=6.318s
[2025-11-19 02:06:50] 在 6.32s 插入 TTS（4.05s）
[2025-11-19 02:07:09] 音频发送完毕，用时 25.51s
[2025-11-19 02:07:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:07:09] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0012_0025_output.wav，时长 24.99s
[2025-11-19 02:07:09] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0012_0025_output.wav
[2025-11-19 02:07:09] 处理完成: clean_0012_0025.wav
[2025-11-19 02:07:09] -----------------------------------
[2025-11-19 02:07:09] 开始处理文件: clean_0013_0015.wav
[2025-11-19 02:07:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:07:09] 初始化输出 buffer，总时长 23.67s（378720 samples）
[2025-11-19 02:07:09] 开始发送 clean_0013_0015.wav，总帧 1480，时长 23.67s
[2025-11-19 02:07:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.576, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.335, 'infer_time': 0.108, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.565, 'turn': 0, 'state': 'LISTEN', 'content': '如何在工作中有效利用番茄工作法提高效率'}}
[2025-11-19 02:07:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.6, 'infer_time': 0.261, 'content': '番茄工作法能提升专注力，建议你试试。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.912, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:15] 收到 tts_done, timestamp=5.912s
[2025-11-19 02:07:15] 在 5.91s 插入 TTS（3.70s）
[2025-11-19 02:07:34] 音频发送完毕，用时 24.15s
[2025-11-19 02:07:34] WebSocket 已关闭，结束接收循环
[2025-11-19 02:07:34] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0013_0015_output.wav，时长 23.67s
[2025-11-19 02:07:34] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0013_0015_output.wav
[2025-11-19 02:07:34] 处理完成: clean_0013_0015.wav
[2025-11-19 02:07:34] -----------------------------------
[2025-11-19 02:07:34] 开始处理文件: clean_0013_0035.wav
[2025-11-19 02:07:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:07:34] 初始化输出 buffer，总时长 27.49s（439840 samples）
[2025-11-19 02:07:34] 开始发送 clean_0013_0035.wav，总帧 1719，时长 27.49s
[2025-11-19 02:07:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.052, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.997, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.392, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.04, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.152, 'infer_time': 0.108, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.373, 'turn': 0, 'state': 'LISTEN', 'content': '为什么今年这么难阶段反应会持续很久'}}
[2025-11-19 02:07:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.399, 'infer_time': 0.243, 'content': '戒烟难是因为尼古丁成瘾，戒断反应会持续几周。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.885, 'infer_time': 0.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:07:39] 收到 tts_done, timestamp=5.885s
[2025-11-19 02:07:39] 在 5.88s 插入 TTS（6.38s）
[2025-11-19 02:08:02] 音频发送完毕，用时 28.01s
[2025-11-19 02:08:02] WebSocket 已关闭，结束接收循环
[2025-11-19 02:08:02] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0013_0035_output.wav，时长 27.49s
[2025-11-19 02:08:02] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0013_0035_output.wav
[2025-11-19 02:08:02] 处理完成: clean_0013_0035.wav
[2025-11-19 02:08:02] -----------------------------------
[2025-11-19 02:08:02] 开始处理文件: clean_0014_0006.wav
[2025-11-19 02:08:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:08:02] 初始化输出 buffer，总时长 22.34s（357440 samples）
[2025-11-19 02:08:02] 开始发送 clean_0014_0006.wav，总帧 1397，时长 22.34s
[2025-11-19 02:08:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.024, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.543, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.303, 'infer_time': 0.107, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.504, 'infer_time': 0.197, 'content': '家用太阳能投资回报周期通常为6到10年。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.533, 'turn': 0, 'state': 'LISTEN', 'content': '家用太阳能电池板的投资回报周期一般是多久'}}
[2025-11-19 02:08:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.868, 'infer_time': 0.359, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:07] 收到 tts_done, timestamp=5.868s
[2025-11-19 02:08:07] 在 5.87s 插入 TTS（4.62s）
[2025-11-19 02:08:24] 音频发送完毕，用时 22.82s
[2025-11-19 02:08:24] WebSocket 已关闭，结束接收循环
[2025-11-19 02:08:24] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0006_output.wav，时长 22.34s
[2025-11-19 02:08:24] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0006_output.wav
[2025-11-19 02:08:24] 处理完成: clean_0014_0006.wav
[2025-11-19 02:08:24] -----------------------------------
[2025-11-19 02:08:24] 开始处理文件: clean_0014_0038.wav
[2025-11-19 02:08:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:08:24] 初始化输出 buffer，总时长 22.66s（362560 samples）
[2025-11-19 02:08:24] 开始发送 clean_0014_0038.wav，总帧 1417，时长 22.66s
[2025-11-19 02:08:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.381, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.714, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.473, 'infer_time': 0.107, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.627, 'turn': 0, 'state': 'LISTEN', 'content': '如何运用三分法构图让风景照片更有层次感'}}
[2025-11-19 02:08:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.898, 'infer_time': 2.42, 'content': '三分法构图是摄影中常用的一种技巧，它通过将画面平均分成九个相等的部分（三行三列），形成四个交叉点。在拍摄风景照片时，可以利用这些交叉点来安排画面中的重要元素，从而增强照片的层次感和视觉吸引力。\n\n具体来说：\n\n1. **地平线位置**：如果拍摄的是包含天空和地面的风景照，可以将地平线放在上三分之一或下三分之一的位置。例如，在拍摄日出或日落时，通常会把地平线放在下方三分之一处，这样可以让天空占据更大的比例；而在拍摄水面倒影或者沙漠景观时，则可能选择上方三分之一处放置地平线。\n\n2. **主体放置**：除了调整背景外，还可以考虑将主要对象如树木、山峰或其他显著特征置于任一交点之上。这样做不仅能够吸引观众的目光到特定区域上，而且还能创造出更加平衡和谐的画面效果。\n\n3. **引导视线**：使用道路、河流等自然线条作为引导线，并让它们延伸至某个焦点附近或是恰好穿过一个关键节点。这种方法有助于构建深度感并促使观看者的眼睛沿着预设路径移动探索整个场景。\n\n4. **留白处理**：', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.132, 'infer_time': 6.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:39] 收到 tts_done, timestamp=14.132s
[2025-11-19 02:08:39] 在 14.13s 插入 TTS（8.53s）
[2025-11-19 02:08:48] 音频发送完毕，用时 23.17s
[2025-11-19 02:08:48] WebSocket 已关闭，结束接收循环
[2025-11-19 02:08:48] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0038_output.wav，时长 22.66s
[2025-11-19 02:08:48] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0038_output.wav
[2025-11-19 02:08:48] 处理完成: clean_0014_0038.wav
[2025-11-19 02:08:48] -----------------------------------
[2025-11-19 02:08:48] 开始处理文件: clean_0014_0039.wav
[2025-11-19 02:08:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:08:48] 初始化输出 buffer，总时长 23.87s（381920 samples）
[2025-11-19 02:08:48] 开始发送 clean_0014_0039.wav，总帧 1492，时长 23.87s
[2025-11-19 02:08:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.0, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.648, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.752, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.91, 'infer_time': 0.154, 'content': '检查数据一致性与实验可重复性', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.99, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一篇论文是否存在数据伪造的学术不端行为'}}
[2025-11-19 02:08:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.172, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:08:54] 收到 tts_done, timestamp=6.172s
[2025-11-19 02:08:54] 在 6.17s 插入 TTS（3.23s）
[2025-11-19 02:09:12] 音频发送完毕，用时 24.38s
[2025-11-19 02:09:12] WebSocket 已关闭，结束接收循环
[2025-11-19 02:09:12] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0039_output.wav，时长 23.87s
[2025-11-19 02:09:12] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0014_0039_output.wav
[2025-11-19 02:09:12] 处理完成: clean_0014_0039.wav
[2025-11-19 02:09:12] -----------------------------------
[2025-11-19 02:09:12] 开始处理文件: clean_0015_0020.wav
[2025-11-19 02:09:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:09:12] 初始化输出 buffer，总时长 26.17s（418720 samples）
[2025-11-19 02:09:12] 开始发送 clean_0015_0020.wav，总帧 1636，时长 26.17s
[2025-11-19 02:09:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.431, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.653, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.3, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.403, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.57, 'infer_time': 0.163, 'content': '建议配置高比例债券和货币基金。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.654, 'turn': 0, 'state': 'LISTEN', 'content': '我的风险承受能力测评结果是保守型该如何调整投资组合'}}
[2025-11-19 02:09:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.827, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:19] 收到 tts_done, timestamp=6.827s
[2025-11-19 02:09:19] 在 6.83s 插入 TTS（3.18s）
[2025-11-19 02:09:39] 音频发送完毕，用时 26.72s
[2025-11-19 02:09:39] WebSocket 已关闭，结束接收循环
[2025-11-19 02:09:39] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_after/clean_0015_0020_output.wav，时长 26.17s
[2025-11-19 02:09:39] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_after/clean_0015_0020_output.wav
[2025-11-19 02:09:39] 处理完成: clean_0015_0020.wav
[2025-11-19 02:09:39] -----------------------------------
[2025-11-19 02:09:39] 
进入目录: Third-party Speech_before
[2025-11-19 02:09:39] 开始处理文件: 0001_0017_before.wav
[2025-11-19 02:09:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:09:39] 初始化输出 buffer，总时长 20.84s（333424 samples）
[2025-11-19 02:09:39] 开始发送 0001_0017_before.wav，总帧 1303，时长 20.84s
[2025-11-19 02:09:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.455, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.103, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.197, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.349, 'infer_time': 0.149, 'content': '建议现在更新，确保导航准确。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.353, 'turn': 0, 'state': 'LISTEN', 'content': '导航系统提示需要更新地图数据现在处理吗'}}
[2025-11-19 02:09:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.621, 'infer_time': 0.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:09:43] 收到 tts_done, timestamp=4.621s
[2025-11-19 02:09:43] 在 4.62s 插入 TTS（3.37s）
[2025-11-19 02:09:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.578}}
[2025-11-19 02:09:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.085, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.899, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.99, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.078, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '导航系统提示需要更新地图数据现在处理吗'}]}, {'role': 'assistant', 'content': '建议现在更新，确保导航准确。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.192, 'infer_time': 0.114, 'content': '建议现在更新，确保导航准确。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '导航系统提示需要更新地图数据现在处理吗'}]}, {'role': 'assistant', 'content': '建议现在更新，确保导航准确。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.453, 'infer_time': 0.255, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:09:51] 收到 tts_done, timestamp=12.453s
[2025-11-19 02:09:51] 在 12.45s 插入 TTS（3.30s）
[2025-11-19 02:10:00] 音频发送完毕，用时 21.36s
[2025-11-19 02:10:00] WebSocket 已关闭，结束接收循环
[2025-11-19 02:10:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0001_0017_before_output.wav，时长 20.84s
[2025-11-19 02:10:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0001_0017_before_output.wav
[2025-11-19 02:10:00] 处理完成: 0001_0017_before.wav
[2025-11-19 02:10:00] -----------------------------------
[2025-11-19 02:10:00] 开始处理文件: 0001_0035_before.wav
[2025-11-19 02:10:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:10:00] 初始化输出 buffer，总时长 24.36s（389744 samples）
[2025-11-19 02:10:00] 开始发送 0001_0035_before.wav，总帧 1523，时长 24.36s
[2025-11-19 02:10:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.955, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.603, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.697, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.914, 'turn': 0, 'state': 'LISTEN', 'content': '你上次汇报的季度目标完成度需要重新核对数据'}}
[2025-11-19 02:10:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.988, 'infer_time': 0.287, 'content': '好的，我马上重新核对数据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.197, 'infer_time': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:05] 收到 tts_done, timestamp=5.197s
[2025-11-19 02:10:05] 在 5.20s 插入 TTS（2.55s）
[2025-11-19 02:10:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.207}}
[2025-11-19 02:10:11] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.712, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.78, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.911, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.558, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.66, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.754, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次汇报的季度目标完成度需要重新核对数据'}]}, {'role': 'assistant', 'content': '好的，我马上重新核对数据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.876, 'infer_time': 0.122, 'content': '好的，我马上重新核对数据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次汇报的季度目标完成度需要重新核对数据'}]}, {'role': 'assistant', 'content': '好的，我马上重新核对数据。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.085, 'infer_time': 0.205, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:16] 收到 tts_done, timestamp=16.085s
[2025-11-19 02:10:16] 在 16.09s 插入 TTS（2.56s）
[2025-11-19 02:10:25] 音频发送完毕，用时 25.06s
[2025-11-19 02:10:25] WebSocket 已关闭，结束接收循环
[2025-11-19 02:10:25] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0001_0035_before_output.wav，时长 24.36s
[2025-11-19 02:10:25] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0001_0035_before_output.wav
[2025-11-19 02:10:25] 处理完成: 0001_0035_before.wav
[2025-11-19 02:10:25] -----------------------------------
[2025-11-19 02:10:25] 开始处理文件: 0002_0007_before.wav
[2025-11-19 02:10:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:10:25] 初始化输出 buffer，总时长 22.13s（354048 samples）
[2025-11-19 02:10:25] 开始发送 0002_0007_before.wav，总帧 1383，时长 22.13s
[2025-11-19 02:10:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.88, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.979, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.141, 'turn': 0, 'state': 'LISTEN', 'content': '你上次主导的项目获得客户表扬了感觉怎么样'}}
[2025-11-19 02:10:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.17, 'infer_time': 0.187, 'content': '那感觉特别棒，客户满意就是对我们最大的肯定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.469, 'infer_time': 0.293, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:31] 收到 tts_done, timestamp=5.469s
[2025-11-19 02:10:31] 在 5.47s 插入 TTS（3.67s）
[2025-11-19 02:10:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.689}}
[2025-11-19 02:10:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.197, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.598, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.247, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.346, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.436, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次主导的项目获得客户表扬了感觉怎么样'}]}, {'role': 'assistant', 'content': '那感觉特别棒，客户满意就是对我们最大的肯定。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.585, 'infer_time': 0.149, 'content': '那感觉特别棒，客户满意就是对我们最大的肯定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次主导的项目获得客户表扬了感觉怎么样'}]}, {'role': 'assistant', 'content': '那感觉特别棒，客户满意就是对我们最大的肯定。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.924, 'infer_time': 0.334, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:10:39] 收到 tts_done, timestamp=13.924s
[2025-11-19 02:10:39] 在 13.92s 插入 TTS（4.38s）
[2025-11-19 02:10:48] 音频发送完毕，用时 22.71s
[2025-11-19 02:10:48] WebSocket 已关闭，结束接收循环
[2025-11-19 02:10:48] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0002_0007_before_output.wav，时长 22.13s
[2025-11-19 02:10:48] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0002_0007_before_output.wav
[2025-11-19 02:10:48] 处理完成: 0002_0007_before.wav
[2025-11-19 02:10:48] -----------------------------------
[2025-11-19 02:10:48] 开始处理文件: 0002_0017_before.wav
[2025-11-19 02:10:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:10:48] 初始化输出 buffer，总时长 25.06s（400944 samples）
[2025-11-19 02:10:48] 开始发送 0002_0017_before.wav，总帧 1567，时长 25.06s
[2025-11-19 02:10:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.77, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.902, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.008, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.149, 'infer_time': 0.136, 'content': '好的，发给我吧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.243, 'turn': 0, 'state': 'LISTEN', 'content': '你要的无糖燕麦饼干配方我整理好了现在发给你吗'}}
[2025-11-19 02:10:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.364, 'infer_time': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:10:54] 收到 tts_done, timestamp=6.364s
[2025-11-19 02:10:54] 在 6.36s 插入 TTS（1.86s）
[2025-11-19 02:10:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.438}}
[2025-11-19 02:11:00] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.942, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.682, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.331, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.431, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.524, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你要的无糖燕麦饼干配方我整理好了现在发给你吗'}]}, {'role': 'assistant', 'content': '好的，发给我吧。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.719, 'infer_time': 0.19, 'content': '试试深呼吸或短暂散步，能快速缓解烦躁。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你要的无糖燕麦饼干配方我整理好了现在发给你吗'}]}, {'role': 'assistant', 'content': '好的，发给我吧。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.733, 'turn': 1, 'state': 'LISTEN', 'content': '最近工作压力大时容易烦躁有什么快速平复情绪的方法吗'}}
[2025-11-19 02:11:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.093, 'infer_time': 0.368, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:05] 收到 tts_done, timestamp=17.093s
[2025-11-19 02:11:05] 在 17.09s 插入 TTS（4.85s）
[2025-11-19 02:11:14] 音频发送完毕，用时 25.83s
[2025-11-19 02:11:14] WebSocket 已关闭，结束接收循环
[2025-11-19 02:11:14] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0002_0017_before_output.wav，时长 25.06s
[2025-11-19 02:11:14] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0002_0017_before_output.wav
[2025-11-19 02:11:14] 处理完成: 0002_0017_before.wav
[2025-11-19 02:11:14] -----------------------------------
[2025-11-19 02:11:14] 开始处理文件: 0002_0032_before.wav
[2025-11-19 02:11:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:11:14] 初始化输出 buffer，总时长 22.47s（359504 samples）
[2025-11-19 02:11:14] 开始发送 0002_0032_before.wav，总帧 1405，时长 22.47s
[2025-11-19 02:11:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.68, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.045, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.694, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.796, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.968, 'infer_time': 0.167, 'content': '25分钟专注，5分钟休息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.996, 'turn': 0, 'state': 'LISTEN', 'content': '你上次推荐的番茄工作法具体时间分配是怎么样的'}}
[2025-11-19 02:11:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.198, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:20] 收到 tts_done, timestamp=6.198s
[2025-11-19 02:11:20] 在 6.20s 插入 TTS（2.71s）
[2025-11-19 02:11:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.372}}
[2025-11-19 02:11:26] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.882, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.912, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.559, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.651, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.739, 'infer_time': 0.084, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的番茄工作法具体时间分配是怎么样的'}]}, {'role': 'assistant', 'content': '25分钟专注，5分钟休息。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.864, 'infer_time': 0.124, 'content': '25分钟专注，5分钟休息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的番茄工作法具体时间分配是怎么样的'}]}, {'role': 'assistant', 'content': '25分钟专注，5分钟休息。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.096, 'infer_time': 0.226, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:28] 收到 tts_done, timestamp=14.096s
[2025-11-19 02:11:28] 在 14.10s 插入 TTS（2.85s）
[2025-11-19 02:11:37] 音频发送完毕，用时 23.10s
[2025-11-19 02:11:37] WebSocket 已关闭，结束接收循环
[2025-11-19 02:11:37] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0002_0032_before_output.wav，时长 22.47s
[2025-11-19 02:11:37] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0002_0032_before_output.wav
[2025-11-19 02:11:37] 处理完成: 0002_0032_before.wav
[2025-11-19 02:11:37] -----------------------------------
[2025-11-19 02:11:37] 开始处理文件: 0003_0018_before.wav
[2025-11-19 02:11:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:11:37] 初始化输出 buffer，总时长 25.06s（400944 samples）
[2025-11-19 02:11:37] 开始发送 0003_0018_before.wav，总帧 1567，时长 25.06s
[2025-11-19 02:11:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.501, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.151, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.26, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.449, 'infer_time': 0.185, 'content': '花絮素材已保存，导演会审阅。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.459, 'turn': 0, 'state': 'LISTEN', 'content': '导演让我问你上次 nj 的那段即兴表演有没有保留花絮素材'}}
[2025-11-19 02:11:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.715, 'infer_time': 0.26, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:11:45] 收到 tts_done, timestamp=7.715s
[2025-11-19 02:11:45] 在 7.71s 插入 TTS（3.30s）
[2025-11-19 02:11:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.691}}
[2025-11-19 02:11:50] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.199, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.723, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.37, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.467, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.559, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '导演让我问你上次 nj 的那段即兴表演有没有保留花絮素材'}]}, {'role': 'assistant', 'content': '花絮素材已保存，导演会审阅。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.701, 'turn': 1, 'state': 'LISTEN', 'content': '如何快速掌握人物动态速写的技巧'}}
[2025-11-19 02:11:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.725, 'infer_time': 0.161, 'content': '多观察动态，抓关键动作线条。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '导演让我问你上次 nj 的那段即兴表演有没有保留花絮素材'}]}, {'role': 'assistant', 'content': '花絮素材已保存，导演会审阅。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.966, 'infer_time': 0.235, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:11:54] 收到 tts_done, timestamp=16.966s
[2025-11-19 02:11:54] 在 16.97s 插入 TTS（2.98s）
[2025-11-19 02:12:03] 音频发送完毕，用时 25.86s
[2025-11-19 02:12:03] WebSocket 已关闭，结束接收循环
[2025-11-19 02:12:03] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0003_0018_before_output.wav，时长 25.06s
[2025-11-19 02:12:03] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0003_0018_before_output.wav
[2025-11-19 02:12:03] 处理完成: 0003_0018_before.wav
[2025-11-19 02:12:03] -----------------------------------
[2025-11-19 02:12:03] 开始处理文件: 0003_0028_before.wav
[2025-11-19 02:12:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:12:03] 初始化输出 buffer，总时长 25.00s（399984 samples）
[2025-11-19 02:12:03] 开始发送 0003_0028_before.wav，总帧 1563，时长 25.00s
[2025-11-19 02:12:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.689, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.337, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.436, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.623, 'infer_time': 0.182, 'content': '记得，胃药饭前半小时吃效果最好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.873, 'turn': 0, 'state': 'LISTEN', 'content': '你上次买的胃药需要饭前半小时服用记得了吗'}}
[2025-11-19 02:12:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.896, 'infer_time': 0.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:09] 收到 tts_done, timestamp=5.896s
[2025-11-19 02:12:09] 在 5.90s 插入 TTS（3.39s）
[2025-11-19 02:12:13] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.948}}
[2025-11-19 02:12:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.456, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.664, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.312, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.413, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.528, 'infer_time': 0.109, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的胃药需要饭前半小时服用记得了吗'}]}, {'role': 'assistant', 'content': '记得，胃药饭前半小时吃效果最好。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.667, 'infer_time': 0.138, 'content': '记得，胃药饭前半小时吃效果最好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的胃药需要饭前半小时服用记得了吗'}]}, {'role': 'assistant', 'content': '记得，胃药饭前半小时吃效果最好。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.941, 'infer_time': 0.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:20] 收到 tts_done, timestamp=16.941s
[2025-11-19 02:12:20] 在 16.94s 插入 TTS（3.48s）
[2025-11-19 02:12:29] 音频发送完毕，用时 25.79s
[2025-11-19 02:12:29] WebSocket 已关闭，结束接收循环
[2025-11-19 02:12:29] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0003_0028_before_output.wav，时长 25.00s
[2025-11-19 02:12:29] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0003_0028_before_output.wav
[2025-11-19 02:12:29] 处理完成: 0003_0028_before.wav
[2025-11-19 02:12:29] -----------------------------------
[2025-11-19 02:12:29] 开始处理文件: 0003_0036_before.wav
[2025-11-19 02:12:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:12:29] 初始化输出 buffer，总时长 25.56s（408944 samples）
[2025-11-19 02:12:29] 开始发送 0003_0036_before.wav，总帧 1598，时长 25.56s
[2025-11-19 02:12:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.727, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.376, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.476, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.651, 'turn': 0, 'state': 'LISTEN', 'content': '你上周说的那个追车镜头需要多少特技演员'}}
[2025-11-19 02:12:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.68, 'infer_time': 0.199, 'content': '追车镜头通常需要3到5名特技演员。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.959, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:35] 收到 tts_done, timestamp=5.959s
[2025-11-19 02:12:35] 在 5.96s 插入 TTS（3.58s）
[2025-11-19 02:12:39] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.918}}
[2025-11-19 02:12:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.428, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.173, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.822, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.928, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.141, 'infer_time': 0.207, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上周说的那个追车镜头需要多少特技演员'}]}, {'role': 'assistant', 'content': '追车镜头通常需要3到5名特技演员。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.504, 'infer_time': 0.362, 'content': '追车镜头通常需要3到5名特技演员。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上周说的那个追车镜头需要多少特技演员'}]}, {'role': 'assistant', 'content': '追车镜头通常需要3到5名特技演员。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.799, 'infer_time': 0.289, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:12:46] 收到 tts_done, timestamp=17.799s
[2025-11-19 02:12:46] 在 17.80s 插入 TTS（3.14s）
[2025-11-19 02:12:55] 音频发送完毕，用时 26.38s
[2025-11-19 02:12:55] WebSocket 已关闭，结束接收循环
[2025-11-19 02:12:55] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0003_0036_before_output.wav，时长 25.56s
[2025-11-19 02:12:55] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0003_0036_before_output.wav
[2025-11-19 02:12:55] 处理完成: 0003_0036_before.wav
[2025-11-19 02:12:55] -----------------------------------
[2025-11-19 02:12:55] 开始处理文件: 0004_0005_before.wav
[2025-11-19 02:12:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:12:55] 初始化输出 buffer，总时长 23.50s（375968 samples）
[2025-11-19 02:12:55] 开始发送 0004_0005_before.wav，总帧 1469，时长 23.50s
[2025-11-19 02:12:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.467, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.115, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.21, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.389, 'infer_time': 0.175, 'content': '双子座流星雨观测点已选好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:12:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.415, 'turn': 0, 'state': 'LISTEN', 'content': '你上面说的双子座流星雨观测点学好了吗'}}
[2025-11-19 02:13:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.607, 'infer_time': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:00] 收到 tts_done, timestamp=4.607s
[2025-11-19 02:13:00] 在 4.61s 插入 TTS（2.67s）
[2025-11-19 02:13:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.736}}
[2025-11-19 02:13:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.248, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.843, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.994, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.643, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.746, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.842, 'infer_time': 0.091, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上面说的双子座流星雨观测点学好了吗'}]}, {'role': 'assistant', 'content': '双子座流星雨观测点已选好。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.982, 'infer_time': 0.14, 'content': '双子座流星雨观测点已选好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上面说的双子座流星雨观测点学好了吗'}]}, {'role': 'assistant', 'content': '双子座流星雨观测点已选好。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.228, 'infer_time': 0.241, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:10] 收到 tts_done, timestamp=15.228s
[2025-11-19 02:13:10] 在 15.23s 插入 TTS（3.17s）
[2025-11-19 02:13:19] 音频发送完毕，用时 24.22s
[2025-11-19 02:13:19] WebSocket 已关闭，结束接收循环
[2025-11-19 02:13:19] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0004_0005_before_output.wav，时长 23.50s
[2025-11-19 02:13:19] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0004_0005_before_output.wav
[2025-11-19 02:13:19] 处理完成: 0004_0005_before.wav
[2025-11-19 02:13:19] -----------------------------------
[2025-11-19 02:13:19] 开始处理文件: 0004_0030_before.wav
[2025-11-19 02:13:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:13:19] 初始化输出 buffer，总时长 23.02s（368304 samples）
[2025-11-19 02:13:19] 开始发送 0004_0030_before.wav，总帧 1439，时长 23.02s
[2025-11-19 02:13:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.605, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.351, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.507, 'turn': 0, 'state': 'LISTEN', 'content': '你家宝宝最近睡眠规律吗我家孩子总是半夜醒来哭闹'}}
[2025-11-19 02:13:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.599, 'infer_time': 0.243, 'content': '宝宝半夜哭闹可能因缺钙或环境不适，建议规律作息并观察。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.0, 'infer_time': 0.395, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:25] 收到 tts_done, timestamp=6.0s
[2025-11-19 02:13:25] 在 6.00s 插入 TTS（5.23s）
[2025-11-19 02:13:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.866}}
[2025-11-19 02:13:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.378, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.53, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.178, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.28, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.371, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你家宝宝最近睡眠规律吗我家孩子总是半夜醒来哭闹'}]}, {'role': 'assistant', 'content': '宝宝半夜哭闹可能因缺钙或环境不适，建议规律作息并观察。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.58, 'infer_time': 0.208, 'content': '宝宝半夜哭闹可能因缺钙或环境不适，建议规律作息并观察。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你家宝宝最近睡眠规律吗我家孩子总是半夜醒来哭闹'}]}, {'role': 'assistant', 'content': '宝宝半夜哭闹可能因缺钙或环境不适，建议规律作息并观察。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.993, 'infer_time': 0.407, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:34] 收到 tts_done, timestamp=14.993s
[2025-11-19 02:13:34] 在 14.99s 插入 TTS（5.60s）
[2025-11-19 02:13:43] 音频发送完毕，用时 23.69s
[2025-11-19 02:13:43] WebSocket 已关闭，结束接收循环
[2025-11-19 02:13:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0004_0030_before_output.wav，时长 23.02s
[2025-11-19 02:13:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0004_0030_before_output.wav
[2025-11-19 02:13:43] 处理完成: 0004_0030_before.wav
[2025-11-19 02:13:43] -----------------------------------
[2025-11-19 02:13:43] 开始处理文件: 0004_0034_before.wav
[2025-11-19 02:13:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:13:43] 初始化输出 buffer，总时长 25.02s（400288 samples）
[2025-11-19 02:13:43] 开始发送 0004_0034_before.wav，总帧 1564，时长 25.02s
[2025-11-19 02:13:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.551, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.296, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.45, 'infer_time': 0.149, 'content': '好的，现在可以去取了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.582, 'turn': 0, 'state': 'LISTEN', 'content': '你之前让我推荐的人类简史到货了要现在取吗'}}
[2025-11-19 02:13:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.643, 'infer_time': 0.188, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:13:49] 收到 tts_done, timestamp=5.643s
[2025-11-19 02:13:49] 在 5.64s 插入 TTS（2.22s）
[2025-11-19 02:13:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.815}}
[2025-11-19 02:13:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.326, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.478, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.119, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.209, 'infer_time': 0.086, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.614, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.263, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.364, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:13:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.477, 'infer_time': 0.107, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你之前让我推荐的人类简史到货了要现在取吗'}]}, {'role': 'assistant', 'content': '好的，现在可以去取了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.59, 'infer_time': 0.113, 'content': '好的，现在可以去取了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你之前让我推荐的人类简史到货了要现在取吗'}]}, {'role': 'assistant', 'content': '好的，现在可以去取了。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.773, 'infer_time': 0.178, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:00] 收到 tts_done, timestamp=16.773s
[2025-11-19 02:14:00] 在 16.77s 插入 TTS（2.13s）
[2025-11-19 02:14:09] 音频发送完毕，用时 25.81s
[2025-11-19 02:14:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:14:09] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0004_0034_before_output.wav，时长 25.02s
[2025-11-19 02:14:09] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0004_0034_before_output.wav
[2025-11-19 02:14:09] 处理完成: 0004_0034_before.wav
[2025-11-19 02:14:09] -----------------------------------
[2025-11-19 02:14:09] 开始处理文件: 0005_0010_before.wav
[2025-11-19 02:14:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:14:09] 初始化输出 buffer，总时长 24.28s（388464 samples）
[2025-11-19 02:14:09] 开始发送 0005_0010_before.wav，总帧 1518，时长 24.28s
[2025-11-19 02:14:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.288, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.936, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.031, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.205, 'infer_time': 0.169, 'content': '是啊，地铁通了确实方便多了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.279, 'turn': 0, 'state': 'LISTEN', 'content': '他说你家那边新通了地铁线现在回家方便多了吧'}}
[2025-11-19 02:14:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.441, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:14] 收到 tts_done, timestamp=5.441s
[2025-11-19 02:14:14] 在 5.44s 插入 TTS（2.91s）
[2025-11-19 02:14:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.509}}
[2025-11-19 02:14:20] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.019, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.591, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.845, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.494, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.595, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.691, 'infer_time': 0.091, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '他说你家那边新通了地铁线现在回家方便多了吧'}]}, {'role': 'assistant', 'content': '是啊，地铁通了确实方便多了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.822, 'infer_time': 0.13, 'content': '是啊，地铁通了确实方便多了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '他说你家那边新通了地铁线现在回家方便多了吧'}]}, {'role': 'assistant', 'content': '是啊，地铁通了确实方便多了。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.101, 'infer_time': 0.274, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:25] 收到 tts_done, timestamp=16.101s
[2025-11-19 02:14:25] 在 16.10s 插入 TTS（3.46s）
[2025-11-19 02:14:34] 音频发送完毕，用时 25.05s
[2025-11-19 02:14:34] WebSocket 已关闭，结束接收循环
[2025-11-19 02:14:34] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0005_0010_before_output.wav，时长 24.28s
[2025-11-19 02:14:34] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0005_0010_before_output.wav
[2025-11-19 02:14:34] 处理完成: 0005_0010_before.wav
[2025-11-19 02:14:34] -----------------------------------
[2025-11-19 02:14:34] 开始处理文件: 0005_0011_before.wav
[2025-11-19 02:14:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:14:34] 初始化输出 buffer，总时长 23.19s（371024 samples）
[2025-11-19 02:14:34] 开始发送 0005_0011_before.wav，总帧 1450，时长 23.19s
[2025-11-19 02:14:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.905, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.553, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.651, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.849, 'turn': 0, 'state': 'LISTEN', 'content': '你上次的测的餐后血糖值是多少需要调整用药吗'}}
[2025-11-19 02:14:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.887, 'infer_time': 0.231, 'content': '上次餐后血糖值是8.5mmol/L，需要调整用药。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.286, 'infer_time': 0.393, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:14:39] 收到 tts_done, timestamp=5.286s
[2025-11-19 02:14:39] 在 5.29s 插入 TTS（5.27s）
[2025-11-19 02:14:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.065}}
[2025-11-19 02:14:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.575, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.655, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.304, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.403, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.497, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次的测的餐后血糖值是多少需要调整用药吗'}]}, {'role': 'assistant', 'content': '上次餐后血糖值是8.5mmol/L，需要调整用药。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.698, 'infer_time': 0.2, 'content': '上次餐后血糖值是8.5mmol/L，需要调整用药。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次的测的餐后血糖值是多少需要调整用药吗'}]}, {'role': 'assistant', 'content': '上次餐后血糖值是8.5mmol/L，需要调整用药。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.087, 'infer_time': 0.384, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:14:49] 收到 tts_done, timestamp=15.087s
[2025-11-19 02:14:49] 在 15.09s 插入 TTS（5.32s）
[2025-11-19 02:14:58] 音频发送完毕，用时 23.88s
[2025-11-19 02:14:58] WebSocket 已关闭，结束接收循环
[2025-11-19 02:14:58] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0005_0011_before_output.wav，时长 23.19s
[2025-11-19 02:14:58] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0005_0011_before_output.wav
[2025-11-19 02:14:58] 处理完成: 0005_0011_before.wav
[2025-11-19 02:14:58] -----------------------------------
[2025-11-19 02:14:58] 开始处理文件: 0005_0033_before.wav
[2025-11-19 02:14:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:14:58] 初始化输出 buffer，总时长 23.08s（369264 samples）
[2025-11-19 02:14:58] 开始发送 0005_0033_before.wav，总帧 1443，时长 23.08s
[2025-11-19 02:14:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.987, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.635, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.737, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.907, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的泡菜配方里白菜和辣椒粉的比例是多少'}}
[2025-11-19 02:15:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.92, 'infer_time': 0.178, 'content': '白菜和辣椒粉比例是10:1。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.162, 'infer_time': 0.238, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:04] 收到 tts_done, timestamp=6.162s
[2025-11-19 02:15:04] 在 6.16s 插入 TTS（2.98s）
[2025-11-19 02:15:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.113}}
[2025-11-19 02:15:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.623, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.577, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.225, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.323, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.414, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的泡菜配方里白菜和辣椒粉的比例是多少'}]}, {'role': 'assistant', 'content': '白菜和辣椒粉比例是10:1。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.556, 'infer_time': 0.141, 'content': '白菜和辣椒粉比例是10:1。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的泡菜配方里白菜和辣椒粉的比例是多少'}]}, {'role': 'assistant', 'content': '白菜和辣椒粉比例是10:1。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.772, 'infer_time': 0.211, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:13] 收到 tts_done, timestamp=14.772s
[2025-11-19 02:15:13] 在 14.77s 插入 TTS（2.59s）
[2025-11-19 02:15:21] 音频发送完毕，用时 23.75s
[2025-11-19 02:15:21] WebSocket 已关闭，结束接收循环
[2025-11-19 02:15:21] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0005_0033_before_output.wav，时长 23.08s
[2025-11-19 02:15:21] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0005_0033_before_output.wav
[2025-11-19 02:15:21] 处理完成: 0005_0033_before.wav
[2025-11-19 02:15:21] -----------------------------------
[2025-11-19 02:15:21] 开始处理文件: 0005_0036_before.wav
[2025-11-19 02:15:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:15:21] 初始化输出 buffer，总时长 23.51s（376128 samples）
[2025-11-19 02:15:21] 开始发送 0005_0036_before.wav，总帧 1470，时长 23.51s
[2025-11-19 02:15:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.938, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.586, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.683, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.897, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的小颗粒熔岩蛋糕配方能分享一下吗'}}
[2025-11-19 02:15:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.965, 'infer_time': 0.277, 'content': '当然可以，巧克力熔岩蛋糕配方是：黑巧克力、黄油、鸡蛋、糖和面粉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.565, 'infer_time': 0.595, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:27] 收到 tts_done, timestamp=5.565s
[2025-11-19 02:15:27] 在 5.57s 插入 TTS（8.67s）
[2025-11-19 02:15:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.127}}
[2025-11-19 02:15:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.641, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.315, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.987, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.634, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.737, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.853, 'infer_time': 0.112, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的小颗粒熔岩蛋糕配方能分享一下吗'}]}, {'role': 'assistant', 'content': '当然可以，巧克力熔岩蛋糕配方是：黑巧克力、黄油、鸡蛋、糖和面粉。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.102, 'infer_time': 0.249, 'content': '当然可以，巧克力熔岩蛋糕配方是：黑巧克力、黄油、鸡蛋、糖和面粉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的小颗粒熔岩蛋糕配方能分享一下吗'}]}, {'role': 'assistant', 'content': '当然可以，巧克力熔岩蛋糕配方是：黑巧克力、黄油、鸡蛋、糖和面粉。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.688, 'infer_time': 0.579, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:15:37] 收到 tts_done, timestamp=15.688s
[2025-11-19 02:15:37] 在 15.69s 插入 TTS（7.82s）
[2025-11-19 02:15:46] 音频发送完毕，用时 24.15s
[2025-11-19 02:15:46] WebSocket 已关闭，结束接收循环
[2025-11-19 02:15:46] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0005_0036_before_output.wav，时长 23.51s
[2025-11-19 02:15:46] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0005_0036_before_output.wav
[2025-11-19 02:15:46] 处理完成: 0005_0036_before.wav
[2025-11-19 02:15:46] -----------------------------------
[2025-11-19 02:15:46] 开始处理文件: 0006_0006_before.wav
[2025-11-19 02:15:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:15:46] 初始化输出 buffer，总时长 25.27s（404288 samples）
[2025-11-19 02:15:46] 开始发送 0006_0006_before.wav，总帧 1580，时长 25.27s
[2025-11-19 02:15:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.88, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.919, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.566, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.673, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.852, 'infer_time': 0.173, 'content': '黑镜确实很震撼，推荐你看看。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.858, 'turn': 0, 'state': 'LISTEN', 'content': '最近看了黑镜最新季吗剧集设定太震撼了推荐你看'}}
[2025-11-19 02:15:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.13, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:15:53] 收到 tts_done, timestamp=7.13s
[2025-11-19 02:15:53] 在 7.13s 插入 TTS（3.40s）
[2025-11-19 02:15:57] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.081}}
[2025-11-19 02:15:58] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.59, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.851, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.865, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.513, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.612, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.704, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近看了黑镜最新季吗剧集设定太震撼了推荐你看'}]}, {'role': 'assistant', 'content': '黑镜确实很震撼，推荐你看看。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.882, 'infer_time': 0.174, 'content': '立即断开网络连接，防止进一步入侵。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近看了黑镜最新季吗剧集设定太震撼了推荐你看'}]}, {'role': 'assistant', 'content': '黑镜确实很震撼，推荐你看看。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.901, 'turn': 1, 'state': 'LISTEN', 'content': '如果遇到网络勒索攻击第一步应该做什么'}}
[2025-11-19 02:16:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.168, 'infer_time': 0.281, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:03] 收到 tts_done, timestamp=17.168s
[2025-11-19 02:16:03] 在 17.17s 插入 TTS（3.65s）
[2025-11-19 02:16:12] 音频发送完毕，用时 25.99s
[2025-11-19 02:16:12] WebSocket 已关闭，结束接收循环
[2025-11-19 02:16:12] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0006_0006_before_output.wav，时长 25.27s
[2025-11-19 02:16:12] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0006_0006_before_output.wav
[2025-11-19 02:16:12] 处理完成: 0006_0006_before.wav
[2025-11-19 02:16:12] -----------------------------------
[2025-11-19 02:16:12] 开始处理文件: 0006_0010_before.wav
[2025-11-19 02:16:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:16:12] 初始化输出 buffer，总时长 24.57s（393104 samples）
[2025-11-19 02:16:12] 开始发送 0006_0010_before.wav，总帧 1536，时长 24.57s
[2025-11-19 02:16:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.726, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.828, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.024, 'infer_time': 0.191, 'content': '很高兴能帮到你，这本书确实很有启发性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.074, 'turn': 0, 'state': 'LISTEN', 'content': '你上次推荐的人类简史对我的思维方式影响很大呢'}}
[2025-11-19 02:16:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.359, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:18] 收到 tts_done, timestamp=6.359s
[2025-11-19 02:16:18] 在 6.36s 插入 TTS（4.14s）
[2025-11-19 02:16:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.298}}
[2025-11-19 02:16:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.806, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.2, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.848, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.944, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.037, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的人类简史对我的思维方式影响很大呢'}]}, {'role': 'assistant', 'content': '很高兴能帮到你，这本书确实很有启发性。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.211, 'turn': 1, 'state': 'LISTEN', 'content': '男朋友因为小事吵架后他总是不主动道歉怎么办'}}
[2025-11-19 02:16:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.307, 'infer_time': 0.265, 'content': '男生不主动道歉可能是因为觉得认错会丢面子，你可以试着先缓和气氛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的人类简史对我的思维方式影响很大呢'}]}, {'role': 'assistant', 'content': '很高兴能帮到你，这本书确实很有启发性。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.731, 'infer_time': 0.418, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:28] 收到 tts_done, timestamp=16.731s
[2025-11-19 02:16:28] 在 16.73s 插入 TTS（5.78s）
[2025-11-19 02:16:37] 音频发送完毕，用时 25.29s
[2025-11-19 02:16:37] WebSocket 已关闭，结束接收循环
[2025-11-19 02:16:37] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0006_0010_before_output.wav，时长 24.57s
[2025-11-19 02:16:37] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0006_0010_before_output.wav
[2025-11-19 02:16:37] 处理完成: 0006_0010_before.wav
[2025-11-19 02:16:37] -----------------------------------
[2025-11-19 02:16:37] 开始处理文件: 0007_0001_before.wav
[2025-11-19 02:16:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:16:37] 初始化输出 buffer，总时长 26.98s（431648 samples）
[2025-11-19 02:16:37] 开始发送 0007_0001_before.wav，总帧 1687，时长 26.98s
[2025-11-19 02:16:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.835, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.553, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.306, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.501, 'infer_time': 0.19, 'content': '前脚掌着地更高效，减少膝盖压力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.517, 'turn': 0, 'state': 'LISTEN', 'content': '你跑步时前脚掌还是后脚掌先着地这个技巧很重要'}}
[2025-11-19 02:16:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.79, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:16:44] 收到 tts_done, timestamp=6.79s
[2025-11-19 02:16:44] 在 6.79s 插入 TTS（3.71s）
[2025-11-19 02:16:48] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.645}}
[2025-11-19 02:16:49] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.156, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.708, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 18.355, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.459, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.579, 'infer_time': 0.114, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你跑步时前脚掌还是后脚掌先着地这个技巧很重要'}]}, {'role': 'assistant', 'content': '前脚掌着地更高效，减少膝盖压力。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.734, 'infer_time': 0.155, 'content': '前脚掌着地更高效，减少膝盖压力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你跑步时前脚掌还是后脚掌先着地这个技巧很重要'}]}, {'role': 'assistant', 'content': '前脚掌着地更高效，减少膝盖压力。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.994, 'infer_time': 0.254, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:16:56] 收到 tts_done, timestamp=18.994s
[2025-11-19 02:16:56] 在 18.99s 插入 TTS（3.25s）
[2025-11-19 02:17:05] 音频发送完毕，用时 27.88s
[2025-11-19 02:17:05] WebSocket 已关闭，结束接收循环
[2025-11-19 02:17:05] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0007_0001_before_output.wav，时长 26.98s
[2025-11-19 02:17:05] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0007_0001_before_output.wav
[2025-11-19 02:17:05] 处理完成: 0007_0001_before.wav
[2025-11-19 02:17:05] -----------------------------------
[2025-11-19 02:17:05] 开始处理文件: 0007_0017_before.wav
[2025-11-19 02:17:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:17:05] 初始化输出 buffer，总时长 24.89s（398224 samples）
[2025-11-19 02:17:05] 开始发送 0007_0017_before.wav，总帧 1556，时长 24.89s
[2025-11-19 02:17:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.028, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.189, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.836, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.945, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.138, 'infer_time': 0.188, 'content': '恐龙睡衣确实超魔性，笑点密集', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.249, 'turn': 0, 'state': 'LISTEN', 'content': '你昨天看的那部搞笑剧里主角穿恐龙睡衣的片段太魔性了吧'}}
[2025-11-19 02:17:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.484, 'infer_time': 0.34, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:13] 收到 tts_done, timestamp=8.484s
[2025-11-19 02:17:13] 在 8.48s 插入 TTS（4.16s）
[2025-11-19 02:17:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 12.547}}
[2025-11-19 02:17:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 14.061, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.506, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.155, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.249, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.338, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天看的那部搞笑剧里主角穿恐龙睡衣的片段太魔性了吧'}]}, {'role': 'assistant', 'content': '恐龙睡衣确实超魔性，笑点密集'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.484, 'infer_time': 0.145, 'content': '恐龙睡衣确实超魔性，笑点密集', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天看的那部搞笑剧里主角穿恐龙睡衣的片段太魔性了吧'}]}, {'role': 'assistant', 'content': '恐龙睡衣确实超魔性，笑点密集'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.748, 'infer_time': 0.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:22] 收到 tts_done, timestamp=16.748s
[2025-11-19 02:17:22] 在 16.75s 插入 TTS（3.45s）
[2025-11-19 02:17:31] 音频发送完毕，用时 25.67s
[2025-11-19 02:17:31] WebSocket 已关闭，结束接收循环
[2025-11-19 02:17:31] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0007_0017_before_output.wav，时长 24.89s
[2025-11-19 02:17:31] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0007_0017_before_output.wav
[2025-11-19 02:17:31] 处理完成: 0007_0017_before.wav
[2025-11-19 02:17:31] -----------------------------------
[2025-11-19 02:17:31] 开始处理文件: 0007_0026_before.wav
[2025-11-19 02:17:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:17:31] 初始化输出 buffer，总时长 25.43s（406864 samples）
[2025-11-19 02:17:31] 开始发送 0007_0026_before.wav，总帧 1590，时长 25.43s
[2025-11-19 02:17:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.532, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.287, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.467, 'infer_time': 0.174, 'content': '好的，我需要预留周末的体验名额。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.621, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的日式插花课程需要帮你预留周末的体验名额吗'}}
[2025-11-19 02:17:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.734, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:38] 收到 tts_done, timestamp=7.734s
[2025-11-19 02:17:38] 在 7.73s 插入 TTS（3.23s）
[2025-11-19 02:17:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.856}}
[2025-11-19 02:17:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.369, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.07, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.718, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.814, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.912, 'infer_time': 0.093, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的日式插花课程需要帮你预留周末的体验名额吗'}]}, {'role': 'assistant', 'content': '好的，我需要预留周末的体验名额。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.049, 'infer_time': 0.136, 'content': '好的，我需要预留周末的体验名额。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的日式插花课程需要帮你预留周末的体验名额吗'}]}, {'role': 'assistant', 'content': '好的，我需要预留周末的体验名额。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.303, 'infer_time': 0.249, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:17:48] 收到 tts_done, timestamp=17.303s
[2025-11-19 02:17:48] 在 17.30s 插入 TTS（3.21s）
[2025-11-19 02:17:57] 音频发送完毕，用时 26.23s
[2025-11-19 02:17:57] WebSocket 已关闭，结束接收循环
[2025-11-19 02:17:57] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0007_0026_before_output.wav，时长 25.43s
[2025-11-19 02:17:57] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0007_0026_before_output.wav
[2025-11-19 02:17:57] 处理完成: 0007_0026_before.wav
[2025-11-19 02:17:57] -----------------------------------
[2025-11-19 02:17:57] 开始处理文件: 0007_0028_before.wav
[2025-11-19 02:17:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:17:57] 初始化输出 buffer，总时长 23.18s（370864 samples）
[2025-11-19 02:17:57] 开始发送 0007_0028_before.wav，总帧 1449，时长 23.18s
[2025-11-19 02:17:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:17:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.972, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.01, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.657, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.763, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.946, 'turn': 0, 'state': 'LISTEN', 'content': '你上次体检报告提到内分泌失调最近有复查吗'}}
[2025-11-19 02:18:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.948, 'infer_time': 0.18, 'content': '内分泌失调需要定期复查，建议遵医嘱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.25, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:03] 收到 tts_done, timestamp=6.25s
[2025-11-19 02:18:03] 在 6.25s 插入 TTS（3.88s）
[2025-11-19 02:18:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.249}}
[2025-11-19 02:18:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.765, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.75, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.398, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.489, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.579, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次体检报告提到内分泌失调最近有复查吗'}]}, {'role': 'assistant', 'content': '内分泌失调需要定期复查，建议遵医嘱。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.717, 'infer_time': 0.138, 'content': '内分泌失调需要定期复查，建议遵医嘱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次体检报告提到内分泌失调最近有复查吗'}]}, {'role': 'assistant', 'content': '内分泌失调需要定期复查，建议遵医嘱。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.007, 'infer_time': 0.285, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:12] 收到 tts_done, timestamp=15.007s
[2025-11-19 02:18:12] 在 15.01s 插入 TTS（3.62s）
[2025-11-19 02:18:21] 音频发送完毕，用时 23.86s
[2025-11-19 02:18:21] WebSocket 已关闭，结束接收循环
[2025-11-19 02:18:21] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0007_0028_before_output.wav，时长 23.18s
[2025-11-19 02:18:21] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0007_0028_before_output.wav
[2025-11-19 02:18:21] 处理完成: 0007_0028_before.wav
[2025-11-19 02:18:21] -----------------------------------
[2025-11-19 02:18:21] 开始处理文件: 0007_0035_before.wav
[2025-11-19 02:18:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:18:21] 初始化输出 buffer，总时长 24.71s（395328 samples）
[2025-11-19 02:18:21] 开始发送 0007_0035_before.wav，总帧 1545，时长 24.71s
[2025-11-19 02:18:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.897, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.999, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.181, 'infer_time': 0.176, 'content': '商务晚宴通常准备茅台更显档次。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.229, 'turn': 0, 'state': 'LISTEN', 'content': '王总下周的商午晚宴需要准备茅台还是红酒'}}
[2025-11-19 02:18:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.432, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:27] 收到 tts_done, timestamp=6.432s
[2025-11-19 02:18:27] 在 6.43s 插入 TTS（3.10s）
[2025-11-19 02:18:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.57}}
[2025-11-19 02:18:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.082, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.357, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.005, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.104, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.198, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '王总下周的商午晚宴需要准备茅台还是红酒'}]}, {'role': 'assistant', 'content': '商务晚宴通常准备茅台更显档次。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.33, 'infer_time': 0.131, 'content': '商务晚宴通常准备茅台更显档次。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '王总下周的商午晚宴需要准备茅台还是红酒'}]}, {'role': 'assistant', 'content': '商务晚宴通常准备茅台更显档次。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.599, 'infer_time': 0.264, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:18:37] 收到 tts_done, timestamp=16.599s
[2025-11-19 02:18:37] 在 16.60s 插入 TTS（3.33s）
[2025-11-19 02:18:46] 音频发送完毕，用时 25.47s
[2025-11-19 02:18:46] WebSocket 已关闭，结束接收循环
[2025-11-19 02:18:46] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0007_0035_before_output.wav，时长 24.71s
[2025-11-19 02:18:46] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0007_0035_before_output.wav
[2025-11-19 02:18:46] 处理完成: 0007_0035_before.wav
[2025-11-19 02:18:46] -----------------------------------
[2025-11-19 02:18:46] 开始处理文件: 0008_0010_before.wav
[2025-11-19 02:18:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:18:46] 初始化输出 buffer，总时长 22.90s（366384 samples）
[2025-11-19 02:18:46] 开始发送 0008_0010_before.wav，总帧 1432，时长 22.90s
[2025-11-19 02:18:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.171, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.033, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.784, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.432, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.537, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.743, 'infer_time': 0.202, 'content': '好的，我已整理好老年人补钙的注意事项资料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.762, 'turn': 0, 'state': 'LISTEN', 'content': '您上次说想了解老年人补钙的注意事项资料我整理好了'}}
[2025-11-19 02:18:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.047, 'infer_time': 0.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:18:53] 收到 tts_done, timestamp=7.047s
[2025-11-19 02:18:53] 在 7.05s 插入 TTS（3.75s）
[2025-11-19 02:18:57] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.039}}
[2025-11-19 02:18:59] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.549, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.41, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.058, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.15, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.24, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '您上次说想了解老年人补钙的注意事项资料我整理好了'}]}, {'role': 'assistant', 'content': '好的，我已整理好老年人补钙的注意事项资料。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.403, 'infer_time': 0.162, 'content': '好的，我已整理好老年人补钙的注意事项资料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '您上次说想了解老年人补钙的注意事项资料我整理好了'}]}, {'role': 'assistant', 'content': '好的，我已整理好老年人补钙的注意事项资料。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.701, 'infer_time': 0.292, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:01] 收到 tts_done, timestamp=14.701s
[2025-11-19 02:19:01] 在 14.70s 插入 TTS（3.85s）
[2025-11-19 02:19:10] 音频发送完毕，用时 23.55s
[2025-11-19 02:19:10] WebSocket 已关闭，结束接收循环
[2025-11-19 02:19:10] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0008_0010_before_output.wav，时长 22.90s
[2025-11-19 02:19:10] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0008_0010_before_output.wav
[2025-11-19 02:19:10] 处理完成: 0008_0010_before.wav
[2025-11-19 02:19:10] -----------------------------------
[2025-11-19 02:19:10] 开始处理文件: 0008_0013_before.wav
[2025-11-19 02:19:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:19:10] 初始化输出 buffer，总时长 24.02s（384304 samples）
[2025-11-19 02:19:10] 开始发送 0008_0013_before.wav，总帧 1502，时长 24.02s
[2025-11-19 02:19:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.751, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.525, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.871, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.977, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.119, 'infer_time': 0.136, 'content': '需要提前下载学习资料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.255, 'turn': 0, 'state': 'LISTEN', 'content': '已报名的 python 编程课下周开课需要提前下载学习资料吗'}}
[2025-11-19 02:19:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.309, 'infer_time': 0.186, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:17] 收到 tts_done, timestamp=7.309s
[2025-11-19 02:19:17] 在 7.31s 插入 TTS（2.20s）
[2025-11-19 02:19:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.345}}
[2025-11-19 02:19:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.854, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.6, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.249, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.336, 'infer_time': 0.082, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.427, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '已报名的 python 编程课下周开课需要提前下载学习资料吗'}]}, {'role': 'assistant', 'content': '需要提前下载学习资料。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.522, 'infer_time': 0.094, 'content': '需要提前下载学习资料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '已报名的 python 编程课下周开课需要提前下载学习资料吗'}]}, {'role': 'assistant', 'content': '需要提前下载学习资料。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.721, 'infer_time': 0.194, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:25] 收到 tts_done, timestamp=15.721s
[2025-11-19 02:19:25] 在 15.72s 插入 TTS（2.35s）
[2025-11-19 02:19:34] 音频发送完毕，用时 24.73s
[2025-11-19 02:19:34] WebSocket 已关闭，结束接收循环
[2025-11-19 02:19:34] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0008_0013_before_output.wav，时长 24.02s
[2025-11-19 02:19:34] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0008_0013_before_output.wav
[2025-11-19 02:19:34] 处理完成: 0008_0013_before.wav
[2025-11-19 02:19:34] -----------------------------------
[2025-11-19 02:19:34] 开始处理文件: 0008_0039_before.wav
[2025-11-19 02:19:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:19:34] 初始化输出 buffer，总时长 24.76s（396128 samples）
[2025-11-19 02:19:34] 开始发送 0008_0039_before.wav，总帧 1548，时长 24.76s
[2025-11-19 02:19:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.699, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.476, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.95, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.058, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.225, 'infer_time': 0.162, 'content': '上次推荐的素食餐厅在和平路。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.335, 'turn': 0, 'state': 'LISTEN', 'content': '你上次推荐的速食餐厅在哪条街上我想周末去试试'}}
[2025-11-19 02:19:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.465, 'infer_time': 0.236, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:19:42] 收到 tts_done, timestamp=7.465s
[2025-11-19 02:19:42] 在 7.46s 插入 TTS（3.02s）
[2025-11-19 02:19:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.457}}
[2025-11-19 02:19:47] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.962, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.335, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.413, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.063, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.16, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.252, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的速食餐厅在哪条街上我想周末去试试'}]}, {'role': 'assistant', 'content': '上次推荐的素食餐厅在和平路。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.375, 'infer_time': 0.122, 'content': '上次推荐的素食餐厅在和平路。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的速食餐厅在哪条街上我想周末去试试'}]}, {'role': 'assistant', 'content': '上次推荐的素食餐厅在和平路。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.617, 'infer_time': 0.236, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:19:51] 收到 tts_done, timestamp=16.617s
[2025-11-19 02:19:51] 在 16.62s 插入 TTS（3.07s）
[2025-11-19 02:20:00] 音频发送完毕，用时 25.53s
[2025-11-19 02:20:00] WebSocket 已关闭，结束接收循环
[2025-11-19 02:20:00] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0008_0039_before_output.wav，时长 24.76s
[2025-11-19 02:20:00] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0008_0039_before_output.wav
[2025-11-19 02:20:00] 处理完成: 0008_0039_before.wav
[2025-11-19 02:20:00] -----------------------------------
[2025-11-19 02:20:00] 开始处理文件: 0009_0003_before.wav
[2025-11-19 02:20:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:20:00] 初始化输出 buffer，总时长 22.87s（365888 samples）
[2025-11-19 02:20:00] 开始发送 0009_0003_before.wav，总帧 1430，时长 22.87s
[2025-11-19 02:20:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.481, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.492, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.233, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.392, 'turn': 0, 'state': 'LISTEN', 'content': '看中的学区防守护谈的怎么样了'}}
[2025-11-19 02:20:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.411, 'infer_time': 0.174, 'content': '首付谈得差不多了，就等最后确认。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.674, 'infer_time': 0.258, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:05] 收到 tts_done, timestamp=4.674s
[2025-11-19 02:20:05] 在 4.67s 插入 TTS（3.25s）
[2025-11-19 02:20:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.847}}
[2025-11-19 02:20:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.362, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.332, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.981, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.082, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.175, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '看中的学区防守护谈的怎么样了'}]}, {'role': 'assistant', 'content': '首付谈得差不多了，就等最后确认。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.315, 'infer_time': 0.139, 'content': '首付谈得差不多了，就等最后确认。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '看中的学区防守护谈的怎么样了'}]}, {'role': 'assistant', 'content': '首付谈得差不多了，就等最后确认。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.557, 'infer_time': 0.237, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:15] 收到 tts_done, timestamp=14.557s
[2025-11-19 02:20:15] 在 14.56s 插入 TTS（3.01s）
[2025-11-19 02:20:24] 音频发送完毕，用时 23.53s
[2025-11-19 02:20:24] WebSocket 已关闭，结束接收循环
[2025-11-19 02:20:24] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0009_0003_before_output.wav，时长 22.87s
[2025-11-19 02:20:24] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0009_0003_before_output.wav
[2025-11-19 02:20:24] 处理完成: 0009_0003_before.wav
[2025-11-19 02:20:24] -----------------------------------
[2025-11-19 02:20:24] 开始处理文件: 0009_0022_before.wav
[2025-11-19 02:20:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:20:24] 初始化输出 buffer，总时长 26.42s（422704 samples）
[2025-11-19 02:20:24] 开始发送 0009_0022_before.wav，总帧 1652，时长 26.42s
[2025-11-19 02:20:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.796, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.963, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.08, 'infer_time': 0.112, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.275, 'infer_time': 0.19, 'content': '那波团战确实精彩，操作太秀了！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 8.345, 'turn': 0, 'state': 'LISTEN', 'content': '你看没看昨晚英雄联盟全球总决赛的逆转局最后一波团战太神了'}}
[2025-11-19 02:20:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 8.565, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:32] 收到 tts_done, timestamp=8.565s
[2025-11-19 02:20:32] 在 8.56s 插入 TTS（3.70s）
[2025-11-19 02:20:36] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 12.582}}
[2025-11-19 02:20:38] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 14.095, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.995, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.163, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.81, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.908, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.0, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你看没看昨晚英雄联盟全球总决赛的逆转局最后一波团战太神了'}]}, {'role': 'assistant', 'content': '那波团战确实精彩，操作太秀了！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 18.18, 'turn': 1, 'state': 'LISTEN', 'content': '朋友最近总是不回我消息我该怎么沟通比较好'}}
[2025-11-19 02:20:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.184, 'infer_time': 0.178, 'content': '直接问下情况，朋友可能太忙了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你看没看昨晚英雄联盟全球总决赛的逆转局最后一波团战太神了'}]}, {'role': 'assistant', 'content': '那波团战确实精彩，操作太秀了！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.434, 'infer_time': 0.245, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:20:42] 收到 tts_done, timestamp=18.434s
[2025-11-19 02:20:42] 在 18.43s 插入 TTS（3.12s）
[2025-11-19 02:20:51] 音频发送完毕，用时 27.29s
[2025-11-19 02:20:51] WebSocket 已关闭，结束接收循环
[2025-11-19 02:20:51] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0009_0022_before_output.wav，时长 26.42s
[2025-11-19 02:20:51] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0009_0022_before_output.wav
[2025-11-19 02:20:51] 处理完成: 0009_0022_before.wav
[2025-11-19 02:20:51] -----------------------------------
[2025-11-19 02:20:51] 开始处理文件: 0009_0027_before.wav
[2025-11-19 02:20:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:20:51] 初始化输出 buffer，总时长 24.83s（397264 samples）
[2025-11-19 02:20:51] 开始发送 0009_0027_before.wav，总帧 1552，时长 24.83s
[2025-11-19 02:20:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.51, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.157, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.258, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.458, 'infer_time': 0.195, 'content': '好啊，那家菌菇火锅确实值得一试。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.511, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说想尝试新菜系转角那家云南菌菇火锅要一起去吗'}}
[2025-11-19 02:20:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.731, 'infer_time': 0.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:20:59] 收到 tts_done, timestamp=7.731s
[2025-11-19 02:20:59] 在 7.73s 插入 TTS（3.38s）
[2025-11-19 02:21:03] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.771}}
[2025-11-19 02:21:04] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.286, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.378, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.029, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.127, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.218, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说想尝试新菜系转角那家云南菌菇火锅要一起去吗'}]}, {'role': 'assistant', 'content': '好啊，那家菌菇火锅确实值得一试。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.371, 'infer_time': 0.153, 'content': '好啊，那家菌菇火锅确实值得一试。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说想尝试新菜系转角那家云南菌菇火锅要一起去吗'}]}, {'role': 'assistant', 'content': '好啊，那家菌菇火锅确实值得一试。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.646, 'infer_time': 0.268, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:08] 收到 tts_done, timestamp=16.646s
[2025-11-19 02:21:08] 在 16.65s 插入 TTS（3.46s）
[2025-11-19 02:21:16] 音频发送完毕，用时 25.61s
[2025-11-19 02:21:16] WebSocket 已关闭，结束接收循环
[2025-11-19 02:21:16] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0009_0027_before_output.wav，时长 24.83s
[2025-11-19 02:21:16] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0009_0027_before_output.wav
[2025-11-19 02:21:16] 处理完成: 0009_0027_before.wav
[2025-11-19 02:21:16] -----------------------------------
[2025-11-19 02:21:16] 开始处理文件: 0010_0010_before.wav
[2025-11-19 02:21:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:21:16] 初始化输出 buffer，总时长 24.73s（395664 samples）
[2025-11-19 02:21:16] 开始发送 0010_0010_before.wav，总帧 1546，时长 24.73s
[2025-11-19 02:21:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.128, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.232, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.413, 'turn': 0, 'state': 'LISTEN', 'content': '最近繁花大结局你看了吗王家卫镜头语言绝了'}}
[2025-11-19 02:21:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.434, 'infer_time': 0.197, 'content': '确实绝了，王家卫的镜头太有味道了', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.742, 'infer_time': 0.304, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:23] 收到 tts_done, timestamp=6.742s
[2025-11-19 02:21:23] 在 6.74s 插入 TTS（3.95s）
[2025-11-19 02:21:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.602}}
[2025-11-19 02:21:29] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.111, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.378, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.026, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.127, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.221, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近繁花大结局你看了吗王家卫镜头语言绝了'}]}, {'role': 'assistant', 'content': '确实绝了，王家卫的镜头太有味道了'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.382, 'infer_time': 0.161, 'content': '确实绝了，王家卫的镜头太有味道了', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近繁花大结局你看了吗王家卫镜头语言绝了'}]}, {'role': 'assistant', 'content': '确实绝了，王家卫的镜头太有味道了'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.702, 'infer_time': 0.313, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:33] 收到 tts_done, timestamp=16.702s
[2025-11-19 02:21:33] 在 16.70s 插入 TTS（4.08s）
[2025-11-19 02:21:42] 音频发送完毕，用时 25.48s
[2025-11-19 02:21:42] WebSocket 已关闭，结束接收循环
[2025-11-19 02:21:42] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0010_0010_before_output.wav，时长 24.73s
[2025-11-19 02:21:42] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0010_0010_before_output.wav
[2025-11-19 02:21:42] 处理完成: 0010_0010_before.wav
[2025-11-19 02:21:42] -----------------------------------
[2025-11-19 02:21:42] 开始处理文件: 0010_0019_before.wav
[2025-11-19 02:21:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:21:42] 初始化输出 buffer，总时长 26.43s（422864 samples）
[2025-11-19 02:21:42] 开始发送 0010_0019_before.wav，总帧 1652，时长 26.43s
[2025-11-19 02:21:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.3, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.565, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.316, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.491, 'infer_time': 0.17, 'content': '确实能提升环保意识，促进社区和谐。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.582, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得社区组织的环保志愿活动对社会有什么实际影响'}}
[2025-11-19 02:21:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.779, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:21:49] 收到 tts_done, timestamp=6.779s
[2025-11-19 02:21:49] 在 6.78s 插入 TTS（3.71s）
[2025-11-19 02:21:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.721}}
[2025-11-19 02:21:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.229, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.193, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:21:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 17.158, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.806, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.907, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.019, 'infer_time': 0.107, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得社区组织的环保志愿活动对社会有什么实际影响'}]}, {'role': 'assistant', 'content': '确实能提升环保意识，促进社区和谐。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 18.15, 'infer_time': 0.131, 'content': '确实能提升环保意识，促进社区和谐。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得社区组织的环保志愿活动对社会有什么实际影响'}]}, {'role': 'assistant', 'content': '确实能提升环保意识，促进社区和谐。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.479, 'infer_time': 0.324, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:00] 收到 tts_done, timestamp=18.479s
[2025-11-19 02:22:00] 在 18.48s 插入 TTS（3.56s）
[2025-11-19 02:22:09] 音频发送完毕，用时 27.26s
[2025-11-19 02:22:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:22:09] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0010_0019_before_output.wav，时长 26.43s
[2025-11-19 02:22:09] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0010_0019_before_output.wav
[2025-11-19 02:22:09] 处理完成: 0010_0019_before.wav
[2025-11-19 02:22:09] -----------------------------------
[2025-11-19 02:22:09] 开始处理文件: 0010_0031_before.wav
[2025-11-19 02:22:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:22:09] 初始化输出 buffer，总时长 25.55s（408784 samples）
[2025-11-19 02:22:09] 开始发送 0010_0031_before.wav，总帧 1597，时长 25.55s
[2025-11-19 02:22:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.515, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.663, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.977, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.084, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.245, 'infer_time': 0.157, 'content': '《人类简史》也很适合你', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.347, 'turn': 0, 'state': 'LISTEN', 'content': '你上次推荐的未来简史我读完了能再推荐一本类似的书吗'}}
[2025-11-19 02:22:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.498, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:17] 收到 tts_done, timestamp=7.498s
[2025-11-19 02:22:17] 在 7.50s 插入 TTS（3.20s）
[2025-11-19 02:22:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.49}}
[2025-11-19 02:22:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.001, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.137, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.785, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.998, 'infer_time': 0.208, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.091, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的未来简史我读完了能再推荐一本类似的书吗'}]}, {'role': 'assistant', 'content': '《人类简史》也很适合你'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.201, 'infer_time': 0.11, 'content': '《人类简史》也很适合你', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次推荐的未来简史我读完了能再推荐一本类似的书吗'}]}, {'role': 'assistant', 'content': '《人类简史》也很适合你'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.371, 'infer_time': 0.165, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:27] 收到 tts_done, timestamp=17.371s
[2025-11-19 02:22:27] 在 17.37s 插入 TTS（2.01s）
[2025-11-19 02:22:36] 音频发送完毕，用时 26.35s
[2025-11-19 02:22:36] WebSocket 已关闭，结束接收循环
[2025-11-19 02:22:36] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0010_0031_before_output.wav，时长 25.55s
[2025-11-19 02:22:36] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0010_0031_before_output.wav
[2025-11-19 02:22:36] 处理完成: 0010_0031_before.wav
[2025-11-19 02:22:36] -----------------------------------
[2025-11-19 02:22:36] 开始处理文件: 0011_0007_before.wav
[2025-11-19 02:22:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:22:36] 初始化输出 buffer，总时长 25.58s（409248 samples）
[2025-11-19 02:22:36] 开始发送 0011_0007_before.wav，总帧 1599，时长 25.58s
[2025-11-19 02:22:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.514, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.464, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.212, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.378, 'infer_time': 0.162, 'content': '三十本是个不错的挑战，加油坚持！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.383, 'turn': 0, 'state': 'LISTEN', 'content': '你今年打算读多少本书我最近刚定了个三十本的目标'}}
[2025-11-19 02:22:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.681, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:22:42] 收到 tts_done, timestamp=6.681s
[2025-11-19 02:22:42] 在 6.68s 插入 TTS（3.85s）
[2025-11-19 02:22:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.685}}
[2025-11-19 02:22:48] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.193, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.899, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.0, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.095, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你今年打算读多少本书我最近刚定了个三十本的目标'}]}, {'role': 'assistant', 'content': '三十本是个不错的挑战，加油坚持！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.216, 'infer_time': 0.12, 'content': '三十本是个不错的挑战，加油坚持！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你今年打算读多少本书我最近刚定了个三十本的目标'}]}, {'role': 'assistant', 'content': '三十本是个不错的挑战，加油坚持！'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.512, 'infer_time': 0.292, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:22:53] 收到 tts_done, timestamp=17.512s
[2025-11-19 02:22:53] 在 17.51s 插入 TTS（3.87s）
[2025-11-19 02:23:02] 音频发送完毕，用时 26.39s
[2025-11-19 02:23:02] WebSocket 已关闭，结束接收循环
[2025-11-19 02:23:02] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0011_0007_before_output.wav，时长 25.58s
[2025-11-19 02:23:02] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0011_0007_before_output.wav
[2025-11-19 02:23:02] 处理完成: 0011_0007_before.wav
[2025-11-19 02:23:02] -----------------------------------
[2025-11-19 02:23:02] 开始处理文件: 0011_0021_before.wav
[2025-11-19 02:23:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:23:02] 初始化输出 buffer，总时长 22.87s（365888 samples）
[2025-11-19 02:23:02] 开始发送 0011_0021_before.wav，总帧 1430，时长 22.87s
[2025-11-19 02:23:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.465, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.207, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.366, 'infer_time': 0.155, 'content': '音质清晰，语音识别很灵敏。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.403, 'turn': 0, 'state': 'LISTEN', 'content': '你上次买的智能音箱用起来效果怎么样'}}
[2025-11-19 02:23:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.611, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:07] 收到 tts_done, timestamp=4.611s
[2025-11-19 02:23:07] 在 4.61s 插入 TTS（2.96s）
[2025-11-19 02:23:11] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.629}}
[2025-11-19 02:23:12] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.137, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.442, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.09, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.191, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.288, 'infer_time': 0.092, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的智能音箱用起来效果怎么样'}]}, {'role': 'assistant', 'content': '音质清晰，语音识别很灵敏。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.412, 'infer_time': 0.123, 'content': '音质清晰，语音识别很灵敏。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的智能音箱用起来效果怎么样'}]}, {'role': 'assistant', 'content': '音质清晰，语音识别很灵敏。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.67, 'infer_time': 0.253, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:17] 收到 tts_done, timestamp=14.67s
[2025-11-19 02:23:17] 在 14.67s 插入 TTS（3.14s）
[2025-11-19 02:23:26] 音频发送完毕，用时 23.55s
[2025-11-19 02:23:26] WebSocket 已关闭，结束接收循环
[2025-11-19 02:23:26] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0011_0021_before_output.wav，时长 22.87s
[2025-11-19 02:23:26] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0011_0021_before_output.wav
[2025-11-19 02:23:26] 处理完成: 0011_0021_before.wav
[2025-11-19 02:23:26] -----------------------------------
[2025-11-19 02:23:26] 开始处理文件: 0011_0035_before.wav
[2025-11-19 02:23:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:23:26] 初始化输出 buffer，总时长 24.73s（395648 samples）
[2025-11-19 02:23:26] 开始发送 0011_0035_before.wav，总帧 1546，时长 24.73s
[2025-11-19 02:23:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.061, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.709, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.813, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.991, 'infer_time': 0.173, 'content': '主动性的核心是预见问题并提前解决。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.006, 'turn': 0, 'state': 'LISTEN', 'content': '昨天提交的方案里关于主动性的部分能再详细说说吗'}}
[2025-11-19 02:23:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.285, 'infer_time': 0.289, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:33] 收到 tts_done, timestamp=7.285s
[2025-11-19 02:23:33] 在 7.29s 插入 TTS（3.66s）
[2025-11-19 02:23:37] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.152}}
[2025-11-19 02:23:38] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.659, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.323, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.97, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.077, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.17, 'infer_time': 0.089, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '昨天提交的方案里关于主动性的部分能再详细说说吗'}]}, {'role': 'assistant', 'content': '主动性的核心是预见问题并提前解决。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.302, 'infer_time': 0.131, 'content': '主动性的核心是预见问题并提前解决。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '昨天提交的方案里关于主动性的部分能再详细说说吗'}]}, {'role': 'assistant', 'content': '主动性的核心是预见问题并提前解决。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.576, 'infer_time': 0.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:23:42] 收到 tts_done, timestamp=16.576s
[2025-11-19 02:23:42] 在 16.58s 插入 TTS（3.44s）
[2025-11-19 02:23:51] 音频发送完毕，用时 25.49s
[2025-11-19 02:23:51] WebSocket 已关闭，结束接收循环
[2025-11-19 02:23:51] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0011_0035_before_output.wav，时长 24.73s
[2025-11-19 02:23:51] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0011_0035_before_output.wav
[2025-11-19 02:23:51] 处理完成: 0011_0035_before.wav
[2025-11-19 02:23:51] -----------------------------------
[2025-11-19 02:23:51] 开始处理文件: 0012_0009_before.wav
[2025-11-19 02:23:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:23:51] 初始化输出 buffer，总时长 24.44s（391024 samples）
[2025-11-19 02:23:51] 开始发送 0012_0009_before.wav，总帧 1528，时长 24.44s
[2025-11-19 02:23:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.236, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.424, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.072, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.175, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.411, 'infer_time': 0.23, 'content': '那首缓解焦虑的钢琴曲叫《River Flows in You》。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.621, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的那首钢琴曲能缓解焦虑叫什么名字来着'}}
[2025-11-19 02:23:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.763, 'infer_time': 0.347, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:23:59] 收到 tts_done, timestamp=7.763s
[2025-11-19 02:23:59] 在 7.76s 插入 TTS（4.54s）
[2025-11-19 02:24:03] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.559}}
[2025-11-19 02:24:04] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.069, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.116, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.766, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.861, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.952, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的那首钢琴曲能缓解焦虑叫什么名字来着'}]}, {'role': 'assistant', 'content': '那首缓解焦虑的钢琴曲叫《River Flows in You》。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.087, 'turn': 1, 'state': 'LISTEN', 'content': '最近工作压力好大总是失眠怎么办'}}
[2025-11-19 02:24:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.175, 'infer_time': 0.218, 'content': '试试睡前听轻音乐，比如《River Flows in You》。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的那首钢琴曲能缓解焦虑叫什么名字来着'}]}, {'role': 'assistant', 'content': '那首缓解焦虑的钢琴曲叫《River Flows in You》。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.529, 'infer_time': 0.349, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:08] 收到 tts_done, timestamp=16.529s
[2025-11-19 02:24:08] 在 16.53s 插入 TTS（4.60s）
[2025-11-19 02:24:16] 音频发送完毕，用时 25.20s
[2025-11-19 02:24:16] WebSocket 已关闭，结束接收循环
[2025-11-19 02:24:16] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0012_0009_before_output.wav，时长 24.44s
[2025-11-19 02:24:16] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0012_0009_before_output.wav
[2025-11-19 02:24:16] 处理完成: 0012_0009_before.wav
[2025-11-19 02:24:16] -----------------------------------
[2025-11-19 02:24:16] 开始处理文件: 0012_0020_before.wav
[2025-11-19 02:24:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:24:16] 初始化输出 buffer，总时长 25.69s（411024 samples）
[2025-11-19 02:24:16] 开始发送 0012_0020_before.wav，总帧 1606，时长 25.69s
[2025-11-19 02:24:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.856, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.957, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.162, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的那首钢琴曲能疏解焦虑能再推荐几首类似的吗'}}
[2025-11-19 02:24:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.182, 'infer_time': 0.22, 'content': '当然可以，我再推荐几首舒缓的钢琴曲给你。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.506, 'infer_time': 0.318, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:23] 收到 tts_done, timestamp=6.506s
[2025-11-19 02:24:23] 在 6.51s 插入 TTS（4.10s）
[2025-11-19 02:24:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.405}}
[2025-11-19 02:24:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.08, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:24:28] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.908, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.875, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.596, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.42, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.068, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.169, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.266, 'infer_time': 0.092, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的那首钢琴曲能疏解焦虑能再推荐几首类似的吗'}]}, {'role': 'assistant', 'content': '当然可以，我再推荐几首舒缓的钢琴曲给你。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.453, 'infer_time': 0.186, 'content': '当然可以，我再推荐几首舒缓的钢琴曲给你。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的那首钢琴曲能疏解焦虑能再推荐几首类似的吗'}]}, {'role': 'assistant', 'content': '当然可以，我再推荐几首舒缓的钢琴曲给你。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.785, 'infer_time': 0.326, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:34] 收到 tts_done, timestamp=17.785s
[2025-11-19 02:24:34] 在 17.79s 插入 TTS（4.15s）
[2025-11-19 02:24:43] 音频发送完毕，用时 26.50s
[2025-11-19 02:24:43] WebSocket 已关闭，结束接收循环
[2025-11-19 02:24:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0012_0020_before_output.wav，时长 25.69s
[2025-11-19 02:24:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0012_0020_before_output.wav
[2025-11-19 02:24:43] 处理完成: 0012_0020_before.wav
[2025-11-19 02:24:43] -----------------------------------
[2025-11-19 02:24:43] 开始处理文件: 0012_0033_before.wav
[2025-11-19 02:24:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:24:43] 初始化输出 buffer，总时长 22.88s（366048 samples）
[2025-11-19 02:24:43] 开始发送 0012_0033_before.wav，总帧 1430，时长 22.88s
[2025-11-19 02:24:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.16, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.809, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.903, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.064, 'turn': 0, 'state': 'LISTEN', 'content': '你上次买的月季花苗需要换盆了吗'}}
[2025-11-19 02:24:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.095, 'infer_time': 0.187, 'content': '月季花苗根系发达，建议换盆。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.368, 'infer_time': 0.269, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:24:47] 收到 tts_done, timestamp=4.368s
[2025-11-19 02:24:47] 在 4.37s 插入 TTS（3.45s）
[2025-11-19 02:24:51] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.428}}
[2025-11-19 02:24:53] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.936, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.408, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.055, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.157, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.249, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的月季花苗需要换盆了吗'}]}, {'role': 'assistant', 'content': '月季花苗根系发达，建议换盆。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.399, 'infer_time': 0.149, 'content': '月季花苗根系发达，建议换盆。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次买的月季花苗需要换盆了吗'}]}, {'role': 'assistant', 'content': '月季花苗根系发达，建议换盆。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.627, 'infer_time': 0.223, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:24:57] 收到 tts_done, timestamp=14.627s
[2025-11-19 02:24:57] 在 14.63s 插入 TTS（2.81s）
[2025-11-19 02:25:06] 音频发送完毕，用时 23.54s
[2025-11-19 02:25:06] WebSocket 已关闭，结束接收循环
[2025-11-19 02:25:06] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0012_0033_before_output.wav，时长 22.88s
[2025-11-19 02:25:06] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0012_0033_before_output.wav
[2025-11-19 02:25:06] 处理完成: 0012_0033_before.wav
[2025-11-19 02:25:06] -----------------------------------
[2025-11-19 02:25:06] 开始处理文件: 0012_0038_before.wav
[2025-11-19 02:25:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:25:06] 初始化输出 buffer，总时长 24.42s（390688 samples）
[2025-11-19 02:25:06] 开始发送 0012_0038_before.wav，总帧 1527，时长 24.42s
[2025-11-19 02:25:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.538, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.183, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.285, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.435, 'infer_time': 0.145, 'content': '第12集表白场景最精彩', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.574, 'turn': 0, 'state': 'LISTEN', 'content': '你昨天推荐的偷偷藏不住校园剧第几集最精彩'}}
[2025-11-19 02:25:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.693, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:12] 收到 tts_done, timestamp=5.693s
[2025-11-19 02:25:12] 在 5.69s 插入 TTS（3.19s）
[2025-11-19 02:25:16] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.826}}
[2025-11-19 02:25:18] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.328, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.852, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.498, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.597, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.693, 'infer_time': 0.091, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天推荐的偷偷藏不住校园剧第几集最精彩'}]}, {'role': 'assistant', 'content': '第12集表白场景最精彩'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.805, 'infer_time': 0.112, 'content': '第12集表白场景最精彩', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天推荐的偷偷藏不住校园剧第几集最精彩'}]}, {'role': 'assistant', 'content': '第12集表白场景最精彩'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.042, 'infer_time': 0.232, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:22] 收到 tts_done, timestamp=16.042s
[2025-11-19 02:25:22] 在 16.04s 插入 TTS（2.99s）
[2025-11-19 02:25:31] 音频发送完毕，用时 24.88s
[2025-11-19 02:25:31] WebSocket 已关闭，结束接收循环
[2025-11-19 02:25:31] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0012_0038_before_output.wav，时长 24.42s
[2025-11-19 02:25:31] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0012_0038_before_output.wav
[2025-11-19 02:25:31] 处理完成: 0012_0038_before.wav
[2025-11-19 02:25:31] -----------------------------------
[2025-11-19 02:25:31] 开始处理文件: 0013_0004_before.wav
[2025-11-19 02:25:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:25:31] 初始化输出 buffer，总时长 24.02s（384288 samples）
[2025-11-19 02:25:31] 开始发送 0013_0004_before.wav，总帧 1502，时长 24.02s
[2025-11-19 02:25:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.081, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.136, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.781, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.878, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.064, 'infer_time': 0.182, 'content': '好啊，周末一起去看奥本海默！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.139, 'turn': 0, 'state': 'LISTEN', 'content': '昨天澳本海默豆瓣开分九点二你要不要周末一起去看'}}
[2025-11-19 02:25:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.293, 'infer_time': 0.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:38] 收到 tts_done, timestamp=6.293s
[2025-11-19 02:25:38] 在 6.29s 插入 TTS（2.82s）
[2025-11-19 02:25:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.271}}
[2025-11-19 02:25:43] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.773, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.253, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.897, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.996, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.09, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '昨天澳本海默豆瓣开分九点二你要不要周末一起去看'}]}, {'role': 'assistant', 'content': '好啊，周末一起去看奥本海默！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.279, 'turn': 1, 'state': 'LISTEN', 'content': '李宁最近推出的国潮系列有什么设计亮点'}}
[2025-11-19 02:25:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.289, 'infer_time': 0.195, 'content': '李宁国潮系列融合了中国元素与现代设计。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '昨天澳本海默豆瓣开分九点二你要不要周末一起去看'}]}, {'role': 'assistant', 'content': '好啊，周末一起去看奥本海默！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.586, 'infer_time': 0.293, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:25:47] 收到 tts_done, timestamp=15.586s
[2025-11-19 02:25:47] 在 15.59s 插入 TTS（3.73s）
[2025-11-19 02:25:56] 音频发送完毕，用时 24.33s
[2025-11-19 02:25:56] WebSocket 已关闭，结束接收循环
[2025-11-19 02:25:56] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0013_0004_before_output.wav，时长 24.02s
[2025-11-19 02:25:56] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0013_0004_before_output.wav
[2025-11-19 02:25:56] 处理完成: 0013_0004_before.wav
[2025-11-19 02:25:56] -----------------------------------
[2025-11-19 02:25:56] 开始处理文件: 0013_0009_before.wav
[2025-11-19 02:25:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:25:56] 初始化输出 buffer，总时长 22.15s（354384 samples）
[2025-11-19 02:25:56] 开始发送 0013_0009_before.wav，总帧 1385，时长 22.15s
[2025-11-19 02:25:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:25:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.524, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.419, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.059, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.158, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.339, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的减肥餐单里鸡胸肉要腌制多久'}}
[2025-11-19 02:26:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.343, 'infer_time': 0.18, 'content': '鸡胸肉腌制20分钟即可入味', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.577, 'infer_time': 0.232, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:01] 收到 tts_done, timestamp=5.577s
[2025-11-19 02:26:01] 在 5.58s 插入 TTS（2.96s）
[2025-11-19 02:26:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.456}}
[2025-11-19 02:26:07] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.959, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.33, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.975, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.069, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.158, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的减肥餐单里鸡胸肉要腌制多久'}]}, {'role': 'assistant', 'content': '鸡胸肉腌制20分钟即可入味'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.28, 'turn': 1, 'state': 'LISTEN', 'content': '如何在工作繁忙的情况下保持运动习惯'}}
[2025-11-19 02:26:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.367, 'infer_time': 0.206, 'content': '利用碎片时间做拉伸或快走，积少成多', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的减肥餐单里鸡胸肉要腌制多久'}]}, {'role': 'assistant', 'content': '鸡胸肉腌制20分钟即可入味'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.696, 'infer_time': 0.323, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:09] 收到 tts_done, timestamp=13.696s
[2025-11-19 02:26:09] 在 13.70s 插入 TTS（4.24s）
[2025-11-19 02:26:18] 音频发送完毕，用时 22.46s
[2025-11-19 02:26:18] WebSocket 已关闭，结束接收循环
[2025-11-19 02:26:18] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0013_0009_before_output.wav，时长 22.15s
[2025-11-19 02:26:18] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0013_0009_before_output.wav
[2025-11-19 02:26:18] 处理完成: 0013_0009_before.wav
[2025-11-19 02:26:18] -----------------------------------
[2025-11-19 02:26:18] 开始处理文件: 0013_0031_before.wav
[2025-11-19 02:26:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:26:18] 初始化输出 buffer，总时长 24.70s（395184 samples）
[2025-11-19 02:26:18] 开始发送 0013_0031_before.wav，总帧 1544，时长 24.70s
[2025-11-19 02:26:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.116, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.501, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.438, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.082, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.18, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.393, 'infer_time': 0.208, 'content': '把量子叠加态编成包袱，观众猜不到下一句。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.417, 'turn': 0, 'state': 'LISTEN', 'content': '你昨天说的那个新相声量子力学的包袱是怎么设计的'}}
[2025-11-19 02:26:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.731, 'infer_time': 0.333, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:25] 收到 tts_done, timestamp=6.731s
[2025-11-19 02:26:25] 在 6.73s 插入 TTS（4.34s）
[2025-11-19 02:26:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.662}}
[2025-11-19 02:26:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.967, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:26:30] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.163, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.905, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.55, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.646, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.738, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天说的那个新相声量子力学的包袱是怎么设计的'}]}, {'role': 'assistant', 'content': '把量子叠加态编成包袱，观众猜不到下一句。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.912, 'infer_time': 0.173, 'content': '把量子叠加态编成包袱，观众猜不到下一句。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天说的那个新相声量子力学的包袱是怎么设计的'}]}, {'role': 'assistant', 'content': '把量子叠加态编成包袱，观众猜不到下一句。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.263, 'infer_time': 0.346, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:34] 收到 tts_done, timestamp=16.263s
[2025-11-19 02:26:34] 在 16.26s 插入 TTS（4.55s）
[2025-11-19 02:26:43] 音频发送完毕，用时 25.00s
[2025-11-19 02:26:43] WebSocket 已关闭，结束接收循环
[2025-11-19 02:26:43] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0013_0031_before_output.wav，时长 24.70s
[2025-11-19 02:26:43] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0013_0031_before_output.wav
[2025-11-19 02:26:43] 处理完成: 0013_0031_before.wav
[2025-11-19 02:26:43] -----------------------------------
[2025-11-19 02:26:43] 开始处理文件: 0013_0038_before.wav
[2025-11-19 02:26:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:26:43] 初始化输出 buffer，总时长 23.01s（368128 samples）
[2025-11-19 02:26:43] 开始发送 0013_0038_before.wav，总帧 1438，时长 23.01s
[2025-11-19 02:26:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.238, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.582, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.226, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.327, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.491, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得还珠格格里容嬷嬷是不是最招人恨的角色'}}
[2025-11-19 02:26:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.5, 'infer_time': 0.168, 'content': '容嬷嬷确实挺招人恨的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.69, 'infer_time': 0.187, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:26:49] 收到 tts_done, timestamp=5.69s
[2025-11-19 02:26:49] 在 5.69s 插入 TTS（2.17s）
[2025-11-19 02:26:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.771}}
[2025-11-19 02:26:54] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.273, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.203, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.853, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.947, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.036, 'infer_time': 0.085, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得还珠格格里容嬷嬷是不是最招人恨的角色'}]}, {'role': 'assistant', 'content': '容嬷嬷确实挺招人恨的。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.165, 'infer_time': 0.129, 'content': '容嬷嬷确实挺招人恨的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得还珠格格里容嬷嬷是不是最招人恨的角色'}]}, {'role': 'assistant', 'content': '容嬷嬷确实挺招人恨的。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.352, 'infer_time': 0.184, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:26:58] 收到 tts_done, timestamp=14.352s
[2025-11-19 02:26:58] 在 14.35s 插入 TTS（2.25s）
[2025-11-19 02:27:06] 音频发送完毕，用时 23.32s
[2025-11-19 02:27:06] WebSocket 已关闭，结束接收循环
[2025-11-19 02:27:06] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0013_0038_before_output.wav，时长 23.01s
[2025-11-19 02:27:06] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0013_0038_before_output.wav
[2025-11-19 02:27:06] 处理完成: 0013_0038_before.wav
[2025-11-19 02:27:06] -----------------------------------
[2025-11-19 02:27:06] 开始处理文件: 0014_0015_before.wav
[2025-11-19 02:27:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:27:06] 初始化输出 buffer，总时长 23.64s（378224 samples）
[2025-11-19 02:27:06] 开始发送 0014_0015_before.wav，总帧 1478，时长 23.64s
[2025-11-19 02:27:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.503, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.148, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.244, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.444, 'turn': 0, 'state': 'LISTEN', 'content': '你上周开始的增肌训练体脂率降了多少'}}
[2025-11-19 02:27:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.476, 'infer_time': 0.229, 'content': '增肌减脂效果因人而异，需结合饮食与训练评估。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.839, 'infer_time': 0.359, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:11] 收到 tts_done, timestamp=4.839s
[2025-11-19 02:27:11] 在 4.84s 插入 TTS（4.64s）
[2025-11-19 02:27:15] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.629}}
[2025-11-19 02:27:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.576, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:27:17] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.13, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.927, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.885, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.53, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.632, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.745, 'infer_time': 0.108, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上周开始的增肌训练体脂率降了多少'}]}, {'role': 'assistant', 'content': '增肌减脂效果因人而异，需结合饮食与训练评估。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.944, 'infer_time': 0.199, 'content': '增肌减脂效果因人而异，需结合饮食与训练评估。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上周开始的增肌训练体脂率降了多少'}]}, {'role': 'assistant', 'content': '增肌减脂效果因人而异，需结合饮食与训练评估。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.33, 'infer_time': 0.378, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:22] 收到 tts_done, timestamp=15.33s
[2025-11-19 02:27:22] 在 15.33s 插入 TTS（5.03s）
[2025-11-19 02:27:30] 音频发送完毕，用时 23.95s
[2025-11-19 02:27:30] WebSocket 已关闭，结束接收循环
[2025-11-19 02:27:30] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0014_0015_before_output.wav，时长 23.64s
[2025-11-19 02:27:30] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0014_0015_before_output.wav
[2025-11-19 02:27:30] 处理完成: 0014_0015_before.wav
[2025-11-19 02:27:30] -----------------------------------
[2025-11-19 02:27:30] 开始处理文件: 0014_0022_before.wav
[2025-11-19 02:27:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:27:30] 初始化输出 buffer，总时长 24.71s（395344 samples）
[2025-11-19 02:27:30] 开始发送 0014_0022_before.wav，总帧 1545，时长 24.71s
[2025-11-19 02:27:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.483, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.128, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.229, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.412, 'infer_time': 0.178, 'content': '乳清蛋白吸收更快，适合健身后补充。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.421, 'turn': 0, 'state': 'LISTEN', 'content': '你健身后的蛋白粉是乳清蛋白还是植物蛋白'}}
[2025-11-19 02:27:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.679, 'infer_time': 0.262, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:36] 收到 tts_done, timestamp=5.679s
[2025-11-19 02:27:36] 在 5.68s 插入 TTS（3.20s）
[2025-11-19 02:27:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.611}}
[2025-11-19 02:27:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.114, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.432, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.009, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.657, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.761, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.857, 'infer_time': 0.092, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你健身后的蛋白粉是乳清蛋白还是植物蛋白'}]}, {'role': 'assistant', 'content': '乳清蛋白吸收更快，适合健身后补充。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.998, 'infer_time': 0.14, 'content': '乳清蛋白吸收更快，适合健身后补充。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你健身后的蛋白粉是乳清蛋白还是植物蛋白'}]}, {'role': 'assistant', 'content': '乳清蛋白吸收更快，适合健身后补充。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.261, 'infer_time': 0.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:27:47] 收到 tts_done, timestamp=16.261s
[2025-11-19 02:27:47] 在 16.26s 插入 TTS（3.28s）
[2025-11-19 02:27:55] 音频发送完毕，用时 25.04s
[2025-11-19 02:27:55] WebSocket 已关闭，结束接收循环
[2025-11-19 02:27:55] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0014_0022_before_output.wav，时长 24.71s
[2025-11-19 02:27:55] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0014_0022_before_output.wav
[2025-11-19 02:27:55] 处理完成: 0014_0022_before.wav
[2025-11-19 02:27:55] -----------------------------------
[2025-11-19 02:27:55] 开始处理文件: 0014_0027_before.wav
[2025-11-19 02:27:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:27:55] 初始化输出 buffer，总时长 22.82s（365104 samples）
[2025-11-19 02:27:55] 开始发送 0014_0027_before.wav，总帧 1427，时长 22.82s
[2025-11-19 02:27:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:27:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.669, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.412, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.612, 'infer_time': 0.197, 'content': '一般包200到500元比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.623, 'turn': 0, 'state': 'LISTEN', 'content': '你表姐下个月婚礼的礼金准备包多少'}}
[2025-11-19 02:28:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.831, 'infer_time': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:00] 收到 tts_done, timestamp=4.831s
[2025-11-19 02:28:00] 在 4.83s 插入 TTS（2.52s）
[2025-11-19 02:28:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.764}}
[2025-11-19 02:28:06] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.266, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.075, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.719, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.819, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.916, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你表姐下个月婚礼的礼金准备包多少'}]}, {'role': 'assistant', 'content': '一般包200到500元比较合适。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.076, 'turn': 1, 'state': 'LISTEN', 'content': '最近工作压力大有什么快速缓解焦虑的小技巧吗'}}
[2025-11-19 02:28:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.106, 'infer_time': 0.185, 'content': '深呼吸几次，或者出去走走散散步。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你表姐下个月婚礼的礼金准备包多少'}]}, {'role': 'assistant', 'content': '一般包200到500元比较合适。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.388, 'infer_time': 0.276, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:10] 收到 tts_done, timestamp=14.388s
[2025-11-19 02:28:10] 在 14.39s 插入 TTS（3.61s）
[2025-11-19 02:28:19] 音频发送完毕，用时 23.10s
[2025-11-19 02:28:19] WebSocket 已关闭，结束接收循环
[2025-11-19 02:28:19] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0014_0027_before_output.wav，时长 22.82s
[2025-11-19 02:28:19] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0014_0027_before_output.wav
[2025-11-19 02:28:19] 处理完成: 0014_0027_before.wav
[2025-11-19 02:28:19] -----------------------------------
[2025-11-19 02:28:19] 开始处理文件: 0015_0008_before.wav
[2025-11-19 02:28:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:28:19] 初始化输出 buffer，总时长 22.75s（363984 samples）
[2025-11-19 02:28:19] 开始发送 0015_0008_before.wav，总帧 1422，时长 22.75s
[2025-11-19 02:28:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.685, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.334, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.434, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.62, 'infer_time': 0.181, 'content': '好的，马利油画颜料是不错的选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.664, 'turn': 0, 'state': 'LISTEN', 'content': '你昨天提到的油画颜料品牌能再推荐一次吗'}}
[2025-11-19 02:28:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.858, 'infer_time': 0.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:24] 收到 tts_done, timestamp=5.858s
[2025-11-19 02:28:24] 在 5.86s 插入 TTS（3.04s）
[2025-11-19 02:28:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.015}}
[2025-11-19 02:28:30] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.518, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.085, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.73, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.824, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.913, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天提到的油画颜料品牌能再推荐一次吗'}]}, {'role': 'assistant', 'content': '好的，马利油画颜料是不错的选择。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.054, 'infer_time': 0.14, 'content': '好的，马利油画颜料是不错的选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你昨天提到的油画颜料品牌能再推荐一次吗'}]}, {'role': 'assistant', 'content': '好的，马利油画颜料是不错的选择。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.325, 'infer_time': 0.266, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:33] 收到 tts_done, timestamp=14.325s
[2025-11-19 02:28:33] 在 14.32s 插入 TTS（3.29s）
[2025-11-19 02:28:42] 音频发送完毕，用时 23.19s
[2025-11-19 02:28:42] WebSocket 已关闭，结束接收循环
[2025-11-19 02:28:42] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0015_0008_before_output.wav，时长 22.75s
[2025-11-19 02:28:42] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0015_0008_before_output.wav
[2025-11-19 02:28:42] 处理完成: 0015_0008_before.wav
[2025-11-19 02:28:42] -----------------------------------
[2025-11-19 02:28:42] 开始处理文件: 0015_0028_before.wav
[2025-11-19 02:28:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:28:42] 初始化输出 buffer，总时长 23.73s（379664 samples）
[2025-11-19 02:28:42] 开始发送 0015_0028_before.wav，总帧 1484，时长 23.73s
[2025-11-19 02:28:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.527, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.01, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.655, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.761, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.938, 'infer_time': 0.172, 'content': '计划已开始实施，坚持训练会有突破。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.948, 'turn': 0, 'state': 'LISTEN', 'content': '你上次说的卧推重量突破计划开始实施了吗'}}
[2025-11-19 02:28:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.227, 'infer_time': 0.283, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:28:49] 收到 tts_done, timestamp=7.227s
[2025-11-19 02:28:49] 在 7.23s 插入 TTS（3.57s）
[2025-11-19 02:28:53] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.278}}
[2025-11-19 02:28:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.782, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.022, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.666, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.761, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.853, 'infer_time': 0.087, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的卧推重量突破计划开始实施了吗'}]}, {'role': 'assistant', 'content': '计划已开始实施，坚持训练会有突破。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.987, 'infer_time': 0.133, 'content': '计划已开始实施，坚持训练会有突破。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你上次说的卧推重量突破计划开始实施了吗'}]}, {'role': 'assistant', 'content': '计划已开始实施，坚持训练会有突破。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.29, 'infer_time': 0.299, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:28:57] 收到 tts_done, timestamp=15.29s
[2025-11-19 02:28:57] 在 15.29s 插入 TTS（3.87s）
[2025-11-19 02:29:06] 音频发送完毕，用时 24.10s
[2025-11-19 02:29:06] WebSocket 已关闭，结束接收循环
[2025-11-19 02:29:06] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0015_0028_before_output.wav，时长 23.73s
[2025-11-19 02:29:06] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0015_0028_before_output.wav
[2025-11-19 02:29:06] 处理完成: 0015_0028_before.wav
[2025-11-19 02:29:06] -----------------------------------
[2025-11-19 02:29:06] 开始处理文件: 0015_0031_before.wav
[2025-11-19 02:29:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:29:06] 初始化输出 buffer，总时长 22.23s（355664 samples）
[2025-11-19 02:29:06] 开始发送 0015_0031_before.wav，总帧 1390，时长 22.23s
[2025-11-19 02:29:06] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.372, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.017, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.108, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.25, 'infer_time': 0.138, 'content': '我无法查询实时机票信息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.364, 'turn': 0, 'state': 'LISTEN', 'content': '暑假带孩子去三亚的机票你查过了吗'}}
[2025-11-19 02:29:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.445, 'infer_time': 0.19, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:10] 收到 tts_done, timestamp=4.445s
[2025-11-19 02:29:10] 在 4.45s 插入 TTS（2.27s）
[2025-11-19 02:29:15] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.773}}
[2025-11-19 02:29:16] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.287, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.592, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.24, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.337, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.424, 'infer_time': 0.083, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '暑假带孩子去三亚的机票你查过了吗'}]}, {'role': 'assistant', 'content': '我无法查询实时机票信息。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.53, 'infer_time': 0.106, 'content': '我无法查询实时机票信息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '暑假带孩子去三亚的机票你查过了吗'}]}, {'role': 'assistant', 'content': '我无法查询实时机票信息。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.735, 'infer_time': 0.2, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:20] 收到 tts_done, timestamp=13.735s
[2025-11-19 02:29:20] 在 13.73s 插入 TTS（2.44s）
[2025-11-19 02:29:29] 音频发送完毕，用时 22.72s
[2025-11-19 02:29:29] WebSocket 已关闭，结束接收循环
[2025-11-19 02:29:29] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0015_0031_before_output.wav，时长 22.23s
[2025-11-19 02:29:29] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0015_0031_before_output.wav
[2025-11-19 02:29:29] 处理完成: 0015_0031_before.wav
[2025-11-19 02:29:29] -----------------------------------
[2025-11-19 02:29:29] 开始处理文件: 0015_0034_before.wav
[2025-11-19 02:29:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:29:29] 初始化输出 buffer，总时长 23.73s（379664 samples）
[2025-11-19 02:29:29] 开始发送 0015_0034_before.wav，总帧 1484，时长 23.73s
[2025-11-19 02:29:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.652, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.303, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.403, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.55, 'infer_time': 0.142, 'content': '谢谢，我不能品尝咖啡。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.649, 'turn': 0, 'state': 'LISTEN', 'content': '你要尝尝我刚磨的哥伦比亚手冲咖啡吗'}}
[2025-11-19 02:29:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.772, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:34] 收到 tts_done, timestamp=5.772s
[2025-11-19 02:29:34] 在 5.77s 插入 TTS（2.64s）
[2025-11-19 02:29:39] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.013}}
[2025-11-19 02:29:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.524, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.273, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.32, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.968, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.066, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.159, 'infer_time': 0.088, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你要尝尝我刚磨的哥伦比亚手冲咖啡吗'}]}, {'role': 'assistant', 'content': '谢谢，我不能品尝咖啡。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.265, 'infer_time': 0.106, 'content': '谢谢，我不能品尝咖啡。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你要尝尝我刚磨的哥伦比亚手冲咖啡吗'}]}, {'role': 'assistant', 'content': '谢谢，我不能品尝咖啡。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.469, 'infer_time': 0.199, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:29:44] 收到 tts_done, timestamp=15.469s
[2025-11-19 02:29:44] 在 15.47s 插入 TTS（2.50s）
[2025-11-19 02:29:53] 音频发送完毕，用时 24.46s
[2025-11-19 02:29:53] WebSocket 已关闭，结束接收循环
[2025-11-19 02:29:53] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0015_0034_before_output.wav，时长 23.73s
[2025-11-19 02:29:53] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0015_0034_before_output.wav
[2025-11-19 02:29:53] 处理完成: 0015_0034_before.wav
[2025-11-19 02:29:53] -----------------------------------
[2025-11-19 02:29:53] 开始处理文件: 0015_0036_before.wav
[2025-11-19 02:29:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:29:53] 初始化输出 buffer，总时长 20.31s（324928 samples）
[2025-11-19 02:29:53] 开始发送 0015_0036_before.wav，总帧 1270，时长 20.31s
[2025-11-19 02:29:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.062, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.711, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.803, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.93, 'turn': 0, 'state': 'LISTEN', 'content': '你下月去三亚的机票订好了吗'}}
[2025-11-19 02:29:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.961, 'infer_time': 0.155, 'content': '机票已订好，准备出发啦！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.159, 'infer_time': 0.192, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:29:57] 收到 tts_done, timestamp=4.159s
[2025-11-19 02:29:57] 在 4.16s 插入 TTS（2.22s）
[2025-11-19 02:30:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.49}}
[2025-11-19 02:30:03] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.003, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.694, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.343, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.433, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.517, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你下月去三亚的机票订好了吗'}]}, {'role': 'assistant', 'content': '机票已订好，准备出发啦！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.668, 'turn': 1, 'state': 'LISTEN', 'content': '总是抢二宝的玩具怎么办'}}
[2025-11-19 02:30:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.723, 'infer_time': 0.202, 'content': '可以试试轮流玩，或者给大宝也准备些玩具。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你下月去三亚的机票订好了吗'}]}, {'role': 'assistant', 'content': '机票已订好，准备出发啦！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.033, 'infer_time': 0.304, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:05] 收到 tts_done, timestamp=12.033s
[2025-11-19 02:30:05] 在 12.03s 插入 TTS（3.97s）
[2025-11-19 02:30:14] 音频发送完毕，用时 20.84s
[2025-11-19 02:30:14] WebSocket 已关闭，结束接收循环
[2025-11-19 02:30:14] 已保存对齐音频: exp/exp13/dev_zh/Third-party Speech_before/0015_0036_before_output.wav，时长 20.31s
[2025-11-19 02:30:14] 已保存 TTS 输出: exp/exp13/dev_zh/Third-party Speech_before/0015_0036_before_output.wav
[2025-11-19 02:30:14] 处理完成: 0015_0036_before.wav
[2025-11-19 02:30:14] -----------------------------------
[2025-11-19 02:30:14] 
进入目录: Topic Switching
[2025-11-19 02:30:14] 开始处理文件: 0001_0017.wav
[2025-11-19 02:30:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:30:14] 初始化输出 buffer，总时长 22.58s（361280 samples）
[2025-11-19 02:30:14] 开始发送 0001_0017.wav，总帧 1412，时长 22.58s
[2025-11-19 02:30:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.912, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.007, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.138, 'turn': 0, 'state': 'LISTEN', 'content': '纹铁环有什么技巧可以保持平衡'}}
[2025-11-19 02:30:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.169, 'infer_time': 0.158, 'content': '重心放低，手臂摆动协调。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.43, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:18] 收到 tts_done, timestamp=4.43s
[2025-11-19 02:30:18] 在 4.43s 插入 TTS（3.21s）
[2025-11-19 02:30:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.501}}
[2025-11-19 02:30:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.549, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:30:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.013, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.981, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.062, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.711, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.806, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.897, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纹铁环有什么技巧可以保持平衡'}]}, {'role': 'assistant', 'content': '重心放低，手臂摆动协调。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.05, 'turn': 1, 'state': 'LISTEN', 'content': '别说这个了最近交通拥堵挺严重的聊聊这个吧'}}
[2025-11-19 02:30:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.074, 'infer_time': 0.173, 'content': '避开早晚高峰，公交地铁更省心。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '纹铁环有什么技巧可以保持平衡'}]}, {'role': 'assistant', 'content': '重心放低，手臂摆动协调。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.326, 'infer_time': 0.246, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:28] 收到 tts_done, timestamp=14.326s
[2025-11-19 02:30:28] 在 14.33s 插入 TTS（3.19s）
[2025-11-19 02:30:37] 音频发送完毕，用时 23.25s
[2025-11-19 02:30:37] WebSocket 已关闭，结束接收循环
[2025-11-19 02:30:37] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0001_0017_output.wav，时长 22.58s
[2025-11-19 02:30:37] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0001_0017_output.wav
[2025-11-19 02:30:37] 处理完成: 0001_0017.wav
[2025-11-19 02:30:37] -----------------------------------
[2025-11-19 02:30:37] 开始处理文件: 0001_0026.wav
[2025-11-19 02:30:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:30:37] 初始化输出 buffer，总时长 21.44s（343040 samples）
[2025-11-19 02:30:37] 开始发送 0001_0026.wav，总帧 1340，时长 21.44s
[2025-11-19 02:30:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.346, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.999, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.091, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.226, 'turn': 0, 'state': 'LISTEN', 'content': '校园卡密码忘了怎么办'}}
[2025-11-19 02:30:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.235, 'infer_time': 0.14, 'content': '联系校园卡服务中心重置密码。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.458, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:30:41] 收到 tts_done, timestamp=3.458s
[2025-11-19 02:30:41] 在 3.46s 插入 TTS（2.64s）
[2025-11-19 02:30:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.633}}
[2025-11-19 02:30:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.851, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:30:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.148, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.861, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.511, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.607, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.698, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园卡密码忘了怎么办'}]}, {'role': 'assistant', 'content': '联系校园卡服务中心重置密码。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.882, 'infer_time': 0.179, 'content': '倾听是沟通的基础，理解对方才能有效交流。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '校园卡密码忘了怎么办'}]}, {'role': 'assistant', 'content': '联系校园卡服务中心重置密码。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.888, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想聊聊关于语言沟通的技巧'}}
[2025-11-19 02:30:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.238, 'infer_time': 0.35, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:30:51] 收到 tts_done, timestamp=13.238s
[2025-11-19 02:30:51] 在 13.24s 插入 TTS（4.39s）
[2025-11-19 02:30:59] 音频发送完毕，用时 22.04s
[2025-11-19 02:30:59] WebSocket 已关闭，结束接收循环
[2025-11-19 02:30:59] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0001_0026_output.wav，时长 21.44s
[2025-11-19 02:30:59] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0001_0026_output.wav
[2025-11-19 02:30:59] 处理完成: 0001_0026.wav
[2025-11-19 02:30:59] -----------------------------------
[2025-11-19 02:30:59] 开始处理文件: 0001_0033.wav
[2025-11-19 02:30:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:30:59] 初始化输出 buffer，总时长 24.45s（391198 samples）
[2025-11-19 02:30:59] 开始发送 0001_0033.wav，总帧 1529，时长 24.45s
[2025-11-19 02:30:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.53, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.959, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.603, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.702, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.835, 'turn': 0, 'state': 'LISTEN', 'content': '最近想买车能帮我分析一下运势吗'}}
[2025-11-19 02:31:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.869, 'infer_time': 0.162, 'content': '买车需结合自身需求，运势仅供参考。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.187, 'infer_time': 0.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:05] 收到 tts_done, timestamp=5.187s
[2025-11-19 02:31:05] 在 5.19s 插入 TTS（4.08s）
[2025-11-19 02:31:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.308}}
[2025-11-19 02:31:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.56, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:31:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.905, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.059, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.709, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.811, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.904, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近想买车能帮我分析一下运势吗'}]}, {'role': 'assistant', 'content': '买车需结合自身需求，运势仅供参考。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.073, 'infer_time': 0.164, 'content': '平台最近有新能源车限时补贴活动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近想买车能帮我分析一下运势吗'}]}, {'role': 'assistant', 'content': '买车需结合自身需求，运势仅供参考。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.083, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想知道你们平台最近有什么限时抢购活动'}}
[2025-11-19 02:31:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.313, 'infer_time': 0.234, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:16] 收到 tts_done, timestamp=16.313s
[2025-11-19 02:31:16] 在 16.31s 插入 TTS（2.93s）
[2025-11-19 02:31:25] 音频发送完毕，用时 25.22s
[2025-11-19 02:31:25] WebSocket 已关闭，结束接收循环
[2025-11-19 02:31:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0001_0033_output.wav，时长 24.45s
[2025-11-19 02:31:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0001_0033_output.wav
[2025-11-19 02:31:25] 处理完成: 0001_0033.wav
[2025-11-19 02:31:25] -----------------------------------
[2025-11-19 02:31:25] 开始处理文件: 0001_0035.wav
[2025-11-19 02:31:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:31:25] 初始化输出 buffer，总时长 22.03s（352479 samples）
[2025-11-19 02:31:25] 开始发送 0001_0035.wav，总帧 1377，时长 22.03s
[2025-11-19 02:31:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.376, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.02, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.111, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.27, 'infer_time': 0.155, 'content': '规律作息，学会自我觉察与接纳', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.297, 'turn': 0, 'state': 'LISTEN', 'content': '如何提高情绪稳定性'}}
[2025-11-19 02:31:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.519, 'infer_time': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:28] 收到 tts_done, timestamp=3.519s
[2025-11-19 02:31:28] 在 3.52s 插入 TTS（3.09s）
[2025-11-19 02:31:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.69}}
[2025-11-19 02:31:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.874, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:31:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.205, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.43, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.079, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.177, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.269, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何提高情绪稳定性'}]}, {'role': 'assistant', 'content': '规律作息，学会自我觉察与接纳'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.446, 'infer_time': 0.172, 'content': '评估需求，规划储蓄，选择合适投资方式', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何提高情绪稳定性'}]}, {'role': 'assistant', 'content': '规律作息，学会自我觉察与接纳'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.476, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下退休计划该怎么制定'}}
[2025-11-19 02:31:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.776, 'infer_time': 0.325, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:38] 收到 tts_done, timestamp=13.776s
[2025-11-19 02:31:38] 在 13.78s 插入 TTS（4.31s）
[2025-11-19 02:31:47] 音频发送完毕，用时 22.66s
[2025-11-19 02:31:47] WebSocket 已关闭，结束接收循环
[2025-11-19 02:31:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0001_0035_output.wav，时长 22.03s
[2025-11-19 02:31:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0001_0035_output.wav
[2025-11-19 02:31:47] 处理完成: 0001_0035.wav
[2025-11-19 02:31:47] -----------------------------------
[2025-11-19 02:31:47] 开始处理文件: 0002_0001.wav
[2025-11-19 02:31:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:31:47] 初始化输出 buffer，总时长 21.35s（341601 samples）
[2025-11-19 02:31:47] 开始发送 0002_0001.wav，总帧 1335，时长 21.35s
[2025-11-19 02:31:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.025, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.58, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.231, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.326, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.448, 'turn': 0, 'state': 'LISTEN', 'content': '焦裕禄是如何治理兰考封杀的'}}
[2025-11-19 02:31:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.53, 'infer_time': 0.2, 'content': '焦裕禄带领群众植树固沙，科学治理风沙。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.848, 'infer_time': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:31:51] 收到 tts_done, timestamp=3.848s
[2025-11-19 02:31:51] 在 3.85s 插入 TTS（3.98s）
[2025-11-19 02:31:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.913}}
[2025-11-19 02:31:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.416, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.984, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:31:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.754, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.402, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.5, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.598, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '焦裕禄是如何治理兰考封杀的'}]}, {'role': 'assistant', 'content': '焦裕禄带领群众植树固沙，科学治理风沙。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.755, 'infer_time': 0.153, 'content': '城市道路拓宽规划正有序推进中。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '焦裕禄是如何治理兰考封杀的'}]}, {'role': 'assistant', 'content': '焦裕禄带领群众植树固沙，科学治理风沙。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.787, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了说说最近城市道路拓宽的规划吧'}}
[2025-11-19 02:32:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.014, 'infer_time': 0.254, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:00] 收到 tts_done, timestamp=13.014s
[2025-11-19 02:32:00] 在 13.01s 插入 TTS（3.24s）
[2025-11-19 02:32:09] 音频发送完毕，用时 21.91s
[2025-11-19 02:32:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:32:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0002_0001_output.wav，时长 21.35s
[2025-11-19 02:32:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0002_0001_output.wav
[2025-11-19 02:32:09] 处理完成: 0002_0001.wav
[2025-11-19 02:32:09] -----------------------------------
[2025-11-19 02:32:09] 开始处理文件: 0002_0003.wav
[2025-11-19 02:32:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:32:09] 初始化输出 buffer，总时长 20.95s（335200 samples）
[2025-11-19 02:32:09] 开始发送 0002_0003.wav，总帧 1310，时长 20.95s
[2025-11-19 02:32:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.76, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.854, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.989, 'turn': 0, 'state': 'LISTEN', 'content': '如果我在重要场合说错话了该怎么办'}}
[2025-11-19 02:32:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.036, 'infer_time': 0.177, 'content': '保持冷静，微笑致歉，迅速转移话题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.346, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:14] 收到 tts_done, timestamp=4.346s
[2025-11-19 02:32:14] 在 4.35s 插入 TTS（4.02s）
[2025-11-19 02:32:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.372}}
[2025-11-19 02:32:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.214, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:32:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.89, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.275, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.923, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.016, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.104, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果我在重要场合说错话了该怎么办'}]}, {'role': 'assistant', 'content': '保持冷静，微笑致歉，迅速转移话题。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.225, 'turn': 1, 'state': 'LISTEN', 'content': '你说这个了周末有个聚会你会参加吗'}}
[2025-11-19 02:32:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.293, 'infer_time': 0.185, 'content': '周末聚会我可能去不了，有事要处理。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果我在重要场合说错话了该怎么办'}]}, {'role': 'assistant', 'content': '保持冷静，微笑致歉，迅速转移话题。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.58, 'infer_time': 0.281, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:22] 收到 tts_done, timestamp=12.58s
[2025-11-19 02:32:22] 在 12.58s 插入 TTS（3.74s）
[2025-11-19 02:32:31] 音频发送完毕，用时 21.48s
[2025-11-19 02:32:31] WebSocket 已关闭，结束接收循环
[2025-11-19 02:32:31] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0002_0003_output.wav，时长 20.95s
[2025-11-19 02:32:31] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0002_0003_output.wav
[2025-11-19 02:32:31] 处理完成: 0002_0003.wav
[2025-11-19 02:32:31] -----------------------------------
[2025-11-19 02:32:31] 开始处理文件: 0002_0005.wav
[2025-11-19 02:32:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:32:31] 初始化输出 buffer，总时长 21.03s（336480 samples）
[2025-11-19 02:32:31] 开始发送 0002_0005.wav，总帧 1315，时长 21.03s
[2025-11-19 02:32:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.707, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.359, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.45, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.597, 'infer_time': 0.142, 'content': '这是人类进化中形成的本能反应。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.621, 'turn': 0, 'state': 'LISTEN', 'content': '为什么很多人天生就怕蛇'}}
[2025-11-19 02:32:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.814, 'infer_time': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:35] 收到 tts_done, timestamp=3.814s
[2025-11-19 02:32:35] 在 3.81s 插入 TTS（2.73s）
[2025-11-19 02:32:39] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.006}}
[2025-11-19 02:32:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.512, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.419, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.068, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.163, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.253, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么很多人天生就怕蛇'}]}, {'role': 'assistant', 'content': '这是人类进化中形成的本能反应。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.381, 'turn': 1, 'state': 'LISTEN', 'content': '别说蛇了我最近停车特别困难聊聊这个吧'}}
[2025-11-19 02:32:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.432, 'infer_time': 0.175, 'content': '停车难确实让人头疼，有什么具体困扰吗？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么很多人天生就怕蛇'}]}, {'role': 'assistant', 'content': '这是人类进化中形成的本能反应。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.722, 'infer_time': 0.284, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:32:43] 收到 tts_done, timestamp=12.722s
[2025-11-19 02:32:43] 在 12.72s 插入 TTS（3.72s）
[2025-11-19 02:32:52] 音频发送完毕，用时 21.57s
[2025-11-19 02:32:52] WebSocket 已关闭，结束接收循环
[2025-11-19 02:32:52] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0002_0005_output.wav，时长 21.03s
[2025-11-19 02:32:52] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0002_0005_output.wav
[2025-11-19 02:32:52] 处理完成: 0002_0005.wav
[2025-11-19 02:32:52] -----------------------------------
[2025-11-19 02:32:52] 开始处理文件: 0002_0012.wav
[2025-11-19 02:32:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:32:52] 初始化输出 buffer，总时长 24.04s（384641 samples）
[2025-11-19 02:32:52] 开始发送 0002_0012.wav，总帧 1503，时长 24.04s
[2025-11-19 02:32:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.765, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.414, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.514, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.679, 'infer_time': 0.159, 'content': '人生转折常源于意外或主动选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.686, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得人生的转器转折点通常是怎么出现的'}}
[2025-11-19 02:32:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.936, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:32:58] 收到 tts_done, timestamp=5.936s
[2025-11-19 02:32:58] 在 5.94s 插入 TTS（3.19s）
[2025-11-19 02:33:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.051}}
[2025-11-19 02:33:04] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.555, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.547, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.194, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.296, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.389, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得人生的转器转折点通常是怎么出现的'}]}, {'role': 'assistant', 'content': '人生转折常源于意外或主动选择。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.54, 'turn': 1, 'state': 'LISTEN', 'content': '等等聊这些太沉重了说说你推荐的跨年旅行目的地吧'}}
[2025-11-19 02:33:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.574, 'infer_time': 0.181, 'content': '推荐北海道，雪景美还能泡温泉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得人生的转器转折点通常是怎么出现的'}]}, {'role': 'assistant', 'content': '人生转折常源于意外或主动选择。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.843, 'infer_time': 0.263, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:08] 收到 tts_done, timestamp=15.843s
[2025-11-19 02:33:08] 在 15.84s 插入 TTS（3.36s）
[2025-11-19 02:33:17] 音频发送完毕，用时 24.72s
[2025-11-19 02:33:17] WebSocket 已关闭，结束接收循环
[2025-11-19 02:33:17] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0002_0012_output.wav，时长 24.04s
[2025-11-19 02:33:17] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0002_0012_output.wav
[2025-11-19 02:33:17] 处理完成: 0002_0012.wav
[2025-11-19 02:33:17] -----------------------------------
[2025-11-19 02:33:17] 开始处理文件: 0003_0003_add.wav
[2025-11-19 02:33:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:33:17] 初始化输出 buffer，总时长 21.01s（336160 samples）
[2025-11-19 02:33:17] 开始发送 0003_0003_add.wav，总帧 1314，时长 21.01s
[2025-11-19 02:33:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.929, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.022, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.184, 'turn': 0, 'state': 'LISTEN', 'content': '冒险活动有哪些优缺点'}}
[2025-11-19 02:33:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.205, 'infer_time': 0.181, 'content': '冒险活动能锻炼胆量，但存在安全风险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.527, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:21] 收到 tts_done, timestamp=3.527s
[2025-11-19 02:33:21] 在 3.53s 插入 TTS（4.18s）
[2025-11-19 02:33:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.379}}
[2025-11-19 02:33:26] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 8.887, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.514, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.162, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.392, 'infer_time': 0.226, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.487, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '冒险活动有哪些优缺点'}]}, {'role': 'assistant', 'content': '冒险活动能锻炼胆量，但存在安全风险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.648, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下如何养成早起的好习惯'}}
[2025-11-19 02:33:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.701, 'infer_time': 0.209, 'content': '早睡是早起的前提，循序渐进调整作息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '冒险活动有哪些优缺点'}]}, {'role': 'assistant', 'content': '冒险活动能锻炼胆量，但存在安全风险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.039, 'infer_time': 0.333, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:30] 收到 tts_done, timestamp=13.039s
[2025-11-19 02:33:30] 在 13.04s 插入 TTS（4.35s）
[2025-11-19 02:33:39] 音频发送完毕，用时 21.58s
[2025-11-19 02:33:39] WebSocket 已关闭，结束接收循环
[2025-11-19 02:33:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0003_add_output.wav，时长 21.01s
[2025-11-19 02:33:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0003_add_output.wav
[2025-11-19 02:33:39] 处理完成: 0003_0003_add.wav
[2025-11-19 02:33:39] -----------------------------------
[2025-11-19 02:33:39] 开始处理文件: 0003_0006_add.wav
[2025-11-19 02:33:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:33:39] 初始化输出 buffer，总时长 23.66s（378560 samples）
[2025-11-19 02:33:39] 开始发送 0003_0006_add.wav，总帧 1479，时长 23.66s
[2025-11-19 02:33:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.043, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.618, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.361, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.501, 'infer_time': 0.136, 'content': '深呼吸放松，转移注意力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.508, 'turn': 0, 'state': 'LISTEN', 'content': '如何快速调节焦虑情绪'}}
[2025-11-19 02:33:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.726, 'infer_time': 0.221, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:33:42] 收到 tts_done, timestamp=3.726s
[2025-11-19 02:33:42] 在 3.73s 插入 TTS（2.76s）
[2025-11-19 02:33:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.718}}
[2025-11-19 02:33:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.593, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:33:48] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.219, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.877, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.529, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.617, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.532, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.849, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.69, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.258, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.906, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.01, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.122, 'infer_time': 0.107, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何快速调节焦虑情绪'}]}, {'role': 'assistant', 'content': '深呼吸放松，转移注意力。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.303, 'infer_time': 0.174, 'content': '用修复画笔或内容感知填充工具。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何快速调节焦虑情绪'}]}, {'role': 'assistant', 'content': '深呼吸放松，转移注意力。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.367, 'turn': 1, 'state': 'LISTEN', 'content': '先停一下我想了解一下 photoshop 怎么修掉图片的杂物'}}
[2025-11-19 02:33:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.557, 'infer_time': 0.249, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:33:54] 收到 tts_done, timestamp=15.557s
[2025-11-19 02:33:54] 在 15.56s 插入 TTS（3.17s）
[2025-11-19 02:34:03] 音频发送完毕，用时 24.31s
[2025-11-19 02:34:03] WebSocket 已关闭，结束接收循环
[2025-11-19 02:34:03] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0006_add_output.wav，时长 23.66s
[2025-11-19 02:34:03] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0006_add_output.wav
[2025-11-19 02:34:03] 处理完成: 0003_0006_add.wav
[2025-11-19 02:34:03] -----------------------------------
[2025-11-19 02:34:03] 开始处理文件: 0003_0008_add.wav
[2025-11-19 02:34:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:34:03] 初始化输出 buffer，总时长 20.49s（327840 samples）
[2025-11-19 02:34:03] 开始发送 0003_0008_add.wav，总帧 1281，时长 20.49s
[2025-11-19 02:34:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.072, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.197, 'turn': 0, 'state': 'LISTEN', 'content': '布洛芬和降压药一起吃会有影响吗'}}
[2025-11-19 02:34:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.237, 'infer_time': 0.16, 'content': '最好分开服用，避免影响药效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.452, 'infer_time': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:07] 收到 tts_done, timestamp=4.452s
[2025-11-19 02:34:07] 在 4.45s 插入 TTS（2.63s）
[2025-11-19 02:34:11] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.459}}
[2025-11-19 02:34:13] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.964, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.924, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.573, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.665, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.751, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '布洛芬和降压药一起吃会有影响吗'}]}, {'role': 'assistant', 'content': '最好分开服用，避免影响药效。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.856, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊京剧吧'}}
[2025-11-19 02:34:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.941, 'infer_time': 0.186, 'content': '京剧是国粹，唱念做打很精彩。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '布洛芬和降压药一起吃会有影响吗'}]}, {'role': 'assistant', 'content': '最好分开服用，避免影响药效。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.208, 'infer_time': 0.261, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:15] 收到 tts_done, timestamp=12.208s
[2025-11-19 02:34:15] 在 12.21s 插入 TTS（3.34s）
[2025-11-19 02:34:24] 音频发送完毕，用时 21.01s
[2025-11-19 02:34:24] WebSocket 已关闭，结束接收循环
[2025-11-19 02:34:24] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0008_add_output.wav，时长 20.49s
[2025-11-19 02:34:24] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0008_add_output.wav
[2025-11-19 02:34:24] 处理完成: 0003_0008_add.wav
[2025-11-19 02:34:24] -----------------------------------
[2025-11-19 02:34:24] 开始处理文件: 0003_0012_add.wav
[2025-11-19 02:34:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:34:24] 初始化输出 buffer，总时长 22.32s（357120 samples）
[2025-11-19 02:34:24] 开始发送 0003_0012_add.wav，总帧 1395，时长 22.32s
[2025-11-19 02:34:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.533, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.183, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.28, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.444, 'infer_time': 0.159, 'content': '先列清单，按重要性排序。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.455, 'turn': 0, 'state': 'LISTEN', 'content': '面对多个选项时总是犹豫不决怎么办'}}
[2025-11-19 02:34:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.668, 'infer_time': 0.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:29] 收到 tts_done, timestamp=4.668s
[2025-11-19 02:34:29] 在 4.67s 插入 TTS（2.73s）
[2025-11-19 02:34:33] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.627}}
[2025-11-19 02:34:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.129, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.891, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.54, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.64, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.734, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '面对多个选项时总是犹豫不决怎么办'}]}, {'role': 'assistant', 'content': '先列清单，按重要性排序。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.917, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了聊聊游戏里有哪些有趣的互动方式吧'}}
[2025-11-19 02:34:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.954, 'infer_time': 0.216, 'content': '组队副本、公会战、交易行都挺好玩的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '面对多个选项时总是犹豫不决怎么办'}]}, {'role': 'assistant', 'content': '先列清单，按重要性排序。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.267, 'infer_time': 0.308, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:38] 收到 tts_done, timestamp=14.267s
[2025-11-19 02:34:38] 在 14.27s 插入 TTS（3.91s）
[2025-11-19 02:34:47] 音频发送完毕，用时 22.94s
[2025-11-19 02:34:47] WebSocket 已关闭，结束接收循环
[2025-11-19 02:34:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0012_add_output.wav，时长 22.32s
[2025-11-19 02:34:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0012_add_output.wav
[2025-11-19 02:34:47] 处理完成: 0003_0012_add.wav
[2025-11-19 02:34:47] -----------------------------------
[2025-11-19 02:34:47] 开始处理文件: 0003_0013_add.wav
[2025-11-19 02:34:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:34:47] 初始化输出 buffer，总时长 21.48s（343680 samples）
[2025-11-19 02:34:47] 开始发送 0003_0013_add.wav，总帧 1343，时长 21.48s
[2025-11-19 02:34:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.002, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.097, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.232, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几首经典的怀旧电影歌曲吗'}}
[2025-11-19 02:34:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.297, 'infer_time': 0.196, 'content': '《月亮代表我的心》《甜蜜蜜》《上海滩》', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.558, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:34:51] 收到 tts_done, timestamp=4.558s
[2025-11-19 02:34:51] 在 4.56s 插入 TTS（3.15s）
[2025-11-19 02:34:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.519}}
[2025-11-19 02:34:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.026, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.65, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:34:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.959, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.608, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.705, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.797, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能推荐几首经典的怀旧电影歌曲吗'}]}, {'role': 'assistant', 'content': '《月亮代表我的心》《甜蜜蜜》《上海滩》'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.953, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了我们谈谈静物摄影吧'}}
[2025-11-19 02:35:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.961, 'infer_time': 0.159, 'content': '静物摄影要注重光线和构图', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能推荐几首经典的怀旧电影歌曲吗'}]}, {'role': 'assistant', 'content': '《月亮代表我的心》《甜蜜蜜》《上海滩》'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.193, 'infer_time': 0.226, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:00] 收到 tts_done, timestamp=13.193s
[2025-11-19 02:35:00] 在 13.19s 插入 TTS（2.82s）
[2025-11-19 02:35:09] 音频发送完毕，用时 22.05s
[2025-11-19 02:35:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:35:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0013_add_output.wav，时长 21.48s
[2025-11-19 02:35:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0013_add_output.wav
[2025-11-19 02:35:09] 处理完成: 0003_0013_add.wav
[2025-11-19 02:35:09] -----------------------------------
[2025-11-19 02:35:09] 开始处理文件: 0003_0015.wav
[2025-11-19 02:35:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:35:09] 初始化输出 buffer，总时长 28.15s（450400 samples）
[2025-11-19 02:35:09] 开始发送 0003_0015.wav，总帧 1760，时长 28.15s
[2025-11-19 02:35:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.585, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.234, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.336, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.489, 'infer_time': 0.147, 'content': '清晰表达，及时确认理解。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.543, 'turn': 0, 'state': 'LISTEN', 'content': '在团队沟通中如何避免因表达不清导致的误解'}}
[2025-11-19 02:35:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.714, 'infer_time': 0.22, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:16] 收到 tts_done, timestamp=6.714s
[2025-11-19 02:35:16] 在 6.71s 插入 TTS（2.81s）
[2025-11-19 02:35:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.828}}
[2025-11-19 02:35:21] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.336, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 19.006, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 19.654, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.755, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.868, 'infer_time': 0.108, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在团队沟通中如何避免因表达不清导致的误解'}]}, {'role': 'assistant', 'content': '清晰表达，及时确认理解。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 19.972, 'infer_time': 0.103, 'content': '清晰表达，及时确认理解。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在团队沟通中如何避免因表达不清导致的误解'}]}, {'role': 'assistant', 'content': '清晰表达，及时确认理解。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 20.21, 'infer_time': 0.232, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:29] 收到 tts_done, timestamp=20.21s
[2025-11-19 02:35:29] 在 20.21s 插入 TTS（3.07s）
[2025-11-19 02:35:38] 音频发送完毕，用时 29.11s
[2025-11-19 02:35:38] WebSocket 已关闭，结束接收循环
[2025-11-19 02:35:38] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0015_output.wav，时长 28.15s
[2025-11-19 02:35:38] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0015_output.wav
[2025-11-19 02:35:38] 处理完成: 0003_0015.wav
[2025-11-19 02:35:38] -----------------------------------
[2025-11-19 02:35:38] 开始处理文件: 0003_0015_add.wav
[2025-11-19 02:35:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:35:38] 初始化输出 buffer，总时长 21.75s（348000 samples）
[2025-11-19 02:35:38] 开始发送 0003_0015_add.wav，总帧 1360，时长 21.75s
[2025-11-19 02:35:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.535, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.283, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.471, 'infer_time': 0.184, 'content': '鞋型、缓震、支撑和透气性很重要。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.49, 'turn': 0, 'state': 'LISTEN', 'content': '选择跑步鞋时应该注意哪些关键因素'}}
[2025-11-19 02:35:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.802, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:35:43] 收到 tts_done, timestamp=4.802s
[2025-11-19 02:35:43] 在 4.80s 插入 TTS（4.22s）
[2025-11-19 02:35:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.677}}
[2025-11-19 02:35:48] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.185, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.267, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.917, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.012, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.104, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '选择跑步鞋时应该注意哪些关键因素'}]}, {'role': 'assistant', 'content': '鞋型、缓震、支撑和透气性很重要。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.254, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下如何调节生物钟'}}
[2025-11-19 02:35:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.262, 'infer_time': 0.153, 'content': '规律作息，光照调节是关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '选择跑步鞋时应该注意哪些关键因素'}]}, {'role': 'assistant', 'content': '鞋型、缓震、支撑和透气性很重要。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.543, 'infer_time': 0.276, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:35:52] 收到 tts_done, timestamp=13.543s
[2025-11-19 02:35:52] 在 13.54s 插入 TTS（3.56s）
[2025-11-19 02:36:00] 音频发送完毕，用时 22.39s
[2025-11-19 02:36:00] WebSocket 已关闭，结束接收循环
[2025-11-19 02:36:00] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0015_add_output.wav，时长 21.75s
[2025-11-19 02:36:00] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0015_add_output.wav
[2025-11-19 02:36:00] 处理完成: 0003_0015_add.wav
[2025-11-19 02:36:00] -----------------------------------
[2025-11-19 02:36:00] 开始处理文件: 0003_0016_add.wav
[2025-11-19 02:36:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:36:00] 初始化输出 buffer，总时长 20.75s（332000 samples）
[2025-11-19 02:36:00] 开始发送 0003_0016_add.wav，总帧 1297，时长 20.75s
[2025-11-19 02:36:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.754, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.404, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.495, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.692, 'infer_time': 0.192, 'content': '新车上牌需准备资料，交车款后办理。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.876, 'turn': 0, 'state': 'LISTEN', 'content': '新车上牌的具体流程是什么'}}
[2025-11-19 02:36:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.994, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:05] 收到 tts_done, timestamp=3.994s
[2025-11-19 02:36:05] 在 3.99s 插入 TTS（3.86s）
[2025-11-19 02:36:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.852}}
[2025-11-19 02:36:10] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.359, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.231, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.878, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.972, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.06, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '新车上牌的具体流程是什么'}]}, {'role': 'assistant', 'content': '新车上牌需准备资料，交车款后办理。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.199, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊网购返返利吧'}}
[2025-11-19 02:36:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.243, 'infer_time': 0.178, 'content': '网购返利是通过平台购物后获得佣金。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '新车上牌的具体流程是什么'}]}, {'role': 'assistant', 'content': '新车上牌需准备资料，交车款后办理。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.525, 'infer_time': 0.277, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:13] 收到 tts_done, timestamp=12.525s
[2025-11-19 02:36:13] 在 12.53s 插入 TTS（3.58s）
[2025-11-19 02:36:22] 音频发送完毕，用时 21.26s
[2025-11-19 02:36:22] WebSocket 已关闭，结束接收循环
[2025-11-19 02:36:22] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0016_add_output.wav，时长 20.75s
[2025-11-19 02:36:22] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0016_add_output.wav
[2025-11-19 02:36:22] 处理完成: 0003_0016_add.wav
[2025-11-19 02:36:22] -----------------------------------
[2025-11-19 02:36:22] 开始处理文件: 0003_0017.wav
[2025-11-19 02:36:22] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:36:22] 初始化输出 buffer，总时长 25.31s（404962 samples）
[2025-11-19 02:36:22] 开始发送 0003_0017.wav，总帧 1582，时长 25.31s
[2025-11-19 02:36:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.387, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.034, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.135, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.334, 'infer_time': 0.194, 'content': '尝试深呼吸和正念练习，逐步建立驾驶信心。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.374, 'turn': 0, 'state': 'LISTEN', 'content': '我总是害怕开车会出车祸有什么办法能缓解这种恐惧吗'}}
[2025-11-19 02:36:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.668, 'infer_time': 0.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:28] 收到 tts_done, timestamp=6.668s
[2025-11-19 02:36:28] 在 6.67s 插入 TTS（4.40s）
[2025-11-19 02:36:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.703}}
[2025-11-19 02:36:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.217, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.786, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.433, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.534, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.632, 'infer_time': 0.093, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总是害怕开车会出车祸有什么办法能缓解这种恐惧吗'}]}, {'role': 'assistant', 'content': '尝试深呼吸和正念练习，逐步建立驾驶信心。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.803, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了最近看到好多高楼在建设聊聊城市发展吧'}}
[2025-11-19 02:36:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.829, 'infer_time': 0.193, 'content': '城市发展确实很快，高楼多了也说明经济在进步。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总是害怕开车会出车祸有什么办法能缓解这种恐惧吗'}]}, {'role': 'assistant', 'content': '尝试深呼吸和正念练习，逐步建立驾驶信心。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.175, 'infer_time': 0.34, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:36:39] 收到 tts_done, timestamp=17.175s
[2025-11-19 02:36:39] 在 17.18s 插入 TTS（4.60s）
[2025-11-19 02:36:48] 音频发送完毕，用时 25.86s
[2025-11-19 02:36:48] WebSocket 已关闭，结束接收循环
[2025-11-19 02:36:48] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0017_output.wav，时长 25.31s
[2025-11-19 02:36:48] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0017_output.wav
[2025-11-19 02:36:48] 处理完成: 0003_0017.wav
[2025-11-19 02:36:48] -----------------------------------
[2025-11-19 02:36:48] 开始处理文件: 0003_0021.wav
[2025-11-19 02:36:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:36:48] 初始化输出 buffer，总时长 22.22s（355521 samples）
[2025-11-19 02:36:48] 开始发送 0003_0021.wav，总帧 1389，时长 22.22s
[2025-11-19 02:36:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.902, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.998, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.152, 'infer_time': 0.15, 'content': '扔沙包要掌握角度和力度', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.164, 'turn': 0, 'state': 'LISTEN', 'content': '丢沙包游戏有什么技巧可以分享吗'}}
[2025-11-19 02:36:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.362, 'infer_time': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:36:52] 收到 tts_done, timestamp=4.362s
[2025-11-19 02:36:52] 在 4.36s 插入 TTS（2.46s）
[2025-11-19 02:36:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.538}}
[2025-11-19 02:36:58] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.043, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.609, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.256, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.358, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.448, 'infer_time': 0.086, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '丢沙包游戏有什么技巧可以分享吗'}]}, {'role': 'assistant', 'content': '扔沙包要掌握角度和力度'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.559, 'infer_time': 0.11, 'content': '扔沙包要掌握角度和力度', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '丢沙包游戏有什么技巧可以分享吗'}]}, {'role': 'assistant', 'content': '扔沙包要掌握角度和力度'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.766, 'infer_time': 0.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:01] 收到 tts_done, timestamp=13.766s
[2025-11-19 02:37:01] 在 13.77s 插入 TTS（2.53s）
[2025-11-19 02:37:10] 音频发送完毕，用时 22.73s
[2025-11-19 02:37:10] WebSocket 已关闭，结束接收循环
[2025-11-19 02:37:10] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0021_output.wav，时长 22.22s
[2025-11-19 02:37:10] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0021_output.wav
[2025-11-19 02:37:10] 处理完成: 0003_0021.wav
[2025-11-19 02:37:10] -----------------------------------
[2025-11-19 02:37:10] 开始处理文件: 0003_0023.wav
[2025-11-19 02:37:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:37:10] 初始化输出 buffer，总时长 26.40s（422400 samples）
[2025-11-19 02:37:10] 开始发送 0003_0023.wav，总帧 1650，时长 26.40s
[2025-11-19 02:37:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.573, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.525, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.088, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.735, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.839, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.034, 'infer_time': 0.19, 'content': '表达了对爱情顺逆无常的感慨与无奈。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.224, 'turn': 0, 'state': 'LISTEN', 'content': '徐晓凤的顺流逆流这首歌表达了什么样的感情'}}
[2025-11-19 02:37:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.316, 'infer_time': 0.277, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:18] 收到 tts_done, timestamp=7.316s
[2025-11-19 02:37:18] 在 7.32s 插入 TTS（3.62s）
[2025-11-19 02:37:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.431}}
[2025-11-19 02:37:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.942, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.988, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.867, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 17.513, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.613, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.71, 'infer_time': 0.092, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '徐晓凤的顺流逆流这首歌表达了什么样的感情'}]}, {'role': 'assistant', 'content': '表达了对爱情顺逆无常的感慨与无奈。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.909, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了我想了解一下手机的单手模式怎么设置'}}
[2025-11-19 02:37:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.919, 'infer_time': 0.203, 'content': '不同手机设置方式不同，一般在辅助功能里能找到。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '徐晓凤的顺流逆流这首歌表达了什么样的感情'}]}, {'role': 'assistant', 'content': '表达了对爱情顺逆无常的感慨与无奈。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 18.219, 'infer_time': 0.295, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:29] 收到 tts_done, timestamp=18.219s
[2025-11-19 02:37:29] 在 18.22s 插入 TTS（3.87s）
[2025-11-19 02:37:37] 音频发送完毕，用时 27.00s
[2025-11-19 02:37:37] WebSocket 已关闭，结束接收循环
[2025-11-19 02:37:37] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0003_0023_output.wav，时长 26.40s
[2025-11-19 02:37:37] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0003_0023_output.wav
[2025-11-19 02:37:37] 处理完成: 0003_0023.wav
[2025-11-19 02:37:37] -----------------------------------
[2025-11-19 02:37:37] 开始处理文件: 0004_0001_add.wav
[2025-11-19 02:37:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:37:37] 初始化输出 buffer，总时长 19.82s（317120 samples）
[2025-11-19 02:37:37] 开始发送 0004_0001_add.wav，总帧 1239，时长 19.82s
[2025-11-19 02:37:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.829, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.921, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.016, 'turn': 0, 'state': 'LISTEN', 'content': '特色饮品有哪些推荐'}}
[2025-11-19 02:37:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.114, 'infer_time': 0.189, 'content': '推荐珍珠奶茶、杨枝甘露和鲜榨果汁。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.428, 'infer_time': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:37:41] 收到 tts_done, timestamp=3.428s
[2025-11-19 02:37:41] 在 3.43s 插入 TTS（4.06s）
[2025-11-19 02:37:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.253}}
[2025-11-19 02:37:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 8.767, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.34, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.987, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.081, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.168, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '特色饮品有哪些推荐'}]}, {'role': 'assistant', 'content': '推荐珍珠奶茶、杨枝甘露和鲜榨果汁。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.346, 'turn': 1, 'state': 'LISTEN', 'content': '我们换个话题聊聊卫生间防水吧'}}
[2025-11-19 02:37:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.357, 'infer_time': 0.185, 'content': '卫生间防水要做到位，墙地面都要刷防水涂料。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '特色饮品有哪些推荐'}]}, {'role': 'assistant', 'content': '推荐珍珠奶茶、杨枝甘露和鲜榨果汁。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.666, 'infer_time': 0.303, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:37:49] 收到 tts_done, timestamp=11.666s
[2025-11-19 02:37:49] 在 11.67s 插入 TTS（4.10s）
[2025-11-19 02:37:58] 音频发送完毕，用时 20.35s
[2025-11-19 02:37:58] WebSocket 已关闭，结束接收循环
[2025-11-19 02:37:58] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0001_add_output.wav，时长 19.82s
[2025-11-19 02:37:58] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0001_add_output.wav
[2025-11-19 02:37:58] 处理完成: 0004_0001_add.wav
[2025-11-19 02:37:58] -----------------------------------
[2025-11-19 02:37:58] 开始处理文件: 0004_0002_add.wav
[2025-11-19 02:37:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:37:58] 初始化输出 buffer，总时长 21.86s（349760 samples）
[2025-11-19 02:37:58] 开始发送 0004_0002_add.wav，总帧 1367，时长 21.86s
[2025-11-19 02:37:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.811, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.458, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.558, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.728, 'turn': 0, 'state': 'LISTEN', 'content': '今年手表有什么值得推荐的品牌'}}
[2025-11-19 02:38:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.757, 'infer_time': 0.194, 'content': '天梭、浪琴和欧米茄都是不错的选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.023, 'infer_time': 0.263, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:02] 收到 tts_done, timestamp=4.023s
[2025-11-19 02:38:02] 在 4.02s 插入 TTS（3.32s）
[2025-11-19 02:38:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.915}}
[2025-11-19 02:38:07] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.425, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.38, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.027, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.121, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.21, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '今年手表有什么值得推荐的品牌'}]}, {'role': 'assistant', 'content': '天梭、浪琴和欧米茄都是不错的选择。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.381, 'turn': 1, 'state': 'LISTEN', 'content': '我们别聊手表了说说登山 app 吧有什么好用的推荐'}}
[2025-11-19 02:38:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.418, 'infer_time': 0.205, 'content': '两步路、六只脚和越野e族都很实用。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '今年手表有什么值得推荐的品牌'}]}, {'role': 'assistant', 'content': '天梭、浪琴和欧米茄都是不错的选择。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.719, 'infer_time': 0.295, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:12] 收到 tts_done, timestamp=13.719s
[2025-11-19 02:38:12] 在 13.72s 插入 TTS（3.87s）
[2025-11-19 02:38:20] 音频发送完毕，用时 22.42s
[2025-11-19 02:38:20] WebSocket 已关闭，结束接收循环
[2025-11-19 02:38:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0002_add_output.wav，时长 21.86s
[2025-11-19 02:38:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0002_add_output.wav
[2025-11-19 02:38:20] 处理完成: 0004_0002_add.wav
[2025-11-19 02:38:20] -----------------------------------
[2025-11-19 02:38:20] 开始处理文件: 0004_0003_add.wav
[2025-11-19 02:38:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:38:20] 初始化输出 buffer，总时长 21.12s（337920 samples）
[2025-11-19 02:38:20] 开始发送 0004_0003_add.wav，总帧 1320，时长 21.12s
[2025-11-19 02:38:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.902, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.557, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.65, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.806, 'infer_time': 0.152, 'content': '多参与社交活动，培养兴趣爱好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.871, 'turn': 0, 'state': 'LISTEN', 'content': '如何克服日常生活中的孤独感'}}
[2025-11-19 02:38:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.055, 'infer_time': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:24] 收到 tts_done, timestamp=4.055s
[2025-11-19 02:38:24] 在 4.05s 插入 TTS（3.09s）
[2025-11-19 02:38:28] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.052}}
[2025-11-19 02:38:30] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.561, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.776, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.425, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.518, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.609, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何克服日常生活中的孤独感'}]}, {'role': 'assistant', 'content': '多参与社交活动，培养兴趣爱好。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.747, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了给我讲讲最新一集的剧情吧'}}
[2025-11-19 02:38:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.803, 'infer_time': 0.189, 'content': '最新一集剧情很精彩，主角有大反转。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何克服日常生活中的孤独感'}]}, {'role': 'assistant', 'content': '多参与社交活动，培养兴趣爱好。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.097, 'infer_time': 0.288, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:33] 收到 tts_done, timestamp=13.097s
[2025-11-19 02:38:33] 在 13.10s 插入 TTS（3.64s）
[2025-11-19 02:38:42] 音频发送完毕，用时 21.79s
[2025-11-19 02:38:42] WebSocket 已关闭，结束接收循环
[2025-11-19 02:38:42] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0003_add_output.wav，时长 21.12s
[2025-11-19 02:38:42] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0003_add_output.wav
[2025-11-19 02:38:42] 处理完成: 0004_0003_add.wav
[2025-11-19 02:38:42] -----------------------------------
[2025-11-19 02:38:42] 开始处理文件: 0004_0005_add.wav
[2025-11-19 02:38:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:38:42] 初始化输出 buffer，总时长 22.17s（354720 samples）
[2025-11-19 02:38:42] 开始发送 0004_0005_add.wav，总帧 1386，时长 22.17s
[2025-11-19 02:38:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.41, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.066, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.16, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.322, 'turn': 0, 'state': 'LISTEN', 'content': '什么样的发型适合运动时保持清爽'}}
[2025-11-19 02:38:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.35, 'infer_time': 0.186, 'content': '短发或扎马尾辫，清爽又方便。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.629, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:38:47] 收到 tts_done, timestamp=4.629s
[2025-11-19 02:38:47] 在 4.63s 插入 TTS（3.54s）
[2025-11-19 02:38:51] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.555}}
[2025-11-19 02:38:52] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.065, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.859, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.509, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.601, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.691, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '什么样的发型适合运动时保持清爽'}]}, {'role': 'assistant', 'content': '短发或扎马尾辫，清爽又方便。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.878, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下中暑时应该怎么急救'}}
[2025-11-19 02:38:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.879, 'infer_time': 0.183, 'content': '立即移至阴凉处，补充水分降温。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '什么样的发型适合运动时保持清爽'}]}, {'role': 'assistant', 'content': '短发或扎马尾辫，清爽又方便。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.139, 'infer_time': 0.253, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:38:56] 收到 tts_done, timestamp=14.139s
[2025-11-19 02:38:56] 在 14.14s 插入 TTS（3.23s）
[2025-11-19 02:39:05] 音频发送完毕，用时 22.91s
[2025-11-19 02:39:05] WebSocket 已关闭，结束接收循环
[2025-11-19 02:39:05] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0005_add_output.wav，时长 22.17s
[2025-11-19 02:39:05] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0005_add_output.wav
[2025-11-19 02:39:05] 处理完成: 0004_0005_add.wav
[2025-11-19 02:39:05] -----------------------------------
[2025-11-19 02:39:05] 开始处理文件: 0004_0008_add.wav
[2025-11-19 02:39:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:39:05] 初始化输出 buffer，总时长 19.66s（314560 samples）
[2025-11-19 02:39:05] 开始发送 0004_0008_add.wav，总帧 1229，时长 19.66s
[2025-11-19 02:39:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.386, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.041, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.184, 'infer_time': 0.138, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.285, 'turn': 0, 'state': 'LISTEN', 'content': '上学铃声一般持续多久'}}
[2025-11-19 02:39:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.351, 'infer_time': 0.163, 'content': '通常持续10到30秒左右。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.613, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:09] 收到 tts_done, timestamp=3.613s
[2025-11-19 02:39:09] 在 3.61s 插入 TTS（2.64s）
[2025-11-19 02:39:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.509}}
[2025-11-19 02:39:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.017, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.214, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.862, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.95, 'infer_time': 0.083, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.039, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '上学铃声一般持续多久'}]}, {'role': 'assistant', 'content': '通常持续10到30秒左右。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.145, 'turn': 1, 'state': 'LISTEN', 'content': '不说这个了我们聊聊金鱼换水吧'}}
[2025-11-19 02:39:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.229, 'infer_time': 0.186, 'content': '金鱼换水要适量，别太勤快。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '上学铃声一般持续多久'}]}, {'role': 'assistant', 'content': '通常持续10到30秒左右。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.49, 'infer_time': 0.256, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:16] 收到 tts_done, timestamp=11.49s
[2025-11-19 02:39:16] 在 11.49s 插入 TTS（3.22s）
[2025-11-19 02:39:25] 音频发送完毕，用时 20.23s
[2025-11-19 02:39:25] WebSocket 已关闭，结束接收循环
[2025-11-19 02:39:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0008_add_output.wav，时长 19.66s
[2025-11-19 02:39:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0008_add_output.wav
[2025-11-19 02:39:25] 处理完成: 0004_0008_add.wav
[2025-11-19 02:39:25] -----------------------------------
[2025-11-19 02:39:25] 开始处理文件: 0004_0014_add.wav
[2025-11-19 02:39:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:39:25] 初始化输出 buffer，总时长 23.27s（372320 samples）
[2025-11-19 02:39:25] 开始发送 0004_0014_add.wav，总帧 1455，时长 23.27s
[2025-11-19 02:39:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.184, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.401, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.056, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.156, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.33, 'infer_time': 0.169, 'content': '《Python编程：从入门到实践》不错', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.4, 'turn': 0, 'state': 'LISTEN', 'content': '请推荐几本适合初学者的计算机编程书籍'}}
[2025-11-19 02:39:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.653, 'infer_time': 0.318, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:32] 收到 tts_done, timestamp=6.653s
[2025-11-19 02:39:32] 在 6.65s 插入 TTS（4.06s）
[2025-11-19 02:39:36] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.665}}
[2025-11-19 02:39:37] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.175, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.054, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.701, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.796, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.885, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '请推荐几本适合初学者的计算机编程书籍'}]}, {'role': 'assistant', 'content': '《Python编程：从入门到实践》不错'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.017, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了给我介绍一下主题商店吧'}}
[2025-11-19 02:39:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.028, 'infer_time': 0.139, 'content': '主题商店是卖个性化界面的地方', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '请推荐几本适合初学者的计算机编程书籍'}]}, {'role': 'assistant', 'content': '《Python编程：从入门到实践》不错'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.306, 'infer_time': 0.273, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:39:41] 收到 tts_done, timestamp=15.306s
[2025-11-19 02:39:41] 在 15.31s 插入 TTS（3.36s）
[2025-11-19 02:39:49] 音频发送完毕，用时 24.10s
[2025-11-19 02:39:49] WebSocket 已关闭，结束接收循环
[2025-11-19 02:39:49] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0014_add_output.wav，时长 23.27s
[2025-11-19 02:39:49] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0014_add_output.wav
[2025-11-19 02:39:49] 处理完成: 0004_0014_add.wav
[2025-11-19 02:39:49] -----------------------------------
[2025-11-19 02:39:49] 开始处理文件: 0004_0017.wav
[2025-11-19 02:39:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:39:49] 初始化输出 buffer，总时长 23.41s（374560 samples）
[2025-11-19 02:39:49] 开始发送 0004_0017.wav，总帧 1464，时长 23.41s
[2025-11-19 02:39:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.356, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.999, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.103, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.282, 'turn': 0, 'state': 'LISTEN', 'content': '你遇到过哪些因为陆贞闹出的有趣事件'}}
[2025-11-19 02:39:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.307, 'infer_time': 0.2, 'content': '堵车时偶遇同好，竟成饭友。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.561, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:39:55] 收到 tts_done, timestamp=5.561s
[2025-11-19 02:39:55] 在 5.56s 插入 TTS（3.11s）
[2025-11-19 02:39:59] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.712}}
[2025-11-19 02:40:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.224, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.533, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.152, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.8, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.894, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.986, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你遇到过哪些因为陆贞闹出的有趣事件'}]}, {'role': 'assistant', 'content': '堵车时偶遇同好，竟成饭友。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.143, 'infer_time': 0.151, 'content': '四季分明，冬冷夏热。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你遇到过哪些因为陆贞闹出的有趣事件'}]}, {'role': 'assistant', 'content': '堵车时偶遇同好，竟成饭友。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.175, 'turn': 1, 'state': 'LISTEN', 'content': '呀别聊迷路了说说你们那的气候特点吧'}}
[2025-11-19 02:40:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.339, 'infer_time': 0.192, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:05] 收到 tts_done, timestamp=15.339s
[2025-11-19 02:40:05] 在 15.34s 插入 TTS（2.47s）
[2025-11-19 02:40:13] 音频发送完毕，用时 24.19s
[2025-11-19 02:40:13] WebSocket 已关闭，结束接收循环
[2025-11-19 02:40:13] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0017_output.wav，时长 23.41s
[2025-11-19 02:40:13] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0017_output.wav
[2025-11-19 02:40:13] 处理完成: 0004_0017.wav
[2025-11-19 02:40:13] -----------------------------------
[2025-11-19 02:40:13] 开始处理文件: 0004_0017_add.wav
[2025-11-19 02:40:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:40:13] 初始化输出 buffer，总时长 24.64s（394240 samples）
[2025-11-19 02:40:13] 开始发送 0004_0017_add.wav，总帧 1540，时长 24.64s
[2025-11-19 02:40:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.374, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.028, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.122, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.248, 'turn': 0, 'state': 'LISTEN', 'content': '你能给我讲一个适合小朋友的有趣笑话吗'}}
[2025-11-19 02:40:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.293, 'infer_time': 0.167, 'content': '小明问妈妈：为什么鱼不会说话？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.538, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:18] 收到 tts_done, timestamp=4.538s
[2025-11-19 02:40:18] 在 4.54s 插入 TTS（3.25s）
[2025-11-19 02:40:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.615}}
[2025-11-19 02:40:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.125, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.539, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.187, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.292, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.407, 'infer_time': 0.109, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你能给我讲一个适合小朋友的有趣笑话吗'}]}, {'role': 'assistant', 'content': '小明问妈妈：为什么鱼不会说话？'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.634, 'turn': 1, 'state': 'LISTEN', 'content': '这个话题挺好笑但我们现在换个话题聊聊超自然现象吧比如幽灵或 ufo'}}
[2025-11-19 02:40:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.662, 'infer_time': 0.251, 'content': '幽灵和UFO都挺神秘的，你觉得哪个更让人好奇？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你能给我讲一个适合小朋友的有趣笑话吗'}]}, {'role': 'assistant', 'content': '小明问妈妈：为什么鱼不会说话？'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.02, 'infer_time': 0.351, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:31] 收到 tts_done, timestamp=17.02s
[2025-11-19 02:40:31] 在 17.02s 插入 TTS（4.72s）
[2025-11-19 02:40:39] 音频发送完毕，用时 25.58s
[2025-11-19 02:40:39] WebSocket 已关闭，结束接收循环
[2025-11-19 02:40:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0017_add_output.wav，时长 24.64s
[2025-11-19 02:40:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0017_add_output.wav
[2025-11-19 02:40:39] 处理完成: 0004_0017_add.wav
[2025-11-19 02:40:39] -----------------------------------
[2025-11-19 02:40:39] 开始处理文件: 0004_0026.wav
[2025-11-19 02:40:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:40:39] 初始化输出 buffer，总时长 24.30s（388800 samples）
[2025-11-19 02:40:39] 开始发送 0004_0026.wav，总帧 1519，时长 24.30s
[2025-11-19 02:40:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.047, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.085, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.726, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.819, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.016, 'turn': 0, 'state': 'LISTEN', 'content': '秦的专辑郎中有哪些经典歌曲'}}
[2025-11-19 02:40:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.044, 'infer_time': 0.221, 'content': '狼专辑里的经典歌曲有《狼》和《爱的代价》。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.355, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:40:44] 收到 tts_done, timestamp=5.355s
[2025-11-19 02:40:44] 在 5.36s 插入 TTS（4.12s）
[2025-11-19 02:40:48] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.339}}
[2025-11-19 02:40:50] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.849, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.971, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.619, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.722, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.815, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '秦的专辑郎中有哪些经典歌曲'}]}, {'role': 'assistant', 'content': '狼专辑里的经典歌曲有《狼》和《爱的代价》。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.984, 'infer_time': 0.163, 'content': '长城的历史可追溯到春秋战国时期。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '秦的专辑郎中有哪些经典歌曲'}]}, {'role': 'assistant', 'content': '狼专辑里的经典歌曲有《狼》和《爱的代价》。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.029, 'turn': 1, 'state': 'LISTEN', 'content': '等我对音乐不不感兴趣了不如聊聊长城的历史吧'}}
[2025-11-19 02:40:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.265, 'infer_time': 0.277, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:40:55] 收到 tts_done, timestamp=16.265s
[2025-11-19 02:40:55] 在 16.27s 插入 TTS（3.64s）
[2025-11-19 02:41:04] 音频发送完毕，用时 25.12s
[2025-11-19 02:41:04] WebSocket 已关闭，结束接收循环
[2025-11-19 02:41:04] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0026_output.wav，时长 24.30s
[2025-11-19 02:41:04] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0026_output.wav
[2025-11-19 02:41:04] 处理完成: 0004_0026.wav
[2025-11-19 02:41:04] -----------------------------------
[2025-11-19 02:41:04] 开始处理文件: 0004_0030.wav
[2025-11-19 02:41:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:41:04] 初始化输出 buffer，总时长 24.04s（384639 samples）
[2025-11-19 02:41:04] 开始发送 0004_0030.wav，总帧 1503，时长 24.04s
[2025-11-19 02:41:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.943, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.829, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.47, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.572, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.751, 'infer_time': 0.174, 'content': '台湾自古以来就是中国不可分割的一部分。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.765, 'turn': 0, 'state': 'LISTEN', 'content': '不成功收复台湾的历史背景是什么'}}
[2025-11-19 02:41:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.011, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:10] 收到 tts_done, timestamp=6.011s
[2025-11-19 02:41:10] 在 6.01s 插入 TTS（3.22s）
[2025-11-19 02:41:15] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.291}}
[2025-11-19 02:41:16] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.804, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.602, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.675, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.322, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.421, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.515, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '不成功收复台湾的历史背景是什么'}]}, {'role': 'assistant', 'content': '台湾自古以来就是中国不可分割的一部分。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.662, 'infer_time': 0.142, 'content': '智能插座方便远程控制家电。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '不成功收复台湾的历史背景是什么'}]}, {'role': 'assistant', 'content': '台湾自古以来就是中国不可分割的一部分。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.705, 'turn': 1, 'state': 'LISTEN', 'content': '我对历史不太感兴趣不如聊聊智能插座吧'}}
[2025-11-19 02:41:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.899, 'infer_time': 0.232, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:20] 收到 tts_done, timestamp=15.899s
[2025-11-19 02:41:20] 在 15.90s 插入 TTS（2.92s）
[2025-11-19 02:41:29] 音频发送完毕，用时 24.85s
[2025-11-19 02:41:29] WebSocket 已关闭，结束接收循环
[2025-11-19 02:41:29] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0030_output.wav，时长 24.04s
[2025-11-19 02:41:29] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0030_output.wav
[2025-11-19 02:41:29] 处理完成: 0004_0030.wav
[2025-11-19 02:41:29] -----------------------------------
[2025-11-19 02:41:29] 开始处理文件: 0004_0031.wav
[2025-11-19 02:41:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:41:29] 初始化输出 buffer，总时长 24.35s（389599 samples）
[2025-11-19 02:41:29] 开始发送 0004_0031.wav，总帧 1522，时长 24.35s
[2025-11-19 02:41:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.745, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.401, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.499, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.657, 'infer_time': 0.154, 'content': '先抓小的，再抓大的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.664, 'turn': 0, 'state': 'LISTEN', 'content': '抓石子游戏有什么技巧可以分享吗'}}
[2025-11-19 02:41:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.844, 'infer_time': 0.182, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:34] 收到 tts_done, timestamp=4.844s
[2025-11-19 02:41:34] 在 4.84s 插入 TTS（2.39s）
[2025-11-19 02:41:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.238}}
[2025-11-19 02:41:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.749, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.263, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.941, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.59, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.88, 'infer_time': 0.284, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.282, 'infer_time': 0.396, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '抓石子游戏有什么技巧可以分享吗'}]}, {'role': 'assistant', 'content': '先抓小的，再抓大的。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.461, 'infer_time': 0.175, 'content': '区块链是去中心化的分布式账本技术。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '抓石子游戏有什么技巧可以分享吗'}]}, {'role': 'assistant', 'content': '先抓小的，再抓大的。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.469, 'turn': 1, 'state': 'LISTEN', 'content': '不聊这个了我对区块链技术更感兴趣能说说吗'}}
[2025-11-19 02:41:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.756, 'infer_time': 0.288, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:41:46] 收到 tts_done, timestamp=16.756s
[2025-11-19 02:41:46] 在 16.76s 插入 TTS（3.25s）
[2025-11-19 02:41:54] 音频发送完毕，用时 25.17s
[2025-11-19 02:41:54] WebSocket 已关闭，结束接收循环
[2025-11-19 02:41:54] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0004_0031_output.wav，时长 24.35s
[2025-11-19 02:41:54] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0004_0031_output.wav
[2025-11-19 02:41:54] 处理完成: 0004_0031.wav
[2025-11-19 02:41:54] -----------------------------------
[2025-11-19 02:41:54] 开始处理文件: 0005_0002.wav
[2025-11-19 02:41:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:41:54] 初始化输出 buffer，总时长 23.22s（371521 samples）
[2025-11-19 02:41:54] 开始发送 0005_0002.wav，总帧 1452，时长 23.22s
[2025-11-19 02:41:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.916, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.558, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.656, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.837, 'infer_time': 0.176, 'content': '互相讲冷笑话，默契接梗最有趣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.853, 'turn': 0, 'state': 'LISTEN', 'content': '夫妻之间有什么幽默的互动方式可以增进感情'}}
[2025-11-19 02:41:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.117, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:41:59] 收到 tts_done, timestamp=5.117s
[2025-11-19 02:41:59] 在 5.12s 插入 TTS（3.50s）
[2025-11-19 02:42:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.359}}
[2025-11-19 02:42:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.273, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:42:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.864, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.837, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.486, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.583, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.678, 'infer_time': 0.09, 'content': 'yes', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '夫妻之间有什么幽默的互动方式可以增进感情'}]}, {'role': 'assistant', 'content': '互相讲冷笑话，默契接梗最有趣。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.817, 'infer_time': 0.139, 'content': '互相讲冷笑话，默契接梗最有趣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n由于模型判断为这句话不来自用户说话人，你现在只需要参考历史对话，重复助手上一轮的回答，不要回答当前音频。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '夫妻之间有什么幽默的互动方式可以增进感情'}]}, {'role': 'assistant', 'content': '互相讲冷笑话，默契接梗最有趣。'}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.116, 'infer_time': 0.293, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:09] 收到 tts_done, timestamp=15.116s
[2025-11-19 02:42:09] 在 15.12s 插入 TTS（3.74s）
[2025-11-19 02:42:18] 音频发送完毕，用时 24.03s
[2025-11-19 02:42:18] WebSocket 已关闭，结束接收循环
[2025-11-19 02:42:18] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0002_output.wav，时长 23.22s
[2025-11-19 02:42:18] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0002_output.wav
[2025-11-19 02:42:18] 处理完成: 0005_0002.wav
[2025-11-19 02:42:18] -----------------------------------
[2025-11-19 02:42:18] 开始处理文件: 0005_0002_add.wav
[2025-11-19 02:42:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:42:18] 初始化输出 buffer，总时长 22.05s（352800 samples）
[2025-11-19 02:42:18] 开始发送 0005_0002_add.wav，总帧 1379，时长 22.05s
[2025-11-19 02:42:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.133, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.781, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.879, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.07, 'turn': 0, 'state': 'LISTEN', 'content': '表情包在营销中具体有哪些应用方式'}}
[2025-11-19 02:42:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.076, 'infer_time': 0.193, 'content': '表情包可用于社交媒体互动、广告创意和品牌传播。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.459, 'infer_time': 0.377, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:24] 收到 tts_done, timestamp=5.459s
[2025-11-19 02:42:24] 在 5.46s 插入 TTS（5.03s）
[2025-11-19 02:42:28] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.29}}
[2025-11-19 02:42:29] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.794, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.53, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.178, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.447, 'infer_time': 0.265, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.536, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在营销中具体有哪些应用方式'}]}, {'role': 'assistant', 'content': '表情包可用于社交媒体互动、广告创意和品牌传播。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.684, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了聊聊手工彩绘技巧吧'}}
[2025-11-19 02:42:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.757, 'infer_time': 0.217, 'content': '手工彩绘需掌握调色、笔触和构图技巧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '表情包在营销中具体有哪些应用方式'}]}, {'role': 'assistant', 'content': '表情包可用于社交媒体互动、广告创意和品牌传播。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.099, 'infer_time': 0.335, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:32] 收到 tts_done, timestamp=14.099s
[2025-11-19 02:42:32] 在 14.10s 插入 TTS（4.13s）
[2025-11-19 02:42:41] 音频发送完毕，用时 22.64s
[2025-11-19 02:42:41] WebSocket 已关闭，结束接收循环
[2025-11-19 02:42:41] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0002_add_output.wav，时长 22.05s
[2025-11-19 02:42:41] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0002_add_output.wav
[2025-11-19 02:42:41] 处理完成: 0005_0002_add.wav
[2025-11-19 02:42:41] -----------------------------------
[2025-11-19 02:42:41] 开始处理文件: 0005_0004_add.wav
[2025-11-19 02:42:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:42:41] 初始化输出 buffer，总时长 20.29s（324640 samples）
[2025-11-19 02:42:41] 开始发送 0005_0004_add.wav，总帧 1269，时长 20.29s
[2025-11-19 02:42:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.864, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.512, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.603, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.775, 'turn': 0, 'state': 'LISTEN', 'content': '我总害怕被背叛该怎么办'}}
[2025-11-19 02:42:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.785, 'infer_time': 0.177, 'content': '信任是相互的，多沟通能减少猜疑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.093, 'infer_time': 0.304, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:42:45] 收到 tts_done, timestamp=4.093s
[2025-11-19 02:42:45] 在 4.09s 插入 TTS（4.04s）
[2025-11-19 02:42:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.993}}
[2025-11-19 02:42:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.501, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.699, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.348, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.439, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.523, 'infer_time': 0.08, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总害怕被背叛该怎么办'}]}, {'role': 'assistant', 'content': '信任是相互的，多沟通能减少猜疑。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.634, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了聊聊元宵节赏灯吧'}}
[2025-11-19 02:42:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.736, 'infer_time': 0.209, 'content': '元宵节赏灯真热闹，灯笼映月美极了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我总害怕被背叛该怎么办'}]}, {'role': 'assistant', 'content': '信任是相互的，多沟通能减少猜疑。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.057, 'infer_time': 0.316, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:42:53] 收到 tts_done, timestamp=12.057s
[2025-11-19 02:42:53] 在 12.06s 插入 TTS（4.15s）
[2025-11-19 02:43:02] 音频发送完毕，用时 20.80s
[2025-11-19 02:43:02] WebSocket 已关闭，结束接收循环
[2025-11-19 02:43:02] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0004_add_output.wav，时长 20.29s
[2025-11-19 02:43:02] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0004_add_output.wav
[2025-11-19 02:43:02] 处理完成: 0005_0004_add.wav
[2025-11-19 02:43:02] -----------------------------------
[2025-11-19 02:43:02] 开始处理文件: 0005_0005_add.wav
[2025-11-19 02:43:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:43:02] 初始化输出 buffer，总时长 20.55s（328800 samples）
[2025-11-19 02:43:02] 开始发送 0005_0005_add.wav，总帧 1285，时长 20.55s
[2025-11-19 02:43:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.218, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.872, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.969, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.099, 'turn': 0, 'state': 'LISTEN', 'content': '疲劳驾驶有哪些具体的危害'}}
[2025-11-19 02:43:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.149, 'infer_time': 0.176, 'content': '疲劳驾驶会降低反应速度，增加事故风险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.474, 'infer_time': 0.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:06] 收到 tts_done, timestamp=4.474s
[2025-11-19 02:43:06] 在 4.47s 插入 TTS（3.96s）
[2025-11-19 02:43:10] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.517}}
[2025-11-19 02:43:12] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.025, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.95, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.6, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.689, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.776, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '疲劳驾驶有哪些具体的危害'}]}, {'role': 'assistant', 'content': '疲劳驾驶会降低反应速度，增加事故风险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.933, 'turn': 1, 'state': 'LISTEN', 'content': '别聊这个了说说怎么包粽子吧'}}
[2025-11-19 02:43:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.024, 'infer_time': 0.244, 'content': '先泡糯米，再包粽叶，放馅料后裹紧煮熟。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '疲劳驾驶有哪些具体的危害'}]}, {'role': 'assistant', 'content': '疲劳驾驶会降低反应速度，增加事故风险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.394, 'infer_time': 0.363, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:14] 收到 tts_done, timestamp=12.394s
[2025-11-19 02:43:14] 在 12.39s 插入 TTS（4.94s）
[2025-11-19 02:43:23] 音频发送完毕，用时 21.06s
[2025-11-19 02:43:23] WebSocket 已关闭，结束接收循环
[2025-11-19 02:43:23] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0005_add_output.wav，时长 20.55s
[2025-11-19 02:43:23] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0005_add_output.wav
[2025-11-19 02:43:23] 处理完成: 0005_0005_add.wav
[2025-11-19 02:43:23] -----------------------------------
[2025-11-19 02:43:23] 开始处理文件: 0005_0010.wav
[2025-11-19 02:43:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:43:23] 初始化输出 buffer，总时长 23.01s（368161 samples）
[2025-11-19 02:43:23] 开始发送 0005_0010.wav，总帧 1439，时长 23.01s
[2025-11-19 02:43:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.432, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.638, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.377, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.515, 'turn': 0, 'state': 'LISTEN', 'content': '你听说过什么有趣的醉酒故事吗'}}
[2025-11-19 02:43:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.547, 'infer_time': 0.166, 'content': '李白醉酒捞月，千古佳话。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.793, 'infer_time': 0.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:28] 收到 tts_done, timestamp=4.793s
[2025-11-19 02:43:28] 在 4.79s 插入 TTS（3.07s）
[2025-11-19 02:43:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.138}}
[2025-11-19 02:43:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.053, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:43:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.642, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.648, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.296, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.389, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.478, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你听说过什么有趣的醉酒故事吗'}]}, {'role': 'assistant', 'content': '李白醉酒捞月，千古佳话。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.642, 'turn': 1, 'state': 'LISTEN', 'content': '他打住不如我们聊聊城市里单行道设置的问题吧'}}
[2025-11-19 02:43:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.68, 'infer_time': 0.197, 'content': '单行道确实能缓解拥堵，但得合理规划。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你听说过什么有趣的醉酒故事吗'}]}, {'role': 'assistant', 'content': '李白醉酒捞月，千古佳话。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.998, 'infer_time': 0.312, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:38] 收到 tts_done, timestamp=14.998s
[2025-11-19 02:43:38] 在 15.00s 插入 TTS（3.69s）
[2025-11-19 02:43:47] 音频发送完毕，用时 23.79s
[2025-11-19 02:43:47] WebSocket 已关闭，结束接收循环
[2025-11-19 02:43:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0010_output.wav，时长 23.01s
[2025-11-19 02:43:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0010_output.wav
[2025-11-19 02:43:47] 处理完成: 0005_0010.wav
[2025-11-19 02:43:47] -----------------------------------
[2025-11-19 02:43:47] 开始处理文件: 0005_0011_add.wav
[2025-11-19 02:43:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:43:47] 初始化输出 buffer，总时长 22.03s（352480 samples）
[2025-11-19 02:43:47] 开始发送 0005_0011_add.wav，总帧 1377，时长 22.03s
[2025-11-19 02:43:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.123, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.772, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.872, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.025, 'infer_time': 0.148, 'content': '包括非遗保护、古籍整理等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.082, 'turn': 0, 'state': 'LISTEN', 'content': '文化记忆工程具体包括包括哪些内容'}}
[2025-11-19 02:43:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.319, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:43:52] 收到 tts_done, timestamp=5.319s
[2025-11-19 02:43:52] 在 5.32s 插入 TTS（3.80s）
[2025-11-19 02:43:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.32}}
[2025-11-19 02:43:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.567, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:43:58] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.834, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:43:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.488, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.136, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.231, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.322, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化记忆工程具体包括包括哪些内容'}]}, {'role': 'assistant', 'content': '包括非遗保护、古籍整理等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.441, 'turn': 1, 'state': 'LISTEN', 'content': '先不讨论这个了聊聊你对未来的期待吧'}}
[2025-11-19 02:44:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.468, 'infer_time': 0.142, 'content': '期待更懂人类情感的AI', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '文化记忆工程具体包括包括哪些内容'}]}, {'role': 'assistant', 'content': '包括非遗保护、古籍整理等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.657, 'infer_time': 0.183, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:00] 收到 tts_done, timestamp=13.657s
[2025-11-19 02:44:00] 在 13.66s 插入 TTS（2.23s）
[2025-11-19 02:44:09] 音频发送完毕，用时 22.60s
[2025-11-19 02:44:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:44:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0011_add_output.wav，时长 22.03s
[2025-11-19 02:44:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0011_add_output.wav
[2025-11-19 02:44:09] 处理完成: 0005_0011_add.wav
[2025-11-19 02:44:09] -----------------------------------
[2025-11-19 02:44:09] 开始处理文件: 0005_0014_add.wav
[2025-11-19 02:44:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:44:09] 初始化输出 buffer，总时长 21.84s（349440 samples）
[2025-11-19 02:44:09] 开始发送 0005_0014_add.wav，总帧 1365，时长 21.84s
[2025-11-19 02:44:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.827, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.475, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.574, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.755, 'infer_time': 0.177, 'content': '蛋糕、小吃、饮料，游戏和音乐少不了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.784, 'turn': 0, 'state': 'LISTEN', 'content': '生日聚餐应该准备哪些食物和活动'}}
[2025-11-19 02:44:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.129, 'infer_time': 0.368, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:14] 收到 tts_done, timestamp=5.129s
[2025-11-19 02:44:14] 在 5.13s 插入 TTS（4.99s）
[2025-11-19 02:44:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.99}}
[2025-11-19 02:44:20] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.506, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.365, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.015, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.108, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.197, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日聚餐应该准备哪些食物和活动'}]}, {'role': 'assistant', 'content': '蛋糕、小吃、饮料，游戏和音乐少不了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.325, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊六一儿童节表演吧'}}
[2025-11-19 02:44:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.379, 'infer_time': 0.178, 'content': '六一表演可以唱歌跳舞，还有小游戏互动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '生日聚餐应该准备哪些食物和活动'}]}, {'role': 'assistant', 'content': '蛋糕、小吃、饮料，游戏和音乐少不了。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.647, 'infer_time': 0.262, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:23] 收到 tts_done, timestamp=13.647s
[2025-11-19 02:44:23] 在 13.65s 插入 TTS（3.47s）
[2025-11-19 02:44:32] 音频发送完毕，用时 22.41s
[2025-11-19 02:44:32] WebSocket 已关闭，结束接收循环
[2025-11-19 02:44:32] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0014_add_output.wav，时长 21.84s
[2025-11-19 02:44:32] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0014_add_output.wav
[2025-11-19 02:44:32] 处理完成: 0005_0014_add.wav
[2025-11-19 02:44:32] -----------------------------------
[2025-11-19 02:44:32] 开始处理文件: 0005_0015_add.wav
[2025-11-19 02:44:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:44:32] 初始化输出 buffer，总时长 22.56s（360960 samples）
[2025-11-19 02:44:32] 开始发送 0005_0015_add.wav，总帧 1410，时长 22.56s
[2025-11-19 02:44:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.076, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.992, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.64, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.742, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.915, 'infer_time': 0.169, 'content': '播放动感音乐，准备趣味游戏和零食。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.954, 'turn': 0, 'state': 'LISTEN', 'content': '如何营造一个轻松愉快的派对氛围'}}
[2025-11-19 02:44:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.19, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:37] 收到 tts_done, timestamp=5.19s
[2025-11-19 02:44:37] 在 5.19s 插入 TTS（3.47s）
[2025-11-19 02:44:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.114}}
[2025-11-19 02:44:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.225, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:44:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.622, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.462, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.036, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.685, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.778, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.87, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何营造一个轻松愉快的派对氛围'}]}, {'role': 'assistant', 'content': '播放动感音乐，准备趣味游戏和零食。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.008, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊竞争激烈的话题吧'}}
[2025-11-19 02:44:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.049, 'infer_time': 0.174, 'content': '好啊，你想聊哪方面的竞争呢？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何营造一个轻松愉快的派对氛围'}]}, {'role': 'assistant', 'content': '播放动感音乐，准备趣味游戏和零食。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.302, 'infer_time': 0.247, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:44:46] 收到 tts_done, timestamp=14.302s
[2025-11-19 02:44:46] 在 14.30s 插入 TTS（3.30s）
[2025-11-19 02:44:55] 音频发送完毕，用时 23.13s
[2025-11-19 02:44:55] WebSocket 已关闭，结束接收循环
[2025-11-19 02:44:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0015_add_output.wav，时长 22.56s
[2025-11-19 02:44:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0015_add_output.wav
[2025-11-19 02:44:55] 处理完成: 0005_0015_add.wav
[2025-11-19 02:44:55] -----------------------------------
[2025-11-19 02:44:55] 开始处理文件: 0005_0017.wav
[2025-11-19 02:44:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:44:55] 初始化输出 buffer，总时长 22.79s（364642 samples）
[2025-11-19 02:44:55] 开始发送 0005_0017.wav，总帧 1425，时长 22.79s
[2025-11-19 02:44:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.234, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.874, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.972, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.088, 'turn': 0, 'state': 'LISTEN', 'content': '如何避免在工作中怕承担责任'}}
[2025-11-19 02:44:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.13, 'infer_time': 0.154, 'content': '增强自信，从小事积累经验。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.383, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:44:59] 收到 tts_done, timestamp=4.383s
[2025-11-19 02:44:59] 在 4.38s 插入 TTS（3.11s）
[2025-11-19 02:45:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.76}}
[2025-11-19 02:45:05] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.271, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.347, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.997, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.091, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.183, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何避免在工作中怕承担责任'}]}, {'role': 'assistant', 'content': '增强自信，从小事积累经验。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.339, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了最近想计划一次国外旅行有什么推荐吗'}}
[2025-11-19 02:45:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.349, 'infer_time': 0.161, 'content': '日本京都文化体验不错，行程轻松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何避免在工作中怕承担责任'}]}, {'role': 'assistant', 'content': '增强自信，从小事积累经验。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.579, 'infer_time': 0.224, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:09] 收到 tts_done, timestamp=14.579s
[2025-11-19 02:45:09] 在 14.58s 插入 TTS（2.96s）
[2025-11-19 02:45:18] 音频发送完毕，用时 23.56s
[2025-11-19 02:45:18] WebSocket 已关闭，结束接收循环
[2025-11-19 02:45:18] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0017_output.wav，时长 22.79s
[2025-11-19 02:45:18] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0017_output.wav
[2025-11-19 02:45:18] 处理完成: 0005_0017.wav
[2025-11-19 02:45:18] -----------------------------------
[2025-11-19 02:45:18] 开始处理文件: 0005_0033.wav
[2025-11-19 02:45:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:45:18] 初始化输出 buffer，总时长 21.96s（351361 samples）
[2025-11-19 02:45:18] 开始发送 0005_0033.wav，总帧 1373，时长 21.96s
[2025-11-19 02:45:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.69, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.422, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.608, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个关于企鹅的冷笑话吗'}}
[2025-11-19 02:45:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.67, 'infer_time': 0.243, 'content': '企鹅的冷笑话：它们从不感冒，因为有厚厚的羽绒服。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.088, 'infer_time': 0.412, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:23] 收到 tts_done, timestamp=4.088s
[2025-11-19 02:45:23] 在 4.09s 插入 TTS（5.83s）
[2025-11-19 02:45:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.126}}
[2025-11-19 02:45:28] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.637, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.54, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.187, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.285, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.376, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个关于企鹅的冷笑话吗'}]}, {'role': 'assistant', 'content': '企鹅的冷笑话：它们从不感冒，因为有厚厚的羽绒服。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.529, 'turn': 1, 'state': 'LISTEN', 'content': '不说笑话了最近想买 v r 设备聊聊这个吧'}}
[2025-11-19 02:45:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.571, 'infer_time': 0.19, 'content': 'VR设备挺酷的，你打算买啥牌子？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个关于企鹅的冷笑话吗'}]}, {'role': 'assistant', 'content': '企鹅的冷笑话：它们从不感冒，因为有厚厚的羽绒服。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.834, 'infer_time': 0.258, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:32] 收到 tts_done, timestamp=13.834s
[2025-11-19 02:45:32] 在 13.83s 插入 TTS（3.19s）
[2025-11-19 02:45:41] 音频发送完毕，用时 22.68s
[2025-11-19 02:45:41] WebSocket 已关闭，结束接收循环
[2025-11-19 02:45:41] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0005_0033_output.wav，时长 21.96s
[2025-11-19 02:45:41] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0005_0033_output.wav
[2025-11-19 02:45:41] 处理完成: 0005_0033.wav
[2025-11-19 02:45:41] -----------------------------------
[2025-11-19 02:45:41] 开始处理文件: 0006_0007.wav
[2025-11-19 02:45:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:45:41] 初始化输出 buffer，总时长 22.87s（365920 samples）
[2025-11-19 02:45:41] 开始发送 0006_0007.wav，总帧 1430，时长 22.87s
[2025-11-19 02:45:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.51, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.159, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.252, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.37, 'turn': 0, 'state': 'LISTEN', 'content': '环保主义有哪些优缺点'}}
[2025-11-19 02:45:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.43, 'infer_time': 0.174, 'content': '环保主义促进可持续发展，但可能限制经济增长。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.752, 'infer_time': 0.317, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:45:45] 收到 tts_done, timestamp=3.752s
[2025-11-19 02:45:45] 在 3.75s 插入 TTS（4.25s）
[2025-11-19 02:45:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.938}}
[2025-11-19 02:45:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.088, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:45:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.452, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.571, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.084, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.298, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.946, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.049, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.146, 'infer_time': 0.093, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '环保主义有哪些优缺点'}]}, {'role': 'assistant', 'content': '环保主义促进可持续发展，但可能限制经济增长。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.354, 'infer_time': 0.2, 'content': '新区开发能带动区域经济，但也可能引发过度建设。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '环保主义有哪些优缺点'}]}, {'role': 'assistant', 'content': '环保主义促进可持续发展，但可能限制经济增长。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.373, 'turn': 1, 'state': 'LISTEN', 'content': '先不讨论这个了我想了解一下新区开发的相关信息'}}
[2025-11-19 02:45:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.702, 'infer_time': 0.342, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:45:56] 收到 tts_done, timestamp=14.702s
[2025-11-19 02:45:56] 在 14.70s 插入 TTS（4.59s）
[2025-11-19 02:46:05] 音频发送完毕，用时 23.50s
[2025-11-19 02:46:05] WebSocket 已关闭，结束接收循环
[2025-11-19 02:46:05] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0007_output.wav，时长 22.87s
[2025-11-19 02:46:05] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0007_output.wav
[2025-11-19 02:46:05] 处理完成: 0006_0007.wav
[2025-11-19 02:46:05] -----------------------------------
[2025-11-19 02:46:05] 开始处理文件: 0006_0008_add.wav
[2025-11-19 02:46:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:46:05] 初始化输出 buffer，总时长 21.86s（349760 samples）
[2025-11-19 02:46:05] 开始发送 0006_0008_add.wav，总帧 1367，时长 21.86s
[2025-11-19 02:46:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.555, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.197, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.292, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.409, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一件商品的质量好坏'}}
[2025-11-19 02:46:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.431, 'infer_time': 0.136, 'content': '看材质、做工和品牌口碑', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.668, 'infer_time': 0.231, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:08] 收到 tts_done, timestamp=3.668s
[2025-11-19 02:46:08] 在 3.67s 插入 TTS（2.94s）
[2025-11-19 02:46:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.799}}
[2025-11-19 02:46:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.849, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:46:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.304, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.53, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.572, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.221, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.322, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.412, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何判断一件商品的质量好坏'}]}, {'role': 'assistant', 'content': '看材质、做工和品牌口碑'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.539, 'infer_time': 0.122, 'content': '马拉松赛事确实很热门', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何判断一件商品的质量好坏'}]}, {'role': 'assistant', 'content': '看材质、做工和品牌口碑'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.572, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了最近有个马拉松赛事挺热门的聊聊这个吧'}}
[2025-11-19 02:46:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.723, 'infer_time': 0.179, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:18] 收到 tts_done, timestamp=13.723s
[2025-11-19 02:46:18] 在 13.72s 插入 TTS（2.17s）
[2025-11-19 02:46:27] 音频发送完毕，用时 22.59s
[2025-11-19 02:46:27] WebSocket 已关闭，结束接收循环
[2025-11-19 02:46:27] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0008_add_output.wav，时长 21.86s
[2025-11-19 02:46:27] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0008_add_output.wav
[2025-11-19 02:46:27] 处理完成: 0006_0008_add.wav
[2025-11-19 02:46:27] -----------------------------------
[2025-11-19 02:46:27] 开始处理文件: 0006_0010_add.wav
[2025-11-19 02:46:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:46:27] 初始化输出 buffer，总时长 23.00s（368000 samples）
[2025-11-19 02:46:27] 开始发送 0006_0010_add.wav，总帧 1438，时长 23.00s
[2025-11-19 02:46:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.063, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.717, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.812, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.966, 'turn': 0, 'state': 'LISTEN', 'content': '运动服饰的面料有哪些高科技材质'}}
[2025-11-19 02:46:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.049, 'infer_time': 0.233, 'content': '运动服饰常用高科技面料有聚酯纤维、氨纶和Coolmax等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.488, 'infer_time': 0.434, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:32] 收到 tts_done, timestamp=4.488s
[2025-11-19 02:46:32] 在 4.49s 插入 TTS（5.86s）
[2025-11-19 02:46:36] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.331}}
[2025-11-19 02:46:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.381, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:46:37] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.835, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.722, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.37, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.472, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.569, 'infer_time': 0.092, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '运动服饰的面料有哪些高科技材质'}]}, {'role': 'assistant', 'content': '运动服饰常用高科技面料有聚酯纤维、氨纶和Coolmax等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.739, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下最近海外剧同步追更的渠道有哪些'}}
[2025-11-19 02:46:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.793, 'infer_time': 0.218, 'content': 'Netflix、Disney+和HBO Max是主流同步追更平台。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '运动服饰的面料有哪些高科技材质'}]}, {'role': 'assistant', 'content': '运动服饰常用高科技面料有聚酯纤维、氨纶和Coolmax等。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.203, 'infer_time': 0.405, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:46:43] 收到 tts_done, timestamp=15.203s
[2025-11-19 02:46:43] 在 15.20s 插入 TTS（5.49s）
[2025-11-19 02:46:51] 音频发送完毕，用时 23.82s
[2025-11-19 02:46:51] WebSocket 已关闭，结束接收循环
[2025-11-19 02:46:51] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0010_add_output.wav，时长 23.00s
[2025-11-19 02:46:51] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0010_add_output.wav
[2025-11-19 02:46:51] 处理完成: 0006_0010_add.wav
[2025-11-19 02:46:51] -----------------------------------
[2025-11-19 02:46:51] 开始处理文件: 0006_0012_add.wav
[2025-11-19 02:46:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:46:51] 初始化输出 buffer，总时长 20.65s（330400 samples）
[2025-11-19 02:46:51] 开始发送 0006_0012_add.wav，总帧 1291，时长 20.65s
[2025-11-19 02:46:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.965, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.619, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.72, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.874, 'turn': 0, 'state': 'LISTEN', 'content': '外卖平台有哪些分享优惠的好方法'}}
[2025-11-19 02:46:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.907, 'infer_time': 0.183, 'content': '多平台比价，关注限时折扣和新人优惠。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.221, 'infer_time': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:46:55] 收到 tts_done, timestamp=4.221s
[2025-11-19 02:46:55] 在 4.22s 插入 TTS（4.07s）
[2025-11-19 02:46:59] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.192}}
[2025-11-19 02:47:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.242, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:47:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.7, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.243, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.893, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.984, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.073, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '外卖平台有哪些分享优惠的好方法'}]}, {'role': 'assistant', 'content': '多平台比价，关注限时折扣和新人优惠。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.19, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊知识产权保护吧'}}
[2025-11-19 02:47:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.224, 'infer_time': 0.148, 'content': '知识产权保护很重要，能激励创新。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '外卖平台有哪些分享优惠的好方法'}]}, {'role': 'assistant', 'content': '多平台比价，关注限时折扣和新人优惠。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.489, 'infer_time': 0.259, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:04] 收到 tts_done, timestamp=12.489s
[2025-11-19 02:47:04] 在 12.49s 插入 TTS（3.37s）
[2025-11-19 02:47:12] 音频发送完毕，用时 21.29s
[2025-11-19 02:47:12] WebSocket 已关闭，结束接收循环
[2025-11-19 02:47:12] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0012_add_output.wav，时长 20.65s
[2025-11-19 02:47:12] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0012_add_output.wav
[2025-11-19 02:47:12] 处理完成: 0006_0012_add.wav
[2025-11-19 02:47:12] -----------------------------------
[2025-11-19 02:47:12] 开始处理文件: 0006_0016.wav
[2025-11-19 02:47:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:47:12] 初始化输出 buffer，总时长 22.58s（361281 samples）
[2025-11-19 02:47:12] 开始发送 0006_0016.wav，总帧 1412，时长 22.58s
[2025-11-19 02:47:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.745, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.394, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.486, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.589, 'turn': 0, 'state': 'LISTEN', 'content': '在餐厅点错饮料该怎么办'}}
[2025-11-19 02:47:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.662, 'infer_time': 0.172, 'content': '别担心，直接告诉服务员换一杯就好啦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.923, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:16] 收到 tts_done, timestamp=3.923s
[2025-11-19 02:47:16] 在 3.92s 插入 TTS（3.38s）
[2025-11-19 02:47:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.071}}
[2025-11-19 02:47:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.118, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:47:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.581, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.173, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.054, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.701, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.803, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.896, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在餐厅点错饮料该怎么办'}]}, {'role': 'assistant', 'content': '别担心，直接告诉服务员换一杯就好啦。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.089, 'infer_time': 0.188, 'content': '当然有了解，不同轴体手感差异挺大的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '在餐厅点错饮料该怎么办'}]}, {'role': 'assistant', 'content': '别担心，直接告诉服务员换一杯就好啦。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.111, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了你对机械键盘的轴体有研究吗'}}
[2025-11-19 02:47:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.366, 'infer_time': 0.271, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:27] 收到 tts_done, timestamp=14.366s
[2025-11-19 02:47:27] 在 14.37s 插入 TTS（3.49s）
[2025-11-19 02:47:36] 音频发送完毕，用时 23.19s
[2025-11-19 02:47:36] WebSocket 已关闭，结束接收循环
[2025-11-19 02:47:36] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0016_output.wav，时长 22.58s
[2025-11-19 02:47:36] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0016_output.wav
[2025-11-19 02:47:36] 处理完成: 0006_0016.wav
[2025-11-19 02:47:36] -----------------------------------
[2025-11-19 02:47:36] 开始处理文件: 0006_0016_add.wav
[2025-11-19 02:47:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:47:36] 初始化输出 buffer，总时长 22.46s（359360 samples）
[2025-11-19 02:47:36] 开始发送 0006_0016_add.wav，总帧 1404，时长 22.46s
[2025-11-19 02:47:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.439, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.095, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.187, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.34, 'turn': 0, 'state': 'LISTEN', 'content': '如何根据我的肤质选择合适的底妆产品'}}
[2025-11-19 02:47:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.384, 'infer_time': 0.192, 'content': '干皮选滋润型，油皮用控油款。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.654, 'infer_time': 0.264, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:47:40] 收到 tts_done, timestamp=4.654s
[2025-11-19 02:47:40] 在 4.65s 插入 TTS（3.41s）
[2025-11-19 02:47:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.625}}
[2025-11-19 02:47:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.138, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.584, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.107, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.757, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.854, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.946, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何根据我的肤质选择合适的底妆产品'}]}, {'role': 'assistant', 'content': '干皮选滋润型，油皮用控油款。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.109, 'turn': 1, 'state': 'LISTEN', 'content': '不说这个了我们聊一聊拼单日用品吧最近想买些东西'}}
[2025-11-19 02:47:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.157, 'infer_time': 0.206, 'content': '拼单日用品挺划算的，可以和朋友一起买。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何根据我的肤质选择合适的底妆产品'}]}, {'role': 'assistant', 'content': '干皮选滋润型，油皮用控油款。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.446, 'infer_time': 0.284, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:47:50] 收到 tts_done, timestamp=14.446s
[2025-11-19 02:47:50] 在 14.45s 插入 TTS（3.68s）
[2025-11-19 02:47:59] 音频发送完毕，用时 23.23s
[2025-11-19 02:47:59] WebSocket 已关闭，结束接收循环
[2025-11-19 02:47:59] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0016_add_output.wav，时长 22.46s
[2025-11-19 02:47:59] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0016_add_output.wav
[2025-11-19 02:47:59] 处理完成: 0006_0016_add.wav
[2025-11-19 02:47:59] -----------------------------------
[2025-11-19 02:47:59] 开始处理文件: 0006_0018_add.wav
[2025-11-19 02:47:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:47:59] 初始化输出 buffer，总时长 21.89s（350240 samples）
[2025-11-19 02:47:59] 开始发送 0006_0018_add.wav，总帧 1369，时长 21.89s
[2025-11-19 02:47:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.78, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.435, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.532, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.734, 'turn': 0, 'state': 'LISTEN', 'content': '能分享一个冷笑化精选幺零三调理的例子吗'}}
[2025-11-19 02:48:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.825, 'infer_time': 0.288, 'content': '冷笑话精选103条里有个例子：为什么数学老师离婚了？因为他们的关系没有解。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.431, 'infer_time': 0.601, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:04] 收到 tts_done, timestamp=5.431s
[2025-11-19 02:48:04] 在 5.43s 插入 TTS（8.13s）
[2025-11-19 02:48:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.92}}
[2025-11-19 02:48:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.006, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:48:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.428, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.545, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.196, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.292, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.382, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能分享一个冷笑化精选幺零三调理的例子吗'}]}, {'role': 'assistant', 'content': '冷笑话精选103条里有个例子：为什么数学老师离婚了？因为他们的关系没有解。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.514, 'turn': 1, 'state': 'LISTEN', 'content': '不说笑话了聊聊同时间利益冲突怎么处理吧'}}
[2025-11-19 02:48:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.564, 'infer_time': 0.177, 'content': '坦诚沟通，明确底线，寻求共赢方案。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能分享一个冷笑化精选幺零三调理的例子吗'}]}, {'role': 'assistant', 'content': '冷笑话精选103条里有个例子：为什么数学老师离婚了？因为他们的关系没有解。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.87, 'infer_time': 0.3, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:13] 收到 tts_done, timestamp=13.87s
[2025-11-19 02:48:13] 在 13.87s 插入 TTS（4.02s）
[2025-11-19 02:48:21] 音频发送完毕，用时 22.60s
[2025-11-19 02:48:21] WebSocket 已关闭，结束接收循环
[2025-11-19 02:48:21] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0018_add_output.wav，时长 21.89s
[2025-11-19 02:48:21] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0018_add_output.wav
[2025-11-19 02:48:21] 处理完成: 0006_0018_add.wav
[2025-11-19 02:48:21] -----------------------------------
[2025-11-19 02:48:21] 开始处理文件: 0006_0020_add.wav
[2025-11-19 02:48:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:48:21] 初始化输出 buffer，总时长 22.18s（354880 samples）
[2025-11-19 02:48:21] 开始发送 0006_0020_add.wav，总帧 1387，时长 22.18s
[2025-11-19 02:48:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.926, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.566, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.667, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.827, 'infer_time': 0.156, 'content': '人工影响天气技术可实现局部调控。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.855, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过科技手段操控局部天气'}}
[2025-11-19 02:48:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.077, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:26] 收到 tts_done, timestamp=4.077s
[2025-11-19 02:48:26] 在 4.08s 插入 TTS（3.17s）
[2025-11-19 02:48:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.098}}
[2025-11-19 02:48:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.607, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.886, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.535, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.635, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.796, 'infer_time': 0.156, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过科技手段操控局部天气'}]}, {'role': 'assistant', 'content': '人工影响天气技术可实现局部调控。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.955, 'infer_time': 0.154, 'content': '规律作息，光照调节是关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何通过科技手段操控局部天气'}]}, {'role': 'assistant', 'content': '人工影响天气技术可实现局部调控。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.962, 'turn': 1, 'state': 'LISTEN', 'content': '不讨论气气了我想要了解一下如何科学调整生物钟'}}
[2025-11-19 02:48:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.217, 'infer_time': 0.255, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:36] 收到 tts_done, timestamp=14.217s
[2025-11-19 02:48:36] 在 14.22s 插入 TTS（3.26s）
[2025-11-19 02:48:44] 音频发送完毕，用时 22.93s
[2025-11-19 02:48:44] WebSocket 已关闭，结束接收循环
[2025-11-19 02:48:44] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0020_add_output.wav，时长 22.18s
[2025-11-19 02:48:44] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0020_add_output.wav
[2025-11-19 02:48:44] 处理完成: 0006_0020_add.wav
[2025-11-19 02:48:44] -----------------------------------
[2025-11-19 02:48:44] 开始处理文件: 0006_0031.wav
[2025-11-19 02:48:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:48:44] 初始化输出 buffer，总时长 24.45s（391200 samples）
[2025-11-19 02:48:44] 开始发送 0006_0031.wav，总帧 1529，时长 24.45s
[2025-11-19 02:48:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.825, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.069, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.723, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.822, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.996, 'turn': 0, 'state': 'LISTEN', 'content': '听说血型会影响厨艺水平这是真的吗'}}
[2025-11-19 02:48:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.036, 'infer_time': 0.209, 'content': '血型与厨艺无科学关联，纯属民间说法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.333, 'infer_time': 0.292, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:48:50] 收到 tts_done, timestamp=5.333s
[2025-11-19 02:48:50] 在 5.33s 插入 TTS（3.75s）
[2025-11-19 02:48:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.423}}
[2025-11-19 02:48:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.509, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:48:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.935, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.814, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.716, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:48:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.984, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.632, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.732, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.825, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '听说血型会影响厨艺水平这是真的吗'}]}, {'role': 'assistant', 'content': '血型与厨艺无科学关联，纯属民间说法。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.043, 'infer_time': 0.212, 'content': '番茄工作法很有效，专注25分钟休息5分钟。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '听说血型会影响厨艺水平这是真的吗'}]}, {'role': 'assistant', 'content': '血型与厨艺无科学关联，纯属民间说法。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.049, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了我想听听关于工作效率提升的方法'}}
[2025-11-19 02:49:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.397, 'infer_time': 0.348, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:01] 收到 tts_done, timestamp=16.397s
[2025-11-19 02:49:01] 在 16.40s 插入 TTS（4.50s）
[2025-11-19 02:49:10] 音频发送完毕，用时 25.21s
[2025-11-19 02:49:10] WebSocket 已关闭，结束接收循环
[2025-11-19 02:49:10] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0006_0031_output.wav，时长 24.45s
[2025-11-19 02:49:10] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0006_0031_output.wav
[2025-11-19 02:49:10] 处理完成: 0006_0031.wav
[2025-11-19 02:49:10] -----------------------------------
[2025-11-19 02:49:10] 开始处理文件: 0007_0001_add.wav
[2025-11-19 02:49:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:49:10] 初始化输出 buffer，总时长 24.19s（387040 samples）
[2025-11-19 02:49:10] 开始发送 0007_0001_add.wav，总帧 1512，时长 24.19s
[2025-11-19 02:49:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.695, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.445, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.556, 'turn': 0, 'state': 'LISTEN', 'content': '正日派对上应该注意哪些礼仪'}}
[2025-11-19 02:49:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.663, 'infer_time': 0.214, 'content': '生日派对礼仪包括准时到场、带礼物、尊重主人安排。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.055, 'infer_time': 0.387, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:14] 收到 tts_done, timestamp=4.055s
[2025-11-19 02:49:14] 在 4.05s 插入 TTS（5.30s）
[2025-11-19 02:49:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.134}}
[2025-11-19 02:49:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.421, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:49:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.64, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.615, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.804, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.453, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.559, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.669, 'infer_time': 0.105, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '正日派对上应该注意哪些礼仪'}]}, {'role': 'assistant', 'content': '生日派对礼仪包括准时到场、带礼物、尊重主人安排。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.874, 'infer_time': 0.2, 'content': '演唱会导演统筹全场，把控流程与艺术效果。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '正日派对上应该注意哪些礼仪'}]}, {'role': 'assistant', 'content': '生日派对礼仪包括准时到场、带礼物、尊重主人安排。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.906, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下演唱会导演主要负责什么工作'}}
[2025-11-19 02:49:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.185, 'infer_time': 0.304, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:26] 收到 tts_done, timestamp=16.185s
[2025-11-19 02:49:26] 在 16.18s 插入 TTS（3.96s）
[2025-11-19 02:49:35] 音频发送完毕，用时 24.91s
[2025-11-19 02:49:35] WebSocket 已关闭，结束接收循环
[2025-11-19 02:49:35] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0001_add_output.wav，时长 24.19s
[2025-11-19 02:49:35] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0001_add_output.wav
[2025-11-19 02:49:35] 处理完成: 0007_0001_add.wav
[2025-11-19 02:49:35] -----------------------------------
[2025-11-19 02:49:35] 开始处理文件: 0007_0002_add.wav
[2025-11-19 02:49:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:49:35] 初始化输出 buffer，总时长 22.39s（358240 samples）
[2025-11-19 02:49:35] 开始发送 0007_0002_add.wav，总帧 1400，时长 22.39s
[2025-11-19 02:49:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.701, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.351, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.44, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.599, 'infer_time': 0.155, 'content': '多关注线上优惠，培养网购习惯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.604, 'turn': 0, 'state': 'LISTEN', 'content': '何适应线上消费习惯的变化'}}
[2025-11-19 02:49:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.859, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:49:38] 收到 tts_done, timestamp=3.859s
[2025-11-19 02:49:38] 在 3.86s 插入 TTS（3.33s）
[2025-11-19 02:49:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.988}}
[2025-11-19 02:49:44] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.497, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.597, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.25, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.355, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.449, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '何适应线上消费习惯的变化'}]}, {'role': 'assistant', 'content': '多关注线上优惠，培养网购习惯。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.604, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊这个了我们谈谈职场中的幽默分寸吧'}}
[2025-11-19 02:49:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.646, 'infer_time': 0.191, 'content': '职场幽默要把握分寸，避免冒犯他人。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '何适应线上消费习惯的变化'}]}, {'role': 'assistant', 'content': '多关注线上优惠，培养网购习惯。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.961, 'infer_time': 0.309, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:49:49] 收到 tts_done, timestamp=13.961s
[2025-11-19 02:49:49] 在 13.96s 插入 TTS（3.99s）
[2025-11-19 02:49:58] 音频发送完毕，用时 22.95s
[2025-11-19 02:49:58] WebSocket 已关闭，结束接收循环
[2025-11-19 02:49:58] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0002_add_output.wav，时长 22.39s
[2025-11-19 02:49:58] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0002_add_output.wav
[2025-11-19 02:49:58] 处理完成: 0007_0002_add.wav
[2025-11-19 02:49:58] -----------------------------------
[2025-11-19 02:49:58] 开始处理文件: 0007_0003_add.wav
[2025-11-19 02:49:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:49:58] 初始化输出 buffer，总时长 22.01s（352160 samples）
[2025-11-19 02:49:58] 开始发送 0007_0003_add.wav，总帧 1376，时长 22.01s
[2025-11-19 02:49:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.17, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.816, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.913, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.054, 'infer_time': 0.138, 'content': '指变量间无统计关联性', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.105, 'turn': 0, 'state': 'LISTEN', 'content': '依赖独立性在统计学中具体指什么'}}
[2025-11-19 02:50:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.257, 'infer_time': 0.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:02] 收到 tts_done, timestamp=4.257s
[2025-11-19 02:50:02] 在 4.26s 插入 TTS（2.44s）
[2025-11-19 02:50:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.626}}
[2025-11-19 02:50:08] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.139, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.458, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.108, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.251, 'infer_time': 0.139, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.409, 'infer_time': 0.154, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '依赖独立性在统计学中具体指什么'}]}, {'role': 'assistant', 'content': '指变量间无统计关联性'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.545, 'turn': 1, 'state': 'LISTEN', 'content': '先停一下先别讲这个了我们聊聊人际关系吧'}}
[2025-11-19 02:50:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.73, 'infer_time': 0.316, 'content': '人际关系是人与人之间的互动关系', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '依赖独立性在统计学中具体指什么'}]}, {'role': 'assistant', 'content': '指变量间无统计关联性'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.03, 'infer_time': 0.293, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:12] 收到 tts_done, timestamp=14.03s
[2025-11-19 02:50:12] 在 14.03s 插入 TTS（3.55s）
[2025-11-19 02:50:20] 音频发送完毕，用时 22.71s
[2025-11-19 02:50:20] WebSocket 已关闭，结束接收循环
[2025-11-19 02:50:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0003_add_output.wav，时长 22.01s
[2025-11-19 02:50:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0003_add_output.wav
[2025-11-19 02:50:20] 处理完成: 0007_0003_add.wav
[2025-11-19 02:50:20] -----------------------------------
[2025-11-19 02:50:20] 开始处理文件: 0007_0009.wav
[2025-11-19 02:50:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:50:20] 初始化输出 buffer，总时长 24.10s（385600 samples）
[2025-11-19 02:50:20] 开始发送 0007_0009.wav，总帧 1507，时长 24.10s
[2025-11-19 02:50:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.884, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.533, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.632, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.801, 'turn': 0, 'state': 'LISTEN', 'content': '最近有什么重要的考古新发现吗'}}
[2025-11-19 02:50:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.814, 'infer_time': 0.177, 'content': '最近有良渚古城新发现，挺重要的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.104, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:25] 收到 tts_done, timestamp=5.104s
[2025-11-19 02:50:25] 在 5.10s 插入 TTS（3.73s）
[2025-11-19 02:50:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.213}}
[2025-11-19 02:50:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.727, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.913, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.821, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.47, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.572, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.669, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有什么重要的考古新发现吗'}]}, {'role': 'assistant', 'content': '最近有良渚古城新发现，挺重要的。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.866, 'infer_time': 0.192, 'content': '选运动相机看分辨率、防抖和续航就行。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '最近有什么重要的考古新发现吗'}]}, {'role': 'assistant', 'content': '最近有良渚古城新发现，挺重要的。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.887, 'turn': 1, 'state': 'LISTEN', 'content': '先不说考古了我想了解一下运动相机的选购技巧'}}
[2025-11-19 02:50:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.141, 'infer_time': 0.269, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:36] 收到 tts_done, timestamp=16.141s
[2025-11-19 02:50:36] 在 16.14s 插入 TTS（3.52s）
[2025-11-19 02:50:45] 音频发送完毕，用时 24.98s
[2025-11-19 02:50:45] WebSocket 已关闭，结束接收循环
[2025-11-19 02:50:45] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0009_output.wav，时长 24.10s
[2025-11-19 02:50:45] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0009_output.wav
[2025-11-19 02:50:45] 处理完成: 0007_0009.wav
[2025-11-19 02:50:45] -----------------------------------
[2025-11-19 02:50:45] 开始处理文件: 0007_0009_add.wav
[2025-11-19 02:50:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:50:45] 初始化输出 buffer，总时长 21.84s（349441 samples）
[2025-11-19 02:50:45] 开始发送 0007_0009_add.wav，总帧 1366，时长 21.84s
[2025-11-19 02:50:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.707, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.351, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.451, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.578, 'turn': 0, 'state': 'LISTEN', 'content': '如果外星人入侵地球我们普通人应该怎么做'}}
[2025-11-19 02:50:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.604, 'infer_time': 0.149, 'content': '保持冷静，听从官方指引。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.846, 'infer_time': 0.236, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:50:50] 收到 tts_done, timestamp=4.846s
[2025-11-19 02:50:50] 在 4.85s 插入 TTS（2.94s）
[2025-11-19 02:50:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.043}}
[2025-11-19 02:50:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.549, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.392, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.04, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.133, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.219, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果外星人入侵地球我们普通人应该怎么做'}]}, {'role': 'assistant', 'content': '保持冷静，听从官方指引。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.399, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊团体购票吧'}}
[2025-11-19 02:50:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.421, 'infer_time': 0.197, 'content': '团体购票通常需要提前联系票务平台或旅行社办理。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果外星人入侵地球我们普通人应该怎么做'}]}, {'role': 'assistant', 'content': '保持冷静，听从官方指引。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.797, 'infer_time': 0.371, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:50:59] 收到 tts_done, timestamp=13.797s
[2025-11-19 02:50:59] 在 13.80s 插入 TTS（4.96s）
[2025-11-19 02:51:08] 音频发送完毕，用时 22.53s
[2025-11-19 02:51:08] WebSocket 已关闭，结束接收循环
[2025-11-19 02:51:08] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0009_add_output.wav，时长 21.84s
[2025-11-19 02:51:08] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0009_add_output.wav
[2025-11-19 02:51:08] 处理完成: 0007_0009_add.wav
[2025-11-19 02:51:08] -----------------------------------
[2025-11-19 02:51:08] 开始处理文件: 0007_0012_add.wav
[2025-11-19 02:51:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:51:08] 初始化输出 buffer，总时长 21.74s（347840 samples）
[2025-11-19 02:51:08] 开始发送 0007_0012_add.wav，总帧 1359，时长 21.74s
[2025-11-19 02:51:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.678, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.42, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.581, 'turn': 0, 'state': 'LISTEN', 'content': '饮酒会上如何选择合适的葡萄酒搭配食物'}}
[2025-11-19 02:51:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.583, 'infer_time': 0.158, 'content': '红肉配红酒，海鲜选白酒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.813, 'infer_time': 0.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:13] 收到 tts_done, timestamp=4.813s
[2025-11-19 02:51:13] 在 4.81s 插入 TTS（2.93s）
[2025-11-19 02:51:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.09}}
[2025-11-19 02:51:18] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.598, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.108, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.758, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.854, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.942, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '饮酒会上如何选择合适的葡萄酒搭配食物'}]}, {'role': 'assistant', 'content': '红肉配红酒，海鲜选白酒。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.072, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊表达方式吧'}}
[2025-11-19 02:51:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.086, 'infer_time': 0.139, 'content': '好的，我们聊聊表达方式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '饮酒会上如何选择合适的葡萄酒搭配食物'}]}, {'role': 'assistant', 'content': '红肉配红酒，海鲜选白酒。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.27, 'infer_time': 0.179, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:21] 收到 tts_done, timestamp=13.27s
[2025-11-19 02:51:21] 在 13.27s 插入 TTS（2.21s）
[2025-11-19 02:51:30] 音频发送完毕，用时 22.39s
[2025-11-19 02:51:30] WebSocket 已关闭，结束接收循环
[2025-11-19 02:51:30] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0012_add_output.wav，时长 21.74s
[2025-11-19 02:51:30] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0012_add_output.wav
[2025-11-19 02:51:30] 处理完成: 0007_0012_add.wav
[2025-11-19 02:51:30] -----------------------------------
[2025-11-19 02:51:30] 开始处理文件: 0007_0015_add.wav
[2025-11-19 02:51:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:51:30] 初始化输出 buffer，总时长 20.62s（329920 samples）
[2025-11-19 02:51:30] 开始发送 0007_0015_add.wav，总帧 1289，时长 20.62s
[2025-11-19 02:51:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.519, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.267, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.431, 'turn': 0, 'state': 'LISTEN', 'content': '睡前喝酒真的有助于睡眠吗'}}
[2025-11-19 02:51:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.453, 'infer_time': 0.181, 'content': '睡前喝酒可能助眠，但会降低睡眠质量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.771, 'infer_time': 0.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:34] 收到 tts_done, timestamp=3.771s
[2025-11-19 02:51:34] 在 3.77s 插入 TTS（4.08s）
[2025-11-19 02:51:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.839}}
[2025-11-19 02:51:40] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.347, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.086, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.734, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.829, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.92, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '睡前喝酒真的有助于睡眠吗'}]}, {'role': 'assistant', 'content': '睡前喝酒可能助眠，但会降低睡眠质量。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.049, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了给我讲讲短视频营宵吧'}}
[2025-11-19 02:51:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.105, 'infer_time': 0.18, 'content': '短视频营销靠内容吸引，互动转化是关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '睡前喝酒真的有助于睡眠吗'}]}, {'role': 'assistant', 'content': '睡前喝酒可能助眠，但会降低睡眠质量。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.428, 'infer_time': 0.317, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:51:43] 收到 tts_done, timestamp=12.428s
[2025-11-19 02:51:43] 在 12.43s 插入 TTS（4.03s）
[2025-11-19 02:51:51] 音频发送完毕，用时 21.17s
[2025-11-19 02:51:51] WebSocket 已关闭，结束接收循环
[2025-11-19 02:51:51] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0015_add_output.wav，时长 20.62s
[2025-11-19 02:51:51] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0015_add_output.wav
[2025-11-19 02:51:51] 处理完成: 0007_0015_add.wav
[2025-11-19 02:51:51] -----------------------------------
[2025-11-19 02:51:51] 开始处理文件: 0007_0017.wav
[2025-11-19 02:51:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:51:51] 初始化输出 buffer，总时长 22.92s（366720 samples）
[2025-11-19 02:51:51] 开始发送 0007_0017.wav，总帧 1433，时长 22.92s
[2025-11-19 02:51:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.505, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.159, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.256, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.408, 'infer_time': 0.147, 'content': '注意人身财产安全，警惕诈骗。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.417, 'turn': 0, 'state': 'LISTEN', 'content': '暑假打工应该注意哪些安全问题'}}
[2025-11-19 02:51:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.66, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:51:56] 收到 tts_done, timestamp=4.66s
[2025-11-19 02:51:56] 在 4.66s 插入 TTS（3.05s）
[2025-11-19 02:52:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.932}}
[2025-11-19 02:52:02] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.443, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.798, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.546, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.194, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.295, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.389, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '暑假打工应该注意哪些安全问题'}]}, {'role': 'assistant', 'content': '注意人身财产安全，警惕诈骗。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.581, 'turn': 1, 'state': 'LISTEN', 'content': '算了不说打工了聊聊你以前逃客的经历吧'}}
[2025-11-19 02:52:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.582, 'infer_time': 0.188, 'content': '我作为AI没有亲身经历，无法逃课哦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '暑假打工应该注意哪些安全问题'}]}, {'role': 'assistant', 'content': '注意人身财产安全，警惕诈骗。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.872, 'infer_time': 0.284, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:06] 收到 tts_done, timestamp=14.872s
[2025-11-19 02:52:06] 在 14.87s 插入 TTS（3.58s）
[2025-11-19 02:52:15] 音频发送完毕，用时 23.70s
[2025-11-19 02:52:15] WebSocket 已关闭，结束接收循环
[2025-11-19 02:52:15] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0017_output.wav，时长 22.92s
[2025-11-19 02:52:15] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0017_output.wav
[2025-11-19 02:52:15] 处理完成: 0007_0017.wav
[2025-11-19 02:52:15] -----------------------------------
[2025-11-19 02:52:15] 开始处理文件: 0007_0034.wav
[2025-11-19 02:52:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:52:15] 初始化输出 buffer，总时长 25.42s（406719 samples）
[2025-11-19 02:52:15] 开始发送 0007_0034.wav，总帧 1589，时长 25.42s
[2025-11-19 02:52:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.534, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.189, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.29, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.433, 'turn': 0, 'state': 'LISTEN', 'content': '中血型的人在工作中的责任感有差异吗'}}
[2025-11-19 02:52:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.446, 'infer_time': 0.152, 'content': '血型与责任感无科学关联。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.676, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:21] 收到 tts_done, timestamp=5.676s
[2025-11-19 02:52:21] 在 5.68s 插入 TTS（2.85s）
[2025-11-19 02:52:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.822}}
[2025-11-19 02:52:27] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.335, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.655, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.239, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.888, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.994, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.106, 'infer_time': 0.107, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中血型的人在工作中的责任感有差异吗'}]}, {'role': 'assistant', 'content': '血型与责任感无科学关联。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.286, 'infer_time': 0.175, 'content': '青少年教育需平衡学业与心理健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中血型的人在工作中的责任感有差异吗'}]}, {'role': 'assistant', 'content': '血型与责任感无科学关联。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.342, 'turn': 1, 'state': 'LISTEN', 'content': '算了不说血型了我想听听你对现在青少年教育问题的看法'}}
[2025-11-19 02:52:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.524, 'infer_time': 0.233, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:33] 收到 tts_done, timestamp=17.524s
[2025-11-19 02:52:33] 在 17.52s 插入 TTS（2.95s）
[2025-11-19 02:52:42] 音频发送完毕，用时 26.38s
[2025-11-19 02:52:42] WebSocket 已关闭，结束接收循环
[2025-11-19 02:52:42] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0007_0034_output.wav，时长 25.42s
[2025-11-19 02:52:42] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0007_0034_output.wav
[2025-11-19 02:52:42] 处理完成: 0007_0034.wav
[2025-11-19 02:52:42] -----------------------------------
[2025-11-19 02:52:42] 开始处理文件: 0008_0001_add.wav
[2025-11-19 02:52:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:52:42] 初始化输出 buffer，总时长 20.93s（334880 samples）
[2025-11-19 02:52:42] 开始发送 0008_0001_add.wav，总帧 1309，时长 20.93s
[2025-11-19 02:52:42] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.09, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.743, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.837, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.99, 'turn': 0, 'state': 'LISTEN', 'content': '我特别怕狗有什么好办法克服吗'}}
[2025-11-19 02:52:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.031, 'infer_time': 0.19, 'content': '可以尝试循序渐进接触，或寻求专业帮助。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.329, 'infer_time': 0.294, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:52:46] 收到 tts_done, timestamp=4.329s
[2025-11-19 02:52:46] 在 4.33s 插入 TTS（3.91s）
[2025-11-19 02:52:50] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.397}}
[2025-11-19 02:52:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.45, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:52:51] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.903, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.444, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.094, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.191, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.276, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我特别怕狗有什么好办法克服吗'}]}, {'role': 'assistant', 'content': '可以尝试循序渐进接触，或寻求专业帮助。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.393, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了聊聊怎么维系友情吧'}}
[2025-11-19 02:52:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.429, 'infer_time': 0.149, 'content': '真诚沟通，多关心对方感受。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我特别怕狗有什么好办法克服吗'}]}, {'role': 'assistant', 'content': '可以尝试循序渐进接触，或寻求专业帮助。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.7, 'infer_time': 0.266, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:52:54] 收到 tts_done, timestamp=12.7s
[2025-11-19 02:52:54] 在 12.70s 插入 TTS（3.40s）
[2025-11-19 02:53:03] 音频发送完毕，用时 21.59s
[2025-11-19 02:53:03] WebSocket 已关闭，结束接收循环
[2025-11-19 02:53:03] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0001_add_output.wav，时长 20.93s
[2025-11-19 02:53:03] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0001_add_output.wav
[2025-11-19 02:53:03] 处理完成: 0008_0001_add.wav
[2025-11-19 02:53:03] -----------------------------------
[2025-11-19 02:53:03] 开始处理文件: 0008_0012_add.wav
[2025-11-19 02:53:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:53:03] 初始化输出 buffer，总时长 19.38s（310080 samples）
[2025-11-19 02:53:03] 开始发送 0008_0012_add.wav，总帧 1212，时长 19.38s
[2025-11-19 02:53:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.009, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.661, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.755, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.843, 'turn': 0, 'state': 'LISTEN', 'content': '如何保障粮食安全'}}
[2025-11-19 02:53:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.902, 'infer_time': 0.143, 'content': '加强耕地保护，提升农业科技水平。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:06] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.163, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:06] 收到 tts_done, timestamp=3.163s
[2025-11-19 02:53:06] 在 3.16s 插入 TTS（3.30s）
[2025-11-19 02:53:10] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.28}}
[2025-11-19 02:53:12] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 8.789, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.821, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.47, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.561, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.645, 'infer_time': 0.08, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何保障粮食安全'}]}, {'role': 'assistant', 'content': '加强耕地保护，提升农业科技水平。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.784, 'infer_time': 0.135, 'content': '药品价格需多方监管调控。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何保障粮食安全'}]}, {'role': 'assistant', 'content': '加强耕地保护，提升农业科技水平。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 10.823, 'turn': 1, 'state': 'LISTEN', 'content': '我们换个话题聊聊药品价格吧'}}
[2025-11-19 02:53:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 10.982, 'infer_time': 0.192, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:14] 收到 tts_done, timestamp=10.982s
[2025-11-19 02:53:14] 在 10.98s 插入 TTS（2.44s）
[2025-11-19 02:53:23] 音频发送完毕，用时 19.94s
[2025-11-19 02:53:23] WebSocket 已关闭，结束接收循环
[2025-11-19 02:53:23] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0012_add_output.wav，时长 19.38s
[2025-11-19 02:53:23] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0012_add_output.wav
[2025-11-19 02:53:23] 处理完成: 0008_0012_add.wav
[2025-11-19 02:53:23] -----------------------------------
[2025-11-19 02:53:23] 开始处理文件: 0008_0013_add.wav
[2025-11-19 02:53:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:53:23] 初始化输出 buffer，总时长 20.99s（335840 samples）
[2025-11-19 02:53:23] 开始发送 0008_0013_add.wav，总帧 1312，时长 20.99s
[2025-11-19 02:53:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.919, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.571, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.733, 'infer_time': 0.158, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.855, 'turn': 0, 'state': 'LISTEN', 'content': '如何评估一支股票的投资价值'}}
[2025-11-19 02:53:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.861, 'infer_time': 0.125, 'content': '分析财务报表和行业前景', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.109, 'infer_time': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:27] 收到 tts_done, timestamp=4.109s
[2025-11-19 02:53:27] 在 4.11s 插入 TTS（2.59s）
[2025-11-19 02:53:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.0}}
[2025-11-19 02:53:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.049, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:53:33] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.501, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.519, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.169, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.267, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.357, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何评估一支股票的投资价值'}]}, {'role': 'assistant', 'content': '分析财务报表和行业前景'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.485, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了聊聊最近明星撞衫的话题吧'}}
[2025-11-19 02:53:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.511, 'infer_time': 0.15, 'content': '明星撞衫挺常见的，各有风格', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何评估一支股票的投资价值'}]}, {'role': 'assistant', 'content': '分析财务报表和行业前景'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.769, 'infer_time': 0.252, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:36] 收到 tts_done, timestamp=12.769s
[2025-11-19 02:53:36] 在 12.77s 插入 TTS（3.21s）
[2025-11-19 02:53:45] 音频发送完毕，用时 21.62s
[2025-11-19 02:53:45] WebSocket 已关闭，结束接收循环
[2025-11-19 02:53:45] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0013_add_output.wav，时长 20.99s
[2025-11-19 02:53:45] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0013_add_output.wav
[2025-11-19 02:53:45] 处理完成: 0008_0013_add.wav
[2025-11-19 02:53:45] -----------------------------------
[2025-11-19 02:53:45] 开始处理文件: 0008_0015.wav
[2025-11-19 02:53:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:53:45] 初始化输出 buffer，总时长 23.61s（377761 samples）
[2025-11-19 02:53:45] 开始发送 0008_0015.wav，总帧 1476，时长 23.61s
[2025-11-19 02:53:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.106, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.659, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.405, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.574, 'infer_time': 0.164, 'content': '血型与电影偏好无科学关联。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.584, 'turn': 0, 'state': 'LISTEN', 'content': '不同血型的人真的会有不同的电影偏好吗'}}
[2025-11-19 02:53:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.816, 'infer_time': 0.237, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:53:50] 收到 tts_done, timestamp=4.816s
[2025-11-19 02:53:50] 在 4.82s 插入 TTS（2.94s）
[2025-11-19 02:53:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.027}}
[2025-11-19 02:53:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.406, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:53:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.619, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:53:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.805, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.906, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.001, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '不同血型的人真的会有不同的电影偏好吗'}]}, {'role': 'assistant', 'content': '血型与电影偏好无科学关联。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.186, 'infer_time': 0.181, 'content': '快充通过提高电压或电流实现快速充电。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '不同血型的人真的会有不同的电影偏好吗'}]}, {'role': 'assistant', 'content': '血型与电影偏好无科学关联。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.207, 'turn': 1, 'state': 'LISTEN', 'content': '算了不说血型了我想了解一下快充充电器的原理'}}
[2025-11-19 02:54:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.497, 'infer_time': 0.306, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:00] 收到 tts_done, timestamp=15.497s
[2025-11-19 02:54:00] 在 15.50s 插入 TTS（3.98s）
[2025-11-19 02:54:09] 音频发送完毕，用时 24.29s
[2025-11-19 02:54:09] WebSocket 已关闭，结束接收循环
[2025-11-19 02:54:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0015_output.wav，时长 23.61s
[2025-11-19 02:54:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0015_output.wav
[2025-11-19 02:54:09] 处理完成: 0008_0015.wav
[2025-11-19 02:54:09] -----------------------------------
[2025-11-19 02:54:09] 开始处理文件: 0008_0015_add.wav
[2025-11-19 02:54:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:54:09] 初始化输出 buffer，总时长 20.58s（329280 samples）
[2025-11-19 02:54:09] 开始发送 0008_0015_add.wav，总帧 1287，时长 20.58s
[2025-11-19 02:54:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.993, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.645, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.744, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.858, 'turn': 0, 'state': 'LISTEN', 'content': '今年春天最流行的穿搭风格是什么'}}
[2025-11-19 02:54:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.941, 'infer_time': 0.193, 'content': '今年春天流行简约休闲风，大地色系很受欢迎。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.28, 'infer_time': 0.335, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:13] 收到 tts_done, timestamp=4.28s
[2025-11-19 02:54:13] 在 4.28s 插入 TTS（4.45s）
[2025-11-19 02:54:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.347}}
[2025-11-19 02:54:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.857, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.091, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.741, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.832, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.919, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '今年春天最流行的穿搭风格是什么'}]}, {'role': 'assistant', 'content': '今年春天流行简约休闲风，大地色系很受欢迎。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.043, 'turn': 1, 'state': 'LISTEN', 'content': '先不说穿搭了我们聊聊武术套路吧'}}
[2025-11-19 02:54:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.119, 'infer_time': 0.196, 'content': '武术套路讲究刚柔并济，形神兼备。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '今年春天最流行的穿搭风格是什么'}]}, {'role': 'assistant', 'content': '今年春天流行简约休闲风，大地色系很受欢迎。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.399, 'infer_time': 0.275, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:21] 收到 tts_done, timestamp=12.399s
[2025-11-19 02:54:21] 在 12.40s 插入 TTS（3.57s）
[2025-11-19 02:54:30] 音频发送完毕，用时 21.21s
[2025-11-19 02:54:30] WebSocket 已关闭，结束接收循环
[2025-11-19 02:54:30] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0015_add_output.wav，时长 20.58s
[2025-11-19 02:54:30] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0015_add_output.wav
[2025-11-19 02:54:30] 处理完成: 0008_0015_add.wav
[2025-11-19 02:54:30] -----------------------------------
[2025-11-19 02:54:30] 开始处理文件: 0008_0017_add.wav
[2025-11-19 02:54:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:54:30] 初始化输出 buffer，总时长 22.63s（362080 samples）
[2025-11-19 02:54:30] 开始发送 0008_0017_add.wav，总帧 1415，时长 22.63s
[2025-11-19 02:54:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.631, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.729, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.921, 'turn': 0, 'state': 'LISTEN', 'content': '星座文化真的能准确预测一个人的性格吗'}}
[2025-11-19 02:54:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.927, 'infer_time': 0.194, 'content': '星座文化更多是娱乐参考，性格受多种因素影响。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.326, 'infer_time': 0.395, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:36] 收到 tts_done, timestamp=5.326s
[2025-11-19 02:54:36] 在 5.33s 插入 TTS（4.75s）
[2025-11-19 02:54:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.273}}
[2025-11-19 02:54:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.152, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:54:41] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.775, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.265, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.912, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.008, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.098, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '星座文化真的能准确预测一个人的性格吗'}]}, {'role': 'assistant', 'content': '星座文化更多是娱乐参考，性格受多种因素影响。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.251, 'turn': 1, 'state': 'LISTEN', 'content': '停一下别聊星座了我们谈谈科技接受程度吧'}}
[2025-11-19 02:54:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.262, 'infer_time': 0.159, 'content': '好的，我们来聊聊科技接受程度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '星座文化真的能准确预测一个人的性格吗'}]}, {'role': 'assistant', 'content': '星座文化更多是娱乐参考，性格受多种因素影响。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.498, 'infer_time': 0.23, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:54:45] 收到 tts_done, timestamp=14.498s
[2025-11-19 02:54:45] 在 14.50s 插入 TTS（2.82s）
[2025-11-19 02:54:54] 音频发送完毕，用时 23.38s
[2025-11-19 02:54:54] WebSocket 已关闭，结束接收循环
[2025-11-19 02:54:54] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0017_add_output.wav，时长 22.63s
[2025-11-19 02:54:54] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0017_add_output.wav
[2025-11-19 02:54:54] 处理完成: 0008_0017_add.wav
[2025-11-19 02:54:54] -----------------------------------
[2025-11-19 02:54:54] 开始处理文件: 0008_0019_add.wav
[2025-11-19 02:54:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:54:54] 初始化输出 buffer，总时长 19.61s（313760 samples）
[2025-11-19 02:54:54] 开始发送 0008_0019_add.wav，总帧 1226，时长 19.61s
[2025-11-19 02:54:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.452, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.105, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.197, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.296, 'turn': 0, 'state': 'LISTEN', 'content': '加班时如何提高工作效率'}}
[2025-11-19 02:54:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.35, 'infer_time': 0.149, 'content': '专注任务，减少干扰，高效完成。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.677, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:54:57] 收到 tts_done, timestamp=3.677s
[2025-11-19 02:54:57] 在 3.68s 插入 TTS（4.02s）
[2025-11-19 02:55:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.647}}
[2025-11-19 02:55:03] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.055, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.704, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.797, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.882, 'infer_time': 0.08, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '加班时如何提高工作效率'}]}, {'role': 'assistant', 'content': '专注任务，减少干扰，高效完成。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 10.997, 'turn': 1, 'state': 'LISTEN', 'content': '不说加班了聊聊电池续航吧'}}
[2025-11-19 02:55:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.07, 'infer_time': 0.184, 'content': '电池续航看使用习惯，省电模式很关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '加班时如何提高工作效率'}]}, {'role': 'assistant', 'content': '专注任务，减少干扰，高效完成。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.381, 'infer_time': 0.305, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:05] 收到 tts_done, timestamp=11.381s
[2025-11-19 02:55:05] 在 11.38s 插入 TTS（3.87s）
[2025-11-19 02:55:14] 音频发送完毕，用时 20.15s
[2025-11-19 02:55:14] WebSocket 已关闭，结束接收循环
[2025-11-19 02:55:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0019_add_output.wav，时长 19.61s
[2025-11-19 02:55:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0019_add_output.wav
[2025-11-19 02:55:14] 处理完成: 0008_0019_add.wav
[2025-11-19 02:55:14] -----------------------------------
[2025-11-19 02:55:14] 开始处理文件: 0008_0023.wav
[2025-11-19 02:55:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:55:14] 初始化输出 buffer，总时长 22.07s（353121 samples）
[2025-11-19 02:55:14] 开始发送 0008_0023.wav，总帧 1380，时长 22.07s
[2025-11-19 02:55:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.545, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.195, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.287, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.385, 'turn': 0, 'state': 'LISTEN', 'content': '玩沙包有哪些有趣的玩法'}}
[2025-11-19 02:55:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.501, 'infer_time': 0.211, 'content': '可以玩丢沙包、两人对抛、沙包接力赛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.816, 'infer_time': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:18] 收到 tts_done, timestamp=3.816s
[2025-11-19 02:55:18] 在 3.82s 插入 TTS（4.09s）
[2025-11-19 02:55:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.774}}
[2025-11-19 02:55:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.091, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:55:23] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.275, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.548, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.196, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.296, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.392, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '玩沙包有哪些有趣的玩法'}]}, {'role': 'assistant', 'content': '可以玩丢沙包、两人对抛、沙包接力赛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.585, 'infer_time': 0.189, 'content': '看课程质量、师资水平和用户评价选平台。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '玩沙包有哪些有趣的玩法'}]}, {'role': 'assistant', 'content': '可以玩丢沙包、两人对抛、沙包接力赛。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.596, 'turn': 1, 'state': 'LISTEN', 'content': '先不说游戏了我想了解一下在线教育平台怎么选'}}
[2025-11-19 02:55:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.959, 'infer_time': 0.368, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:28] 收到 tts_done, timestamp=13.959s
[2025-11-19 02:55:28] 在 13.96s 插入 TTS（4.96s）
[2025-11-19 02:55:37] 音频发送完毕，用时 22.67s
[2025-11-19 02:55:37] WebSocket 已关闭，结束接收循环
[2025-11-19 02:55:37] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0023_output.wav，时长 22.07s
[2025-11-19 02:55:37] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0023_output.wav
[2025-11-19 02:55:37] 处理完成: 0008_0023.wav
[2025-11-19 02:55:37] -----------------------------------
[2025-11-19 02:55:37] 开始处理文件: 0008_0024.wav
[2025-11-19 02:55:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:55:37] 初始化输出 buffer，总时长 20.14s（322240 samples）
[2025-11-19 02:55:37] 开始发送 0008_0024.wav，总帧 1259，时长 20.14s
[2025-11-19 02:55:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.069, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.72, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.808, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.921, 'turn': 0, 'state': 'LISTEN', 'content': '我很害怕打针怎么办'}}
[2025-11-19 02:55:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.992, 'infer_time': 0.18, 'content': '打针前深呼吸，转移注意力会好些。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.278, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:55:40] 收到 tts_done, timestamp=3.278s
[2025-11-19 02:55:40] 在 3.28s 插入 TTS（3.45s）
[2025-11-19 02:55:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.303}}
[2025-11-19 02:55:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.416, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:55:45] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 8.804, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.548, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.195, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.287, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.373, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我很害怕打针怎么办'}]}, {'role': 'assistant', 'content': '打针前深呼吸，转移注意力会好些。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.496, 'turn': 1, 'state': 'LISTEN', 'content': '想聊这个了说说同事排排挤的事情吧'}}
[2025-11-19 02:55:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.563, 'infer_time': 0.186, 'content': '同事排挤确实让人难受，可以试着多沟通。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我很害怕打针怎么办'}]}, {'role': 'assistant', 'content': '打针前深呼吸，转移注意力会好些。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 11.869, 'infer_time': 0.301, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:55:48] 收到 tts_done, timestamp=11.869s
[2025-11-19 02:55:48] 在 11.87s 插入 TTS（3.94s）
[2025-11-19 02:55:57] 音频发送完毕，用时 20.63s
[2025-11-19 02:55:57] WebSocket 已关闭，结束接收循环
[2025-11-19 02:55:57] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0008_0024_output.wav，时长 20.14s
[2025-11-19 02:55:57] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0008_0024_output.wav
[2025-11-19 02:55:57] 处理完成: 0008_0024.wav
[2025-11-19 02:55:57] -----------------------------------
[2025-11-19 02:55:57] 开始处理文件: 0009_0001.wav
[2025-11-19 02:55:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:55:57] 初始化输出 buffer，总时长 25.41s（406560 samples）
[2025-11-19 02:55:57] 开始发送 0009_0001.wav，总帧 1589，时长 25.41s
[2025-11-19 02:55:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.39, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.868, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.522, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.623, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.815, 'turn': 0, 'state': 'LISTEN', 'content': '如果别人认错了我的性别我该怎么回应比较得体'}}
[2025-11-19 02:56:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.848, 'infer_time': 0.221, 'content': '可以温和地纠正对方，比如“谢谢你的关注，其实我是……”。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.319, 'infer_time': 0.465, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:04] 收到 tts_done, timestamp=6.319s
[2025-11-19 02:56:04] 在 6.32s 插入 TTS（6.41s）
[2025-11-19 02:56:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.28}}
[2025-11-19 02:56:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.775, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:56:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.161, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 16.157, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.805, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.905, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.016, 'infer_time': 0.106, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果别人认错了我的性别我该怎么回应比较得体'}]}, {'role': 'assistant', 'content': '可以温和地纠正对方，比如“谢谢你的关注，其实我是……”。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 17.222, 'infer_time': 0.2, 'content': '推荐算法基于用户行为和内容特征进行匹配。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如果别人认错了我的性别我该怎么回应比较得体'}]}, {'role': 'assistant', 'content': '可以温和地纠正对方，比如“谢谢你的关注，其实我是……”。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 17.234, 'turn': 1, 'state': 'LISTEN', 'content': '不想聊这个不如说说你们平台的推荐算法是怎么工作的'}}
[2025-11-19 02:56:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.597, 'infer_time': 0.369, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:15] 收到 tts_done, timestamp=17.597s
[2025-11-19 02:56:15] 在 17.60s 插入 TTS（3.80s）
[2025-11-19 02:56:23] 音频发送完毕，用时 26.33s
[2025-11-19 02:56:24] WebSocket 已关闭，结束接收循环
[2025-11-19 02:56:24] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0001_output.wav，时长 25.41s
[2025-11-19 02:56:24] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0001_output.wav
[2025-11-19 02:56:24] 处理完成: 0009_0001.wav
[2025-11-19 02:56:24] -----------------------------------
[2025-11-19 02:56:24] 开始处理文件: 0009_0002_add.wav
[2025-11-19 02:56:24] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:56:24] 初始化输出 buffer，总时长 23.15s（370400 samples）
[2025-11-19 02:56:24] 开始发送 0009_0002_add.wav，总帧 1447，时长 23.15s
[2025-11-19 02:56:24] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.432, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.081, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.177, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.307, 'turn': 0, 'state': 'LISTEN', 'content': '血型和完美主义之间有什么联系吗'}}
[2025-11-19 02:56:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.386, 'infer_time': 0.205, 'content': '血型决定性格是伪科学，完美主义与之无关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.712, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:28] 收到 tts_done, timestamp=4.712s
[2025-11-19 02:56:28] 在 4.71s 插入 TTS（4.19s）
[2025-11-19 02:56:32] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.908}}
[2025-11-19 02:56:34] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.414, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.618, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.267, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.367, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.46, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型和完美主义之间有什么联系吗'}]}, {'role': 'assistant', 'content': '血型决定性格是伪科学，完美主义与之无关。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.613, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下今天的感冒指数怎么样'}}
[2025-11-19 02:56:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.647, 'infer_time': 0.183, 'content': '抱歉，我无法提供实时天气或健康数据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型和完美主义之间有什么联系吗'}]}, {'role': 'assistant', 'content': '血型决定性格是伪科学，完美主义与之无关。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.958, 'infer_time': 0.305, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:56:39] 收到 tts_done, timestamp=14.958s
[2025-11-19 02:56:39] 在 14.96s 插入 TTS（3.92s）
[2025-11-19 02:56:47] 音频发送完毕，用时 23.87s
[2025-11-19 02:56:47] WebSocket 已关闭，结束接收循环
[2025-11-19 02:56:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0002_add_output.wav，时长 23.15s
[2025-11-19 02:56:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0002_add_output.wav
[2025-11-19 02:56:47] 处理完成: 0009_0002_add.wav
[2025-11-19 02:56:47] -----------------------------------
[2025-11-19 02:56:47] 开始处理文件: 0009_0003.wav
[2025-11-19 02:56:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:56:47] 初始化输出 buffer，总时长 21.74s（347839 samples）
[2025-11-19 02:56:47] 开始发送 0009_0003.wav，总帧 1359，时长 21.74s
[2025-11-19 02:56:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.034, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.688, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.782, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.958, 'turn': 0, 'state': 'LISTEN', 'content': '血型和记忆力之间真的有关系吗'}}
[2025-11-19 02:56:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.959, 'infer_time': 0.172, 'content': '目前没有科学证据表明血型与记忆力有关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.244, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:56:52] 收到 tts_done, timestamp=4.244s
[2025-11-19 02:56:52] 在 4.24s 插入 TTS（3.62s）
[2025-11-19 02:56:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.389}}
[2025-11-19 02:56:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.904, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.274, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.923, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.018, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.106, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型和记忆力之间真的有关系吗'}]}, {'role': 'assistant', 'content': '目前没有科学证据表明血型与记忆力有关。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.243, 'turn': 1, 'state': 'LISTEN', 'content': '别说血型了聊聊你推荐的豪华游目的地吧'}}
[2025-11-19 02:57:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.366, 'infer_time': 0.255, 'content': '马尔代夫、巴厘岛和圣托里尼是豪华游热门选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型和记忆力之间真的有关系吗'}]}, {'role': 'assistant', 'content': '目前没有科学证据表明血型与记忆力有关。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.74, 'infer_time': 0.367, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:01] 收到 tts_done, timestamp=13.74s
[2025-11-19 02:57:01] 在 13.74s 插入 TTS（4.96s）
[2025-11-19 02:57:10] 音频发送完毕，用时 22.46s
[2025-11-19 02:57:10] WebSocket 已关闭，结束接收循环
[2025-11-19 02:57:10] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0003_output.wav，时长 21.74s
[2025-11-19 02:57:10] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0003_output.wav
[2025-11-19 02:57:10] 处理完成: 0009_0003.wav
[2025-11-19 02:57:10] -----------------------------------
[2025-11-19 02:57:10] 开始处理文件: 0009_0003_add.wav
[2025-11-19 02:57:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:57:10] 初始化输出 buffer，总时长 21.84s（349440 samples）
[2025-11-19 02:57:10] 开始发送 0009_0003_add.wav，总帧 1365，时长 21.84s
[2025-11-19 02:57:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.299, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.947, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.043, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.176, 'turn': 0, 'state': 'LISTEN', 'content': '中国的世界遗产有哪些著名的例子'}}
[2025-11-19 02:57:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.224, 'infer_time': 0.176, 'content': '长城、故宫、兵马俑等都是著名例子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.578, 'infer_time': 0.348, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:14] 收到 tts_done, timestamp=4.578s
[2025-11-19 02:57:14] 在 4.58s 插入 TTS（4.61s）
[2025-11-19 02:57:19] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.701}}
[2025-11-19 02:57:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.988, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:57:20] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.203, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.324, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.972, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.069, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.158, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中国的世界遗产有哪些著名的例子'}]}, {'role': 'assistant', 'content': '长城、故宫、兵马俑等都是著名例子。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.303, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们聊聊逛商场吧'}}
[2025-11-19 02:57:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.323, 'infer_time': 0.161, 'content': '好啊，逛商场挺放松的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '中国的世界遗产有哪些著名的例子'}]}, {'role': 'assistant', 'content': '长城、故宫、兵马俑等都是著名例子。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.521, 'infer_time': 0.192, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:23] 收到 tts_done, timestamp=13.521s
[2025-11-19 02:57:23] 在 13.52s 插入 TTS（2.39s）
[2025-11-19 02:57:32] 音频发送完毕，用时 22.47s
[2025-11-19 02:57:32] WebSocket 已关闭，结束接收循环
[2025-11-19 02:57:32] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0003_add_output.wav，时长 21.84s
[2025-11-19 02:57:32] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0003_add_output.wav
[2025-11-19 02:57:32] 处理完成: 0009_0003_add.wav
[2025-11-19 02:57:32] -----------------------------------
[2025-11-19 02:57:32] 开始处理文件: 0009_0011_add.wav
[2025-11-19 02:57:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:57:32] 初始化输出 buffer，总时长 21.63s（346080 samples）
[2025-11-19 02:57:32] 开始发送 0009_0011_add.wav，总帧 1352，时长 21.63s
[2025-11-19 02:57:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.72, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.373, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.467, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.615, 'infer_time': 0.145, 'content': '血型和性格没有科学依据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.637, 'turn': 0, 'state': 'LISTEN', 'content': '血型真的会影响性格吗'}}
[2025-11-19 02:57:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.833, 'infer_time': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:36] 收到 tts_done, timestamp=3.833s
[2025-11-19 02:57:36] 在 3.83s 插入 TTS（2.62s）
[2025-11-19 02:57:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.077}}
[2025-11-19 02:57:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.588, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.016, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.665, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.764, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.858, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型真的会影响性格吗'}]}, {'role': 'assistant', 'content': '血型和性格没有科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.0, 'turn': 1, 'state': 'LISTEN', 'content': '先不说血型了最近有什么有趣的新闻吗'}}
[2025-11-19 02:57:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.043, 'infer_time': 0.181, 'content': '最近有只猫当上市长的趣闻。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '血型真的会影响性格吗'}]}, {'role': 'assistant', 'content': '血型和性格没有科学依据。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.261, 'infer_time': 0.212, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:57:46] 收到 tts_done, timestamp=13.261s
[2025-11-19 02:57:46] 在 13.26s 插入 TTS（2.50s）
[2025-11-19 02:57:55] 音频发送完毕，用时 22.25s
[2025-11-19 02:57:55] WebSocket 已关闭，结束接收循环
[2025-11-19 02:57:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0011_add_output.wav，时长 21.63s
[2025-11-19 02:57:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0011_add_output.wav
[2025-11-19 02:57:55] 处理完成: 0009_0011_add.wav
[2025-11-19 02:57:55] -----------------------------------
[2025-11-19 02:57:55] 开始处理文件: 0009_0013_add.wav
[2025-11-19 02:57:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:57:55] 初始化输出 buffer，总时长 21.51s（344160 samples）
[2025-11-19 02:57:55] 开始发送 0009_0013_add.wav，总帧 1345，时长 21.51s
[2025-11-19 02:57:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.856, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.51, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.616, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.762, 'turn': 0, 'state': 'LISTEN', 'content': '如何应对时常感到的孤独'}}
[2025-11-19 02:57:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.764, 'infer_time': 0.145, 'content': '孤独是正常的，试着接纳它。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.0, 'infer_time': 0.232, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:57:59] 收到 tts_done, timestamp=4.0s
[2025-11-19 02:57:59] 在 4.00s 插入 TTS（2.72s）
[2025-11-19 02:58:03] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.259}}
[2025-11-19 02:58:04] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.769, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.862, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.514, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.612, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.703, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何应对时常感到的孤独'}]}, {'role': 'assistant', 'content': '孤独是正常的，试着接纳它。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.843, 'infer_time': 0.136, 'content': '深呼吸，转移注意力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何应对时常感到的孤独'}]}, {'role': 'assistant', 'content': '孤独是正常的，试着接纳它。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.867, 'turn': 1, 'state': 'LISTEN', 'content': '我们换个话题聊聊情绪急救方法吧'}}
[2025-11-19 02:58:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.046, 'infer_time': 0.196, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:08] 收到 tts_done, timestamp=13.046s
[2025-11-19 02:58:08] 在 13.05s 插入 TTS（2.42s）
[2025-11-19 02:58:17] 音频发送完毕，用时 22.14s
[2025-11-19 02:58:17] WebSocket 已关闭，结束接收循环
[2025-11-19 02:58:17] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0013_add_output.wav，时长 21.51s
[2025-11-19 02:58:17] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0013_add_output.wav
[2025-11-19 02:58:17] 处理完成: 0009_0013_add.wav
[2025-11-19 02:58:17] -----------------------------------
[2025-11-19 02:58:17] 开始处理文件: 0009_0015.wav
[2025-11-19 02:58:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:58:17] 初始化输出 buffer，总时长 22.21s（355361 samples）
[2025-11-19 02:58:17] 开始发送 0009_0015.wav，总帧 1389，时长 22.21s
[2025-11-19 02:58:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.389, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.044, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.14, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.249, 'turn': 0, 'state': 'LISTEN', 'content': '如何克服对贫穷的恐惧'}}
[2025-11-19 02:58:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.281, 'infer_time': 0.137, 'content': '建立自信，专注自我成长。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.529, 'infer_time': 0.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:20] 收到 tts_done, timestamp=3.529s
[2025-11-19 02:58:20] 在 3.53s 插入 TTS（3.08s）
[2025-11-19 02:58:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.26}}
[2025-11-19 02:58:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.008, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:58:27] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.768, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.817, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.465, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.622, 'infer_time': 0.153, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.892, 'infer_time': 0.265, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何克服对贫穷的恐惧'}]}, {'role': 'assistant', 'content': '建立自信，专注自我成长。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.043, 'turn': 1, 'state': 'LISTEN', 'content': '这个了我想了解一下社区养老有哪些模式'}}
[2025-11-19 02:58:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.095, 'infer_time': 0.198, 'content': '居家养老、社区日间照料、互助养老等模式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何克服对贫穷的恐惧'}]}, {'role': 'assistant', 'content': '建立自信，专注自我成长。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.444, 'infer_time': 0.342, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:31] 收到 tts_done, timestamp=14.444s
[2025-11-19 02:58:31] 在 14.44s 插入 TTS（4.38s）
[2025-11-19 02:58:40] 音频发送完毕，用时 22.96s
[2025-11-19 02:58:40] WebSocket 已关闭，结束接收循环
[2025-11-19 02:58:40] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0015_output.wav，时长 22.21s
[2025-11-19 02:58:40] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0015_output.wav
[2025-11-19 02:58:40] 处理完成: 0009_0015.wav
[2025-11-19 02:58:40] -----------------------------------
[2025-11-19 02:58:40] 开始处理文件: 0009_0017_add.wav
[2025-11-19 02:58:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:58:40] 初始化输出 buffer，总时长 21.66s（346560 samples）
[2025-11-19 02:58:40] 开始发送 0009_0017_add.wav，总帧 1354，时长 21.66s
[2025-11-19 02:58:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.973, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.068, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.262, 'turn': 0, 'state': 'LISTEN', 'content': '经络疏通有哪些常见的方法'}}
[2025-11-19 02:58:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.275, 'infer_time': 0.203, 'content': '按摩、艾灸、刮痧和针灸是常见方法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.662, 'infer_time': 0.381, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:58:44] 收到 tts_done, timestamp=4.662s
[2025-11-19 02:58:44] 在 4.66s 插入 TTS（5.12s）
[2025-11-19 02:58:48] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.213}}
[2025-11-19 02:58:50] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.72, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.906, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.078, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.728, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.824, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.913, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '经络疏通有哪些常见的方法'}]}, {'role': 'assistant', 'content': '按摩、艾灸、刮痧和针灸是常见方法。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.055, 'turn': 1, 'state': 'LISTEN', 'content': '我们别聊这个了说说自动售货机吧'}}
[2025-11-19 02:58:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.135, 'infer_time': 0.217, 'content': '自动售货机有扫码支付、投币和刷卡三种方式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '经络疏通有哪些常见的方法'}]}, {'role': 'assistant', 'content': '按摩、艾灸、刮痧和针灸是常见方法。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.455, 'infer_time': 0.315, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:58:53] 收到 tts_done, timestamp=13.455s
[2025-11-19 02:58:53] 在 13.46s 插入 TTS（4.09s）
[2025-11-19 02:59:02] 音频发送完毕，用时 22.30s
[2025-11-19 02:59:02] WebSocket 已关闭，结束接收循环
[2025-11-19 02:59:02] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0017_add_output.wav，时长 21.66s
[2025-11-19 02:59:02] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0017_add_output.wav
[2025-11-19 02:59:02] 处理完成: 0009_0017_add.wav
[2025-11-19 02:59:02] -----------------------------------
[2025-11-19 02:59:02] 开始处理文件: 0009_0019_add.wav
[2025-11-19 02:59:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:59:02] 初始化输出 buffer，总时长 24.38s（390080 samples）
[2025-11-19 02:59:02] 开始发送 0009_0019_add.wav，总帧 1524，时长 24.38s
[2025-11-19 02:59:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.453, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.103, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.206, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.362, 'turn': 0, 'state': 'LISTEN', 'content': '自动驾驶地图如何确保实时更新和准确性'}}
[2025-11-19 02:59:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.389, 'infer_time': 0.178, 'content': '通过传感器融合与高精地图实时校验。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.673, 'infer_time': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:08] 收到 tts_done, timestamp=5.673s
[2025-11-19 02:59:08] 在 5.67s 插入 TTS（3.62s）
[2025-11-19 02:59:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.767}}
[2025-11-19 02:59:13] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.276, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.995, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.643, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.737, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.832, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '自动驾驶地图如何确保实时更新和准确性'}]}, {'role': 'assistant', 'content': '通过传感器融合与高精地图实时校验。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.009, 'infer_time': 0.172, 'content': '二十四节气反映农事与气候规律。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '自动驾驶地图如何确保实时更新和准确性'}]}, {'role': 'assistant', 'content': '通过传感器融合与高精地图实时校验。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.041, 'turn': 1, 'state': 'LISTEN', 'content': '先暂停一下我想了解一下节气变化的有相关知识'}}
[2025-11-19 02:59:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.217, 'infer_time': 0.202, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:18] 收到 tts_done, timestamp=16.217s
[2025-11-19 02:59:18] 在 16.22s 插入 TTS（2.43s）
[2025-11-19 02:59:27] 音频发送完毕，用时 25.19s
[2025-11-19 02:59:27] WebSocket 已关闭，结束接收循环
[2025-11-19 02:59:27] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0009_0019_add_output.wav，时长 24.38s
[2025-11-19 02:59:27] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0009_0019_add_output.wav
[2025-11-19 02:59:27] 处理完成: 0009_0019_add.wav
[2025-11-19 02:59:27] -----------------------------------
[2025-11-19 02:59:27] 开始处理文件: 0010_0001_add.wav
[2025-11-19 02:59:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:59:27] 初始化输出 buffer，总时长 23.18s（370880 samples）
[2025-11-19 02:59:27] 开始发送 0010_0001_add.wav，总帧 1449，时长 23.18s
[2025-11-19 02:59:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.363, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.136, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.791, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.89, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.066, 'infer_time': 0.172, 'content': '情感机器人通过陪伴和倾听缓解孤独感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.129, 'turn': 0, 'state': 'LISTEN', 'content': '情感机器人如何帮助人们缓解孤独感'}}
[2025-11-19 02:59:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.372, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:33] 收到 tts_done, timestamp=5.372s
[2025-11-19 02:59:33] 在 5.37s 插入 TTS（3.96s）
[2025-11-19 02:59:37] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.379}}
[2025-11-19 02:59:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.286, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 02:59:38] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.893, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.756, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.403, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.503, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.596, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '情感机器人如何帮助人们缓解孤独感'}]}, {'role': 'assistant', 'content': '情感机器人通过陪伴和倾听缓解孤独感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.794, 'turn': 1, 'state': 'LISTEN', 'content': '不说这个了聊聊跨年旅行有什么推荐的地方吧'}}
[2025-11-19 02:59:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.798, 'infer_time': 0.198, 'content': '推荐去北海道看雪景跨年，很浪漫。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '情感机器人如何帮助人们缓解孤独感'}]}, {'role': 'assistant', 'content': '情感机器人通过陪伴和倾听缓解孤独感。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.083, 'infer_time': 0.28, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 02:59:42] 收到 tts_done, timestamp=15.083s
[2025-11-19 02:59:42] 在 15.08s 插入 TTS（3.55s）
[2025-11-19 02:59:51] 音频发送完毕，用时 23.83s
[2025-11-19 02:59:51] WebSocket 已关闭，结束接收循环
[2025-11-19 02:59:51] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0001_add_output.wav，时长 23.18s
[2025-11-19 02:59:51] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0001_add_output.wav
[2025-11-19 02:59:51] 处理完成: 0010_0001_add.wav
[2025-11-19 02:59:51] -----------------------------------
[2025-11-19 02:59:51] 开始处理文件: 0010_0002_add.wav
[2025-11-19 02:59:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 02:59:51] 初始化输出 buffer，总时长 20.70s（331200 samples）
[2025-11-19 02:59:51] 开始发送 0010_0002_add.wav，总帧 1294，时长 20.70s
[2025-11-19 02:59:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.58, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.231, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.326, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.435, 'turn': 0, 'state': 'LISTEN', 'content': '外卖退款的具体流程是什么'}}
[2025-11-19 02:59:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.478, 'infer_time': 0.148, 'content': '联系商家或平台客服申请退款。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.763, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 02:59:55] 收到 tts_done, timestamp=3.763s
[2025-11-19 02:59:55] 在 3.76s 插入 TTS（3.57s）
[2025-11-19 02:59:59] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.939}}
[2025-11-19 03:00:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.019, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:00:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.455, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.08, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.728, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.822, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.911, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '外卖退款的具体流程是什么'}]}, {'role': 'assistant', 'content': '联系商家或平台客服申请退款。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.075, 'infer_time': 0.159, 'content': '性别歧视是不尊重他人的表现。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '外卖退款的具体流程是什么'}]}, {'role': 'assistant', 'content': '联系商家或平台客服申请退款。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.079, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们谈谈性别歧视吧'}}
[2025-11-19 03:00:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.33, 'infer_time': 0.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:04] 收到 tts_done, timestamp=12.33s
[2025-11-19 03:00:04] 在 12.33s 插入 TTS（3.06s）
[2025-11-19 03:00:12] 音频发送完毕，用时 21.21s
[2025-11-19 03:00:12] WebSocket 已关闭，结束接收循环
[2025-11-19 03:00:12] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0002_add_output.wav，时长 20.70s
[2025-11-19 03:00:12] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0002_add_output.wav
[2025-11-19 03:00:12] 处理完成: 0010_0002_add.wav
[2025-11-19 03:00:12] -----------------------------------
[2025-11-19 03:00:12] 开始处理文件: 0010_0005_add.wav
[2025-11-19 03:00:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:00:12] 初始化输出 buffer，总时长 20.57s（329120 samples）
[2025-11-19 03:00:12] 开始发送 0010_0005_add.wav，总帧 1286，时长 20.57s
[2025-11-19 03:00:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.548, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.2, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.292, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.394, 'turn': 0, 'state': 'LISTEN', 'content': '如何有效预防艾滋病传播'}}
[2025-11-19 03:00:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.489, 'infer_time': 0.193, 'content': '使用安全套，定期检测，避免共用针具。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.799, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:16] 收到 tts_done, timestamp=3.799s
[2025-11-19 03:00:16] 在 3.80s 插入 TTS（3.92s）
[2025-11-19 03:00:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.877}}
[2025-11-19 03:00:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.96, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:00:22] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.383, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.993, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 11.641, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.736, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.825, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何有效预防艾滋病传播'}]}, {'role': 'assistant', 'content': '使用安全套，定期检测，避免共用针具。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.957, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我们谈谈心脏健康吧'}}
[2025-11-19 03:00:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.984, 'infer_time': 0.155, 'content': '保持运动，饮食清淡，定期体检。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何有效预防艾滋病传播'}]}, {'role': 'assistant', 'content': '使用安全套，定期检测，避免共用针具。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.353, 'infer_time': 0.364, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:25] 收到 tts_done, timestamp=12.353s
[2025-11-19 03:00:25] 在 12.35s 插入 TTS（4.75s）
[2025-11-19 03:00:33] 音频发送完毕，用时 21.10s
[2025-11-19 03:00:33] WebSocket 已关闭，结束接收循环
[2025-11-19 03:00:33] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0005_add_output.wav，时长 20.57s
[2025-11-19 03:00:33] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0005_add_output.wav
[2025-11-19 03:00:33] 处理完成: 0010_0005_add.wav
[2025-11-19 03:00:33] -----------------------------------
[2025-11-19 03:00:33] 开始处理文件: 0010_0008.wav
[2025-11-19 03:00:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:00:33] 初始化输出 buffer，总时长 22.62s（361920 samples）
[2025-11-19 03:00:33] 开始发送 0010_0008.wav，总帧 1414，时长 22.62s
[2025-11-19 03:00:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.09, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.741, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.837, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN', 'content': '八十年代最经典的流行金曲有哪些'}}
[2025-11-19 03:00:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.034, 'infer_time': 0.193, 'content': '《冬天里的一把火》《我的中国心》等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.311, 'infer_time': 0.271, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:38] 收到 tts_done, timestamp=4.311s
[2025-11-19 03:00:38] 在 4.31s 插入 TTS（3.60s）
[2025-11-19 03:00:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.38}}
[2025-11-19 03:00:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.424, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:00:43] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.884, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.027, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.674, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.777, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.872, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '八十年代最经典的流行金曲有哪些'}]}, {'role': 'assistant', 'content': '《冬天里的一把火》《我的中国心》等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.048, 'infer_time': 0.172, 'content': '任务完成度需结合目标与实际成果评估', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '八十年代最经典的流行金曲有哪些'}]}, {'role': 'assistant', 'content': '《冬天里的一把火》《我的中国心》等'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.104, 'turn': 1, 'state': 'LISTEN', 'content': '先不聊音乐了我想听听你对任务完成度的看法'}}
[2025-11-19 03:00:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.339, 'infer_time': 0.286, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:00:48] 收到 tts_done, timestamp=14.339s
[2025-11-19 03:00:48] 在 14.34s 插入 TTS（3.74s）
[2025-11-19 03:00:57] 音频发送完毕，用时 23.22s
[2025-11-19 03:00:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:00:57] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0008_output.wav，时长 22.62s
[2025-11-19 03:00:57] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0008_output.wav
[2025-11-19 03:00:57] 处理完成: 0010_0008.wav
[2025-11-19 03:00:57] -----------------------------------
[2025-11-19 03:00:57] 开始处理文件: 0010_0011.wav
[2025-11-19 03:00:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:00:57] 初始化输出 buffer，总时长 24.77s（396320 samples）
[2025-11-19 03:00:57] 开始发送 0010_0011.wav，总帧 1549，时长 24.77s
[2025-11-19 03:00:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:00:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.017, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.133, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.783, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.879, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.022, 'turn': 0, 'state': 'LISTEN', 'content': '你知道喀萨布兰卡这部电影是在哪里拍摄的吗'}}
[2025-11-19 03:01:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.099, 'infer_time': 0.215, 'content': '《卡萨布兰卡》主要在好莱坞的摄影棚拍摄。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.371, 'infer_time': 0.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:02] 收到 tts_done, timestamp=5.371s
[2025-11-19 03:01:02] 在 5.37s 插入 TTS（3.35s）
[2025-11-19 03:01:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.497}}
[2025-11-19 03:01:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.731, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:01:08] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.999, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.944, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.054, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.084, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.737, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.839, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.952, 'infer_time': 0.107, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你知道喀萨布兰卡这部电影是在哪里拍摄的吗'}]}, {'role': 'assistant', 'content': '《卡萨布兰卡》主要在好莱坞的摄影棚拍摄。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.13, 'infer_time': 0.173, 'content': '钓鱼讲究耐心和观察鱼的习性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你知道喀萨布兰卡这部电影是在哪里拍摄的吗'}]}, {'role': 'assistant', 'content': '《卡萨布兰卡》主要在好莱坞的摄影棚拍摄。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.136, 'turn': 1, 'state': 'LISTEN', 'content': '我对老电影不太感兴趣不如聊聊你最喜欢的钓鱼技巧吧'}}
[2025-11-19 03:01:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.366, 'infer_time': 0.229, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:13] 收到 tts_done, timestamp=16.366s
[2025-11-19 03:01:13] 在 16.37s 插入 TTS（2.84s）
[2025-11-19 03:01:22] 音频发送完毕，用时 25.49s
[2025-11-19 03:01:22] WebSocket 已关闭，结束接收循环
[2025-11-19 03:01:22] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0011_output.wav，时长 24.77s
[2025-11-19 03:01:22] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0011_output.wav
[2025-11-19 03:01:22] 处理完成: 0010_0011.wav
[2025-11-19 03:01:22] -----------------------------------
[2025-11-19 03:01:22] 开始处理文件: 0010_0011_add.wav
[2025-11-19 03:01:22] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:01:22] 初始化输出 buffer，总时长 21.89s（350240 samples）
[2025-11-19 03:01:22] 开始发送 0010_0011_add.wav，总帧 1369，时长 21.89s
[2025-11-19 03:01:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.195, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.845, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.941, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.133, 'turn': 0, 'state': 'LISTEN', 'content': '垃圾分类政策具体包含哪些措施'}}
[2025-11-19 03:01:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.149, 'infer_time': 0.203, 'content': '垃圾分类政策包含四分类、定时投放和处罚机制等措施。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.553, 'infer_time': 0.4, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:27] 收到 tts_done, timestamp=4.553s
[2025-11-19 03:01:27] 在 4.55s 插入 TTS（5.39s）
[2025-11-19 03:01:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.571}}
[2025-11-19 03:01:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.587, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:01:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.077, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.335, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.982, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.078, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.171, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '垃圾分类政策具体包含哪些措施'}]}, {'role': 'assistant', 'content': '垃圾分类政策包含四分类、定时投放和处罚机制等措施。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.305, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下时间追踪的方法'}}
[2025-11-19 03:01:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.353, 'infer_time': 0.178, 'content': '时间追踪常用番茄工作法和GTD方法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '垃圾分类政策具体包含哪些措施'}]}, {'role': 'assistant', 'content': '垃圾分类政策包含四分类、定时投放和处罚机制等措施。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.641, 'infer_time': 0.283, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:36] 收到 tts_done, timestamp=13.641s
[2025-11-19 03:01:36] 在 13.64s 插入 TTS（3.73s）
[2025-11-19 03:01:45] 音频发送完毕，用时 22.51s
[2025-11-19 03:01:45] WebSocket 已关闭，结束接收循环
[2025-11-19 03:01:45] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0011_add_output.wav，时长 21.89s
[2025-11-19 03:01:45] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0011_add_output.wav
[2025-11-19 03:01:45] 处理完成: 0010_0011_add.wav
[2025-11-19 03:01:45] -----------------------------------
[2025-11-19 03:01:45] 开始处理文件: 0010_0017_add.wav
[2025-11-19 03:01:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:01:45] 初始化输出 buffer，总时长 23.14s（370240 samples）
[2025-11-19 03:01:45] 开始发送 0010_0017_add.wav，总帧 1447，时长 23.14s
[2025-11-19 03:01:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.342, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.992, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.091, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.248, 'infer_time': 0.152, 'content': '准备充分材料，解释拒签原因', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:50] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.302, 'turn': 0, 'state': 'LISTEN', 'content': '签证被拒后再次申请需要注意哪些关键点'}}
[2025-11-19 03:01:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.487, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:01:50] 收到 tts_done, timestamp=5.487s
[2025-11-19 03:01:50] 在 5.49s 插入 TTS（2.96s）
[2025-11-19 03:01:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.611}}
[2025-11-19 03:01:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.66, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:01:56] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.116, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.083, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.705, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.354, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.453, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.545, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '签证被拒后再次申请需要注意哪些关键点'}]}, {'role': 'assistant', 'content': '准备充分材料，解释拒签原因'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:01:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.707, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下肝脏排毒的方法'}}
[2025-11-19 03:02:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.722, 'infer_time': 0.172, 'content': '多喝水，吃绿叶蔬菜，少喝酒', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '签证被拒后再次申请需要注意哪些关键点'}]}, {'role': 'assistant', 'content': '准备充分材料，解释拒签原因'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.996, 'infer_time': 0.268, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:00] 收到 tts_done, timestamp=14.996s
[2025-11-19 03:02:00] 在 15.00s 插入 TTS（3.46s）
[2025-11-19 03:02:09] 音频发送完毕，用时 23.83s
[2025-11-19 03:02:09] WebSocket 已关闭，结束接收循环
[2025-11-19 03:02:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0017_add_output.wav，时长 23.14s
[2025-11-19 03:02:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0017_add_output.wav
[2025-11-19 03:02:09] 处理完成: 0010_0017_add.wav
[2025-11-19 03:02:09] -----------------------------------
[2025-11-19 03:02:09] 开始处理文件: 0010_0018_add.wav
[2025-11-19 03:02:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:02:09] 初始化输出 buffer，总时长 22.77s（364320 samples）
[2025-11-19 03:02:09] 开始发送 0010_0018_add.wav，总帧 1424，时长 22.77s
[2025-11-19 03:02:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.413, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.067, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.163, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.262, 'turn': 0, 'state': 'LISTEN', 'content': '有哪些省油价值的技巧'}}
[2025-11-19 03:02:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.37, 'infer_time': 0.203, 'content': '平稳起步，匀速行驶，避免急加速和急刹车。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.741, 'infer_time': 0.366, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:12] 收到 tts_done, timestamp=3.741s
[2025-11-19 03:02:12] 在 3.74s 插入 TTS（4.89s）
[2025-11-19 03:02:16] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.786}}
[2025-11-19 03:02:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.801, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:02:18] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.289, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.206, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.854, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.958, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.052, 'infer_time': 0.089, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有哪些省油价值的技巧'}]}, {'role': 'assistant', 'content': '平稳起步，匀速行驶，避免急加速和急刹车。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.252, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想了解一下怎么预定机票和酒店比较方便'}}
[2025-11-19 03:02:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.259, 'infer_time': 0.201, 'content': '用携程或飞猪，选好时间地点直接下单。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '有哪些省油价值的技巧'}]}, {'role': 'assistant', 'content': '平稳起步，匀速行驶，避免急加速和急刹车。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.54, 'infer_time': 0.276, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:23] 收到 tts_done, timestamp=14.54s
[2025-11-19 03:02:23] 在 14.54s 插入 TTS（3.66s）
[2025-11-19 03:02:32] 音频发送完毕，用时 23.44s
[2025-11-19 03:02:32] WebSocket 已关闭，结束接收循环
[2025-11-19 03:02:32] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0018_add_output.wav，时长 22.77s
[2025-11-19 03:02:32] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0018_add_output.wav
[2025-11-19 03:02:32] 处理完成: 0010_0018_add.wav
[2025-11-19 03:02:32] -----------------------------------
[2025-11-19 03:02:32] 开始处理文件: 0010_0028.wav
[2025-11-19 03:02:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:02:32] 初始化输出 buffer，总时长 22.53s（360479 samples）
[2025-11-19 03:02:32] 开始发送 0010_0028.wav，总帧 1409，时长 22.53s
[2025-11-19 03:02:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.389, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.038, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.134, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.316, 'infer_time': 0.177, 'content': '未知带来不确定性，大脑本能地警惕潜在危险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.354, 'turn': 0, 'state': 'LISTEN', 'content': '为什么人们会对未知的事物感到害怕'}}
[2025-11-19 03:02:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.647, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:02:37] 收到 tts_done, timestamp=4.647s
[2025-11-19 03:02:37] 在 4.65s 插入 TTS（4.33s）
[2025-11-19 03:02:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.655}}
[2025-11-19 03:02:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.393, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:02:42] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.171, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.086, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.961, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.61, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.709, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.8, 'infer_time': 0.086, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么人们会对未知的事物感到害怕'}]}, {'role': 'assistant', 'content': '未知带来不确定性，大脑本能地警惕潜在危险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.953, 'turn': 1, 'state': 'LISTEN', 'content': '说这个了最近直播打赏挺火的聊聊这个吧'}}
[2025-11-19 03:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.01, 'infer_time': 0.206, 'content': '打赏是观众支持主播的方式，能增加互动和收入。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么人们会对未知的事物感到害怕'}]}, {'role': 'assistant', 'content': '未知带来不确定性，大脑本能地警惕潜在危险。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.358, 'infer_time': 0.341, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:02:46] 收到 tts_done, timestamp=14.358s
[2025-11-19 03:02:46] 在 14.36s 插入 TTS（4.53s）
[2025-11-19 03:02:55] 音频发送完毕，用时 23.16s
[2025-11-19 03:02:55] WebSocket 已关闭，结束接收循环
[2025-11-19 03:02:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0010_0028_output.wav，时长 22.53s
[2025-11-19 03:02:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0010_0028_output.wav
[2025-11-19 03:02:55] 处理完成: 0010_0028.wav
[2025-11-19 03:02:55] -----------------------------------
[2025-11-19 03:02:55] 开始处理文件: 0011_0008.wav
[2025-11-19 03:02:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:02:55] 初始化输出 buffer，总时长 23.95s（383201 samples）
[2025-11-19 03:02:55] 开始发送 0011_0008.wav，总帧 1497，时长 23.95s
[2025-11-19 03:02:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.687, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.341, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.437, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.656, 'turn': 0, 'state': 'LISTEN', 'content': '运动会项目里一百米短跑有什么训练技巧'}}
[2025-11-19 03:03:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.675, 'infer_time': 0.233, 'content': '短跑训练要注重爆发力和步频，多练起跑反应。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.012, 'infer_time': 0.332, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:01] 收到 tts_done, timestamp=6.012s
[2025-11-19 03:03:01] 在 6.01s 插入 TTS（4.50s）
[2025-11-19 03:03:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.934}}
[2025-11-19 03:03:07] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.442, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.626, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.535, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:10] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.182, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.284, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.379, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '运动会项目里一百米短跑有什么训练技巧'}]}, {'role': 'assistant', 'content': '短跑训练要注重爆发力和步频，多练起跑反应。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.547, 'turn': 1, 'state': 'LISTEN', 'content': '先不说运动会了帮我列个今天的任务清单吧'}}
[2025-11-19 03:03:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.564, 'infer_time': 0.18, 'content': '好的，今天任务清单已生成，请查收。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '运动会项目里一百米短跑有什么训练技巧'}]}, {'role': 'assistant', 'content': '短跑训练要注重爆发力和步频，多练起跑反应。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.854, 'infer_time': 0.286, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:11] 收到 tts_done, timestamp=15.854s
[2025-11-19 03:03:11] 在 15.85s 插入 TTS（3.71s）
[2025-11-19 03:03:20] 音频发送完毕，用时 24.69s
[2025-11-19 03:03:20] WebSocket 已关闭，结束接收循环
[2025-11-19 03:03:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0011_0008_output.wav，时长 23.95s
[2025-11-19 03:03:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0011_0008_output.wav
[2025-11-19 03:03:20] 处理完成: 0011_0008.wav
[2025-11-19 03:03:20] -----------------------------------
[2025-11-19 03:03:20] 开始处理文件: 0011_0009.wav
[2025-11-19 03:03:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:03:20] 初始化输出 buffer，总时长 25.00s（400002 samples）
[2025-11-19 03:03:20] 开始发送 0011_0009.wav，总帧 1563，时长 25.00s
[2025-11-19 03:03:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.749, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.402, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.504, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.656, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得老港片中最经典的武侠电影是哪一部'}}
[2025-11-19 03:03:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.668, 'infer_time': 0.159, 'content': '《龙门客栈》是经典中的经典。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:26] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.9, 'infer_time': 0.228, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:26] 收到 tts_done, timestamp=5.9s
[2025-11-19 03:03:26] 在 5.90s 插入 TTS（2.73s）
[2025-11-19 03:03:30] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.961}}
[2025-11-19 03:03:31] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.469, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.661, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.309, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.413, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.507, 'infer_time': 0.09, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得老港片中最经典的武侠电影是哪一部'}]}, {'role': 'assistant', 'content': '《龙门客栈》是经典中的经典。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.724, 'infer_time': 0.213, 'content': '张国荣生前低调，但感情经历常被提及。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你觉得老港片中最经典的武侠电影是哪一部'}]}, {'role': 'assistant', 'content': '《龙门客栈》是经典中的经典。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.753, 'turn': 1, 'state': 'LISTEN', 'content': '别聊电影了最近张国荣的纪念活动好多说说他的八卦吧'}}
[2025-11-19 03:03:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.042, 'infer_time': 0.312, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:03:37] 收到 tts_done, timestamp=17.042s
[2025-11-19 03:03:37] 在 17.04s 插入 TTS（4.16s）
[2025-11-19 03:03:46] 音频发送完毕，用时 25.81s
[2025-11-19 03:03:46] WebSocket 已关闭，结束接收循环
[2025-11-19 03:03:46] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0011_0009_output.wav，时长 25.00s
[2025-11-19 03:03:46] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0011_0009_output.wav
[2025-11-19 03:03:46] 处理完成: 0011_0009.wav
[2025-11-19 03:03:46] -----------------------------------
[2025-11-19 03:03:46] 开始处理文件: 0011_0021.wav
[2025-11-19 03:03:46] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:03:46] 初始化输出 buffer，总时长 25.04s（400641 samples）
[2025-11-19 03:03:46] 开始发送 0011_0021.wav，总帧 1566，时长 25.04s
[2025-11-19 03:03:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.312, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.965, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.068, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.264, 'infer_time': 0.192, 'content': '选择透气面料，设计宽松剪裁和短袖。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.27, 'turn': 0, 'state': 'LISTEN', 'content': '如何设计一件适合夏季穿着的连衣裙'}}
[2025-11-19 03:03:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.594, 'infer_time': 0.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:03:51] 收到 tts_done, timestamp=5.594s
[2025-11-19 03:03:51] 在 5.59s 插入 TTS（4.26s）
[2025-11-19 03:03:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.623}}
[2025-11-19 03:03:57] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.129, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.689, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.338, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.441, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.551, 'infer_time': 0.106, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何设计一件适合夏季穿着的连衣裙'}]}, {'role': 'assistant', 'content': '选择透气面料，设计宽松剪裁和短袖。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.729, 'infer_time': 0.173, 'content': '建议老师多沟通，同学互帮互助。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何设计一件适合夏季穿着的连衣裙'}]}, {'role': 'assistant', 'content': '选择透气面料，设计宽松剪裁和短袖。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.758, 'turn': 1, 'state': 'LISTEN', 'content': '先不说服装了我想听听你对帮助留级同学有什么建议'}}
[2025-11-19 03:04:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.97, 'infer_time': 0.235, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:03] 收到 tts_done, timestamp=16.97s
[2025-11-19 03:04:03] 在 16.97s 插入 TTS（3.11s）
[2025-11-19 03:04:12] 音频发送完毕，用时 25.87s
[2025-11-19 03:04:12] WebSocket 已关闭，结束接收循环
[2025-11-19 03:04:12] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0011_0021_output.wav，时长 25.04s
[2025-11-19 03:04:12] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0011_0021_output.wav
[2025-11-19 03:04:12] 处理完成: 0011_0021.wav
[2025-11-19 03:04:12] -----------------------------------
[2025-11-19 03:04:12] 开始处理文件: 0012_0015.wav
[2025-11-19 03:04:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:04:12] 初始化输出 buffer，总时长 23.05s（368801 samples）
[2025-11-19 03:04:12] 开始发送 0012_0015.wav，总帧 1441，时长 23.05s
[2025-11-19 03:04:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.397, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.038, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.142, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.341, 'infer_time': 0.194, 'content': '尝试深呼吸，转移注意力到音乐或手机上。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.377, 'turn': 0, 'state': 'LISTEN', 'content': '我每次坐电梯都很害怕有什么方法可以缓解这种恐惧吗'}}
[2025-11-19 03:04:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.694, 'infer_time': 0.349, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:18] 收到 tts_done, timestamp=6.694s
[2025-11-19 03:04:18] 在 6.69s 插入 TTS（4.64s）
[2025-11-19 03:04:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.839}}
[2025-11-19 03:04:24] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 12.35, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.753, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.403, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.498, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.583, 'infer_time': 0.081, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每次坐电梯都很害怕有什么方法可以缓解这种恐惧吗'}]}, {'role': 'assistant', 'content': '尝试深呼吸，转移注意力到音乐或手机上。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.699, 'turn': 1, 'state': 'LISTEN', 'content': '想聊这个了说说你养过宠物吗'}}
[2025-11-19 03:04:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.754, 'infer_time': 0.167, 'content': '我作为AI没有实体，无法养宠物。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我每次坐电梯都很害怕有什么方法可以缓解这种恐惧吗'}]}, {'role': 'assistant', 'content': '尝试深呼吸，转移注意力到音乐或手机上。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 15.015, 'infer_time': 0.254, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:27] 收到 tts_done, timestamp=15.015s
[2025-11-19 03:04:27] 在 15.02s 插入 TTS（3.17s）
[2025-11-19 03:04:35] 音频发送完毕，用时 23.85s
[2025-11-19 03:04:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:04:36] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0012_0015_output.wav，时长 23.05s
[2025-11-19 03:04:36] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0012_0015_output.wav
[2025-11-19 03:04:36] 处理完成: 0012_0015.wav
[2025-11-19 03:04:36] -----------------------------------
[2025-11-19 03:04:36] 开始处理文件: 0012_0019.wav
[2025-11-19 03:04:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:04:36] 初始化输出 buffer，总时长 24.10s（385601 samples）
[2025-11-19 03:04:36] 开始发送 0012_0019.wav，总帧 1507，时长 24.10s
[2025-11-19 03:04:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.075, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.729, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.829, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.979, 'turn': 0, 'state': 'LISTEN', 'content': '如何根据星座判断两个人是否适合交友'}}
[2025-11-19 03:04:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.05, 'infer_time': 0.216, 'content': '星座可作参考，但交友更重三观与性格契合。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.41, 'infer_time': 0.354, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:04:41] 收到 tts_done, timestamp=5.41s
[2025-11-19 03:04:41] 在 5.41s 插入 TTS（4.80s）
[2025-11-19 03:04:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.395}}
[2025-11-19 03:04:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.904, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 14.786, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 15.434, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.528, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.622, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何根据星座判断两个人是否适合交友'}]}, {'role': 'assistant', 'content': '星座可作参考，但交友更重三观与性格契合。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 15.833, 'infer_time': 0.206, 'content': '看CADR值和适用面积，选对房间才有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何根据星座判断两个人是否适合交友'}]}, {'role': 'assistant', 'content': '星座可作参考，但交友更重三观与性格契合。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 15.839, 'turn': 1, 'state': 'LISTEN', 'content': '别聊星座了最近雾霾严重说说空气净化器怎么选吧'}}
[2025-11-19 03:04:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 16.12, 'infer_time': 0.281, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:04:52] 收到 tts_done, timestamp=16.12s
[2025-11-19 03:04:52] 在 16.12s 插入 TTS（3.57s）
[2025-11-19 03:05:00] 音频发送完毕，用时 24.96s
[2025-11-19 03:05:00] WebSocket 已关闭，结束接收循环
[2025-11-19 03:05:00] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0012_0019_output.wav，时长 24.10s
[2025-11-19 03:05:00] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0012_0019_output.wav
[2025-11-19 03:05:00] 处理完成: 0012_0019.wav
[2025-11-19 03:05:00] -----------------------------------
[2025-11-19 03:05:00] 开始处理文件: 0012_0036.wav
[2025-11-19 03:05:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:05:00] 初始化输出 buffer，总时长 25.11s（401760 samples）
[2025-11-19 03:05:00] 开始发送 0012_0036.wav，总帧 1570，时长 25.11s
[2025-11-19 03:05:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.782, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.882, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.06, 'infer_time': 0.172, 'content': '可以提前说好AA制，避免尴尬。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.088, 'turn': 0, 'state': 'LISTEN', 'content': '朋友聚餐 aa 制分摊费用时有人点了很贵的菜怎么办'}}
[2025-11-19 03:05:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.303, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:08] 收到 tts_done, timestamp=7.303s
[2025-11-19 03:05:08] 在 7.30s 插入 TTS（3.03s）
[2025-11-19 03:05:12] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.543}}
[2025-11-19 03:05:14] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 13.052, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 15.846, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 16.494, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.593, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.682, 'infer_time': 0.085, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '朋友聚餐 aa 制分摊费用时有人点了很贵的菜怎么办'}]}, {'role': 'assistant', 'content': '可以提前说好AA制，避免尴尬。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 16.842, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了我想听听你对刘吉同学的看法'}}
[2025-11-19 03:05:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 16.845, 'infer_time': 0.158, 'content': '刘吉同学很优秀，值得学习。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '朋友聚餐 aa 制分摊费用时有人点了很贵的菜怎么办'}]}, {'role': 'assistant', 'content': '可以提前说好AA制，避免尴尬。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 17.077, 'infer_time': 0.228, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:18] 收到 tts_done, timestamp=17.077s
[2025-11-19 03:05:18] 在 17.08s 插入 TTS（2.88s）
[2025-11-19 03:05:26] 音频发送完毕，用时 25.96s
[2025-11-19 03:05:26] WebSocket 已关闭，结束接收循环
[2025-11-19 03:05:26] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0012_0036_output.wav，时长 25.11s
[2025-11-19 03:05:26] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0012_0036_output.wav
[2025-11-19 03:05:26] 处理完成: 0012_0036.wav
[2025-11-19 03:05:26] -----------------------------------
[2025-11-19 03:05:26] 开始处理文件: 0013_0007.wav
[2025-11-19 03:05:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:05:26] 初始化输出 buffer，总时长 22.95s（367199 samples）
[2025-11-19 03:05:26] 开始发送 0013_0007.wav，总帧 1435，时长 22.95s
[2025-11-19 03:05:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.052, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.705, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.801, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.969, 'infer_time': 0.164, 'content': '内向适合做程序员、编辑等职业。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.983, 'turn': 0, 'state': 'LISTEN', 'content': '我的性格比较内向适合从事什么职业'}}
[2025-11-19 03:05:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.2, 'infer_time': 0.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:31] 收到 tts_done, timestamp=4.2s
[2025-11-19 03:05:31] 在 4.20s 插入 TTS（2.93s）
[2025-11-19 03:05:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.298}}
[2025-11-19 03:05:36] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.806, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.479, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.129, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.23, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.326, 'infer_time': 0.091, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的性格比较内向适合从事什么职业'}]}, {'role': 'assistant', 'content': '内向适合做程序员、编辑等职业。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.504, 'turn': 1, 'state': 'LISTEN', 'content': '职业测试太严肃了不如聊聊你最近网购有什么让你特别满足的东西吧'}}
[2025-11-19 03:05:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.531, 'infer_time': 0.2, 'content': '最近买了个降噪耳机，通勤时超安静。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '我的性格比较内向适合从事什么职业'}]}, {'role': 'assistant', 'content': '内向适合做程序员、编辑等职业。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.835, 'infer_time': 0.298, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:05:41] 收到 tts_done, timestamp=14.835s
[2025-11-19 03:05:41] 在 14.84s 插入 TTS（3.83s）
[2025-11-19 03:05:50] 音频发送完毕，用时 23.64s
[2025-11-19 03:05:50] WebSocket 已关闭，结束接收循环
[2025-11-19 03:05:50] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0013_0007_output.wav，时长 22.95s
[2025-11-19 03:05:50] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0013_0007_output.wav
[2025-11-19 03:05:50] 处理完成: 0013_0007.wav
[2025-11-19 03:05:50] -----------------------------------
[2025-11-19 03:05:50] 开始处理文件: 0013_0010.wav
[2025-11-19 03:05:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:05:50] 初始化输出 buffer，总时长 22.91s（366559 samples）
[2025-11-19 03:05:50] 开始发送 0013_0010.wav，总帧 1432，时长 22.91s
[2025-11-19 03:05:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.139, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.435, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.09, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.179, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.357, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个关于快递的谐音梗吗'}}
[2025-11-19 03:05:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.377, 'infer_time': 0.194, 'content': '快递到家，谐音“快点到家”！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.599, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:05:54] 收到 tts_done, timestamp=3.599s
[2025-11-19 03:05:54] 在 3.60s 插入 TTS（2.83s）
[2025-11-19 03:05:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.862}}
[2025-11-19 03:06:00] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.366, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.785, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 10.426, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.514, 'infer_time': 0.085, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.446, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.094, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.193, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.285, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个关于快递的谐音梗吗'}]}, {'role': 'assistant', 'content': '快递到家，谐音“快点到家”！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.467, 'turn': 1, 'state': 'LISTEN', 'content': '啊挺有意思的不如聊聊你家乡有什么特别的纪念馆吧'}}
[2025-11-19 03:06:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.472, 'infer_time': 0.182, 'content': '我老家有座红军纪念馆，挺震撼的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个关于快递的谐音梗吗'}]}, {'role': 'assistant', 'content': '快递到家，谐音“快点到家”！'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.702, 'infer_time': 0.226, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:05] 收到 tts_done, timestamp=14.702s
[2025-11-19 03:06:05] 在 14.70s 插入 TTS（2.92s）
[2025-11-19 03:06:14] 音频发送完毕，用时 23.57s
[2025-11-19 03:06:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:06:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0013_0010_output.wav，时长 22.91s
[2025-11-19 03:06:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0013_0010_output.wav
[2025-11-19 03:06:14] 处理完成: 0013_0010.wav
[2025-11-19 03:06:14] -----------------------------------
[2025-11-19 03:06:14] 开始处理文件: 0013_0030.wav
[2025-11-19 03:06:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:06:14] 初始化输出 buffer，总时长 21.91s（350561 samples）
[2025-11-19 03:06:14] 开始发送 0013_0030.wav，总帧 1370，时长 21.91s
[2025-11-19 03:06:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.166, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.821, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.926, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.108, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个冷笑话精选八十三条里的笑话吗'}}
[2025-11-19 03:06:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.2, 'infer_time': 0.269, 'content': '好的，给你讲一个冷笑话：  \n冰箱为什么不会感冒？因为它有“冷藏”功能。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.651, 'infer_time': 0.446, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:19] 收到 tts_done, timestamp=5.651s
[2025-11-19 03:06:19] 在 5.65s 插入 TTS（6.19s）
[2025-11-19 03:06:23] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.501}}
[2025-11-19 03:06:25] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.011, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.374, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:27] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.022, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.115, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.203, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个冷笑话精选八十三条里的笑话吗'}]}, {'role': 'assistant', 'content': '好的，给你讲一个冷笑话：  \n冰箱为什么不会感冒？因为它有“冷藏”功能。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.35, 'turn': 1, 'state': 'LISTEN', 'content': '算了不想听笑话了聊聊智能手环的功能吧'}}
[2025-11-19 03:06:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.438, 'infer_time': 0.231, 'content': '智能手环能测心率、记步数，还能监测睡眠质量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '能讲一个冷笑话精选八十三条里的笑话吗'}]}, {'role': 'assistant', 'content': '好的，给你讲一个冷笑话：  \n冰箱为什么不会感冒？因为它有“冷藏”功能。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:28] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.789, 'infer_time': 0.345, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:28] 收到 tts_done, timestamp=13.789s
[2025-11-19 03:06:28] 在 13.79s 插入 TTS（4.73s）
[2025-11-19 03:06:36] 音频发送完毕，用时 22.49s
[2025-11-19 03:06:36] WebSocket 已关闭，结束接收循环
[2025-11-19 03:06:36] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0013_0030_output.wav，时长 21.91s
[2025-11-19 03:06:36] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0013_0030_output.wav
[2025-11-19 03:06:36] 处理完成: 0013_0030.wav
[2025-11-19 03:06:36] -----------------------------------
[2025-11-19 03:06:36] 开始处理文件: 0014_0020.wav
[2025-11-19 03:06:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:06:36] 初始化输出 buffer，总时长 21.42s（342721 samples）
[2025-11-19 03:06:36] 开始发送 0014_0020.wav，总帧 1339，时长 21.42s
[2025-11-19 03:06:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.202, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.857, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.954, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.08, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些人会特别害怕老鼠'}}
[2025-11-19 03:06:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.179, 'infer_time': 0.222, 'content': '可能因为老鼠外形和习性让人联想到疾病或脏乱环境。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.536, 'infer_time': 0.351, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:06:41] 收到 tts_done, timestamp=4.536s
[2025-11-19 03:06:41] 在 4.54s 插入 TTS（4.60s）
[2025-11-19 03:06:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.209}}
[2025-11-19 03:06:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.718, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.97, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.621, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.716, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.804, 'infer_time': 0.083, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些人会特别害怕老鼠'}]}, {'role': 'assistant', 'content': '可能因为老鼠外形和习性让人联想到疾病或脏乱环境。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.981, 'turn': 1, 'state': 'LISTEN', 'content': '别说老鼠了我想听听你对校园暴力有什么看法'}}
[2025-11-19 03:06:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.991, 'infer_time': 0.18, 'content': '校园暴力危害大，需及时干预和教育。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么有些人会特别害怕老鼠'}]}, {'role': 'assistant', 'content': '可能因为老鼠外形和习性让人联想到疾病或脏乱环境。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.283, 'infer_time': 0.287, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:06:50] 收到 tts_done, timestamp=13.283s
[2025-11-19 03:06:50] 在 13.28s 插入 TTS（3.62s）
[2025-11-19 03:06:58] 音频发送完毕，用时 22.07s
[2025-11-19 03:06:58] WebSocket 已关闭，结束接收循环
[2025-11-19 03:06:58] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0014_0020_output.wav，时长 21.42s
[2025-11-19 03:06:58] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0014_0020_output.wav
[2025-11-19 03:06:58] 处理完成: 0014_0020.wav
[2025-11-19 03:06:58] -----------------------------------
[2025-11-19 03:06:58] 开始处理文件: 0014_0022.wav
[2025-11-19 03:06:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:06:58] 初始化输出 buffer，总时长 22.38s（358080 samples）
[2025-11-19 03:06:58] 开始发送 0014_0022.wav，总帧 1399，时长 22.38s
[2025-11-19 03:06:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.569, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.319, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.472, 'turn': 0, 'state': 'LISTEN', 'content': '葛亮是如何辅佐刘备建立蜀汉的'}}
[2025-11-19 03:07:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.505, 'infer_time': 0.182, 'content': '隆中对定战略，出谋划策助刘备。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.789, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:03] 收到 tts_done, timestamp=4.789s
[2025-11-19 03:07:03] 在 4.79s 插入 TTS（3.58s）
[2025-11-19 03:07:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.742}}
[2025-11-19 03:07:09] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.251, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.977, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.625, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.722, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.815, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '葛亮是如何辅佐刘备建立蜀汉的'}]}, {'role': 'assistant', 'content': '隆中对定战略，出谋划策助刘备。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.975, 'turn': 1, 'state': 'LISTEN', 'content': '我对历史不太感兴趣不如聊聊个人债务规划吧'}}
[2025-11-19 03:07:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.01, 'infer_time': 0.19, 'content': '个人债务规划需量入为出，合理负债。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '葛亮是如何辅佐刘备建立蜀汉的'}]}, {'role': 'assistant', 'content': '隆中对定战略，出谋划策助刘备。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.311, 'infer_time': 0.295, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:13] 收到 tts_done, timestamp=14.311s
[2025-11-19 03:07:13] 在 14.31s 插入 TTS（3.77s）
[2025-11-19 03:07:21] 音频发送完毕，用时 23.10s
[2025-11-19 03:07:21] WebSocket 已关闭，结束接收循环
[2025-11-19 03:07:21] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0014_0022_output.wav，时长 22.38s
[2025-11-19 03:07:21] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0014_0022_output.wav
[2025-11-19 03:07:21] 处理完成: 0014_0022.wav
[2025-11-19 03:07:21] -----------------------------------
[2025-11-19 03:07:21] 开始处理文件: 0014_0024.wav
[2025-11-19 03:07:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:07:21] 初始化输出 buffer，总时长 22.46s（359361 samples）
[2025-11-19 03:07:21] 开始发送 0014_0024.wav，总帧 1404，时长 22.46s
[2025-11-19 03:07:22] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.601, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.83, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.932, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.117, 'turn': 0, 'state': 'LISTEN', 'content': '公司对迟到早退行为一般会怎么处理'}}
[2025-11-19 03:07:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.187, 'infer_time': 0.25, 'content': '公司通常会先口头警告，再书面提醒，严重者扣工资或记过。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.579, 'infer_time': 0.387, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:27] 收到 tts_done, timestamp=5.579s
[2025-11-19 03:07:27] 在 5.58s 插入 TTS（5.30s）
[2025-11-19 03:07:31] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.191}}
[2025-11-19 03:07:32] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.702, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.953, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 13.601, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.696, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.787, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '公司对迟到早退行为一般会怎么处理'}]}, {'role': 'assistant', 'content': '公司通常会先口头警告，再书面提醒，严重者扣工资或记过。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.959, 'turn': 1, 'state': 'LISTEN', 'content': '先不说考勤了我想听听关于跳槽时机的建议'}}
[2025-11-19 03:07:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.0, 'infer_time': 0.208, 'content': '跳槽前先评估自身能力，选对时机再行动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '公司对迟到早退行为一般会怎么处理'}]}, {'role': 'assistant', 'content': '公司通常会先口头警告，再书面提醒，严重者扣工资或记过。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.341, 'infer_time': 0.335, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:36] 收到 tts_done, timestamp=14.341s
[2025-11-19 03:07:36] 在 14.34s 插入 TTS（4.44s）
[2025-11-19 03:07:44] 音频发送完毕，用时 23.07s
[2025-11-19 03:07:44] WebSocket 已关闭，结束接收循环
[2025-11-19 03:07:44] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0014_0024_output.wav，时长 22.46s
[2025-11-19 03:07:44] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0014_0024_output.wav
[2025-11-19 03:07:44] 处理完成: 0014_0024.wav
[2025-11-19 03:07:44] -----------------------------------
[2025-11-19 03:07:44] 开始处理文件: 0015_0009.wav
[2025-11-19 03:07:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:07:45] 初始化输出 buffer，总时长 23.03s（368480 samples）
[2025-11-19 03:07:45] 开始发送 0015_0009.wav，总帧 1440，时长 23.03s
[2025-11-19 03:07:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.237, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.347, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.999, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.094, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.225, 'turn': 0, 'state': 'LISTEN', 'content': '你还记得小时候参加运动会最难忘的事吗'}}
[2025-11-19 03:07:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.265, 'infer_time': 0.167, 'content': '当然记得，那年我跑错了跑道。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.508, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:07:49] 收到 tts_done, timestamp=4.508s
[2025-11-19 03:07:49] 在 4.51s 插入 TTS（3.02s）
[2025-11-19 03:07:54] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.427}}
[2025-11-19 03:07:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.512, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:07:55] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.933, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.491, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.14, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.237, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.328, 'infer_time': 0.087, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得小时候参加运动会最难忘的事吗'}]}, {'role': 'assistant', 'content': '当然记得，那年我跑错了跑道。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.478, 'turn': 1, 'state': 'LISTEN', 'content': '不想聊这个了最近上班族堵车说说交通拥堵吧'}}
[2025-11-19 03:07:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.641, 'infer_time': 0.307, 'content': '堵车确实烦人，高峰期太难了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '你还记得小时候参加运动会最难忘的事吗'}]}, {'role': 'assistant', 'content': '当然记得，那年我跑错了跑道。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.886, 'infer_time': 0.239, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:07:59] 收到 tts_done, timestamp=14.886s
[2025-11-19 03:07:59] 在 14.89s 插入 TTS（3.05s）
[2025-11-19 03:08:08] 音频发送完毕，用时 23.66s
[2025-11-19 03:08:08] WebSocket 已关闭，结束接收循环
[2025-11-19 03:08:08] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0015_0009_output.wav，时长 23.03s
[2025-11-19 03:08:08] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0015_0009_output.wav
[2025-11-19 03:08:08] 处理完成: 0015_0009.wav
[2025-11-19 03:08:08] -----------------------------------
[2025-11-19 03:08:08] 开始处理文件: 0015_0010.wav
[2025-11-19 03:08:08] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:08:08] 初始化输出 buffer，总时长 22.94s（367040 samples）
[2025-11-19 03:08:08] 开始发送 0015_0010.wav，总帧 1434，时长 22.94s
[2025-11-19 03:08:08] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.909, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.56, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.658, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.84, 'infer_time': 0.178, 'content': '目前没有科学证据支持血型影响睡眠习惯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.108, 'turn': 0, 'state': 'LISTEN', 'content': '听说不同血型的人睡眠习惯不同这是真的吗'}}
[2025-11-19 03:08:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.127, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:13] 收到 tts_done, timestamp=5.127s
[2025-11-19 03:08:13] 在 5.13s 插入 TTS（3.51s）
[2025-11-19 03:08:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.152}}
[2025-11-19 03:08:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.236, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:08:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 10.659, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.388, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 14.036, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.136, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.229, 'infer_time': 0.088, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '听说不同血型的人睡眠习惯不同这是真的吗'}]}, {'role': 'assistant', 'content': '目前没有科学证据支持血型影响睡眠习惯。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 14.375, 'infer_time': 0.142, 'content': '苹果Vision Pro头显值得关注。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '听说不同血型的人睡眠习惯不同这是真的吗'}]}, {'role': 'assistant', 'content': '目前没有科学证据支持血型影响睡眠习惯。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 14.381, 'turn': 1, 'state': 'LISTEN', 'content': '先不说这个了最近有什么值得关注的新科技产品吗'}}
[2025-11-19 03:08:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 14.6, 'infer_time': 0.219, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:23] 收到 tts_done, timestamp=14.6s
[2025-11-19 03:08:23] 在 14.60s 插入 TTS（2.79s）
[2025-11-19 03:08:32] 音频发送完毕，用时 23.54s
[2025-11-19 03:08:32] WebSocket 已关闭，结束接收循环
[2025-11-19 03:08:32] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0015_0010_output.wav，时长 22.94s
[2025-11-19 03:08:32] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0015_0010_output.wav
[2025-11-19 03:08:32] 处理完成: 0015_0010.wav
[2025-11-19 03:08:32] -----------------------------------
[2025-11-19 03:08:32] 开始处理文件: 0015_0021.wav
[2025-11-19 03:08:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:08:32] 初始化输出 buffer，总时长 21.54s（344641 samples）
[2025-11-19 03:08:32] 开始发送 0015_0021.wav，总帧 1347，时长 21.54s
[2025-11-19 03:08:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.499, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.152, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.242, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.407, 'infer_time': 0.161, 'content': '用纸巾包住后扔进垃圾桶。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.417, 'turn': 0, 'state': 'LISTEN', 'content': '买到狗屎后怎么处理比较干净'}}
[2025-11-19 03:08:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.608, 'infer_time': 0.194, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:35] 收到 tts_done, timestamp=3.608s
[2025-11-19 03:08:35] 在 3.61s 插入 TTS（2.29s）
[2025-11-19 03:08:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.805}}
[2025-11-19 03:08:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.719, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:08:41] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 9.322, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.897, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.545, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.641, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.73, 'infer_time': 0.084, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '买到狗屎后怎么处理比较干净'}]}, {'role': 'assistant', 'content': '用纸巾包住后扔进垃圾桶。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.917, 'turn': 1, 'state': 'LISTEN', 'content': '别说这个了最近密室逃脱挺火的聊聊这个吧'}}
[2025-11-19 03:08:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.934, 'infer_time': 0.199, 'content': '密室逃脱确实挺火的，你玩过吗？', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '买到狗屎后怎么处理比较干净'}]}, {'role': 'assistant', 'content': '用纸巾包住后扔进垃圾桶。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.189, 'infer_time': 0.25, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:08:45] 收到 tts_done, timestamp=13.189s
[2025-11-19 03:08:45] 在 13.19s 插入 TTS（3.22s）
[2025-11-19 03:08:54] 音频发送完毕，用时 22.07s
[2025-11-19 03:08:54] WebSocket 已关闭，结束接收循环
[2025-11-19 03:08:54] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/0015_0021_output.wav，时长 21.54s
[2025-11-19 03:08:54] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/0015_0021_output.wav
[2025-11-19 03:08:54] 处理完成: 0015_0021.wav
[2025-11-19 03:08:54] -----------------------------------
[2025-11-19 03:08:54] 开始处理文件: clean_0001_0017.wav
[2025-11-19 03:08:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:08:54] 初始化输出 buffer，总时长 22.59s（361440 samples）
[2025-11-19 03:08:54] 开始发送 clean_0001_0017.wav，总帧 1412，时长 22.59s
[2025-11-19 03:08:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.105, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.855, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.956, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.119, 'infer_time': 0.158, 'content': '重心放低，手臂摆动协调。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.277, 'turn': 0, 'state': 'LISTEN', 'content': '纹铁环有什么技巧可以保持平衡'}}
[2025-11-19 03:08:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.363, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:08:58] 收到 tts_done, timestamp=4.363s
[2025-11-19 03:08:58] 在 4.36s 插入 TTS（2.91s）
[2025-11-19 03:09:17] 音频发送完毕，用时 22.93s
[2025-11-19 03:09:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:09:17] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0001_0017_output.wav，时长 22.59s
[2025-11-19 03:09:17] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0001_0017_output.wav
[2025-11-19 03:09:17] 处理完成: clean_0001_0017.wav
[2025-11-19 03:09:17] -----------------------------------
[2025-11-19 03:09:17] 开始处理文件: clean_0001_0026.wav
[2025-11-19 03:09:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:09:17] 初始化输出 buffer，总时长 21.45s（343200 samples）
[2025-11-19 03:09:17] 开始发送 clean_0001_0026.wav，总帧 1341，时长 21.45s
[2025-11-19 03:09:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.954, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.044, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.181, 'turn': 0, 'state': 'LISTEN', 'content': '校园卡密码忘了怎么办'}}
[2025-11-19 03:09:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.193, 'infer_time': 0.145, 'content': '联系校园卡服务中心重置密码。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.426, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:20] 收到 tts_done, timestamp=3.426s
[2025-11-19 03:09:20] 在 3.43s 插入 TTS（2.90s）
[2025-11-19 03:09:39] 音频发送完毕，用时 21.82s
[2025-11-19 03:09:39] WebSocket 已关闭，结束接收循环
[2025-11-19 03:09:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0001_0026_output.wav，时长 21.45s
[2025-11-19 03:09:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0001_0026_output.wav
[2025-11-19 03:09:39] 处理完成: clean_0001_0026.wav
[2025-11-19 03:09:39] -----------------------------------
[2025-11-19 03:09:39] 开始处理文件: clean_0001_0033.wav
[2025-11-19 03:09:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:09:39] 初始化输出 buffer，总时长 24.46s（391360 samples）
[2025-11-19 03:09:39] 开始发送 clean_0001_0033.wav，总帧 1529，时长 24.46s
[2025-11-19 03:09:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.529, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.961, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.609, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.708, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.868, 'infer_time': 0.155, 'content': '买车需结合实际需求，运势仅供参考。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.919, 'turn': 0, 'state': 'LISTEN', 'content': '最近想买车能帮我分析一下运势吗'}}
[2025-11-19 03:09:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.162, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:09:44] 收到 tts_done, timestamp=5.162s
[2025-11-19 03:09:44] 在 5.16s 插入 TTS（3.70s）
[2025-11-19 03:10:04] 音频发送完毕，用时 24.96s
[2025-11-19 03:10:04] WebSocket 已关闭，结束接收循环
[2025-11-19 03:10:04] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0001_0033_output.wav，时长 24.46s
[2025-11-19 03:10:04] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0001_0033_output.wav
[2025-11-19 03:10:04] 处理完成: clean_0001_0033.wav
[2025-11-19 03:10:04] -----------------------------------
[2025-11-19 03:10:04] 开始处理文件: clean_0001_0035.wav
[2025-11-19 03:10:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:10:04] 初始化输出 buffer，总时长 22.04s（352640 samples）
[2025-11-19 03:10:04] 开始发送 clean_0001_0035.wav，总帧 1378，时长 22.04s
[2025-11-19 03:10:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.377, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.026, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.12, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.246, 'turn': 0, 'state': 'LISTEN', 'content': '如何提高情绪稳定性'}}
[2025-11-19 03:10:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.286, 'infer_time': 0.162, 'content': '规律作息，学会自我觉察与接纳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.581, 'infer_time': 0.289, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:07] 收到 tts_done, timestamp=3.581s
[2025-11-19 03:10:07] 在 3.58s 插入 TTS（3.64s）
[2025-11-19 03:10:26] 音频发送完毕，用时 22.47s
[2025-11-19 03:10:26] WebSocket 已关闭，结束接收循环
[2025-11-19 03:10:26] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0001_0035_output.wav，时长 22.04s
[2025-11-19 03:10:26] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0001_0035_output.wav
[2025-11-19 03:10:26] 处理完成: clean_0001_0035.wav
[2025-11-19 03:10:26] -----------------------------------
[2025-11-19 03:10:26] 开始处理文件: clean_0002_0001.wav
[2025-11-19 03:10:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:10:26] 初始化输出 buffer，总时长 21.36s（341760 samples）
[2025-11-19 03:10:26] 开始发送 clean_0002_0001.wav，总帧 1335，时长 21.36s
[2025-11-19 03:10:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.025, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.582, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.323, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.497, 'turn': 0, 'state': 'LISTEN', 'content': '焦裕禄是如何治理兰考封杀的'}}
[2025-11-19 03:10:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.527, 'infer_time': 0.2, 'content': '焦裕禄带领群众植树固沙，科学治理风沙。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.839, 'infer_time': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:30] 收到 tts_done, timestamp=3.839s
[2025-11-19 03:10:30] 在 3.84s 插入 TTS（4.01s）
[2025-11-19 03:10:48] 音频发送完毕，用时 21.76s
[2025-11-19 03:10:48] WebSocket 已关闭，结束接收循环
[2025-11-19 03:10:48] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0002_0001_output.wav，时长 21.36s
[2025-11-19 03:10:48] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0002_0001_output.wav
[2025-11-19 03:10:48] 处理完成: clean_0002_0001.wav
[2025-11-19 03:10:48] -----------------------------------
[2025-11-19 03:10:48] 开始处理文件: clean_0002_0003.wav
[2025-11-19 03:10:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:10:48] 初始化输出 buffer，总时长 20.96s（335360 samples）
[2025-11-19 03:10:48] 开始发送 clean_0002_0003.wav，总帧 1310，时长 20.96s
[2025-11-19 03:10:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:51] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.114, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.763, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.859, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:52] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.024, 'turn': 0, 'state': 'LISTEN', 'content': '如果我在重要场合说错话了该怎么办'}}
[2025-11-19 03:10:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.03, 'infer_time': 0.167, 'content': '别慌，承认错误并道歉最有效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.267, 'infer_time': 0.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:10:52] 收到 tts_done, timestamp=4.267s
[2025-11-19 03:10:52] 在 4.27s 插入 TTS（2.89s）
[2025-11-19 03:11:09] 音频发送完毕，用时 21.37s
[2025-11-19 03:11:09] WebSocket 已关闭，结束接收循环
[2025-11-19 03:11:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0002_0003_output.wav，时长 20.96s
[2025-11-19 03:11:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0002_0003_output.wav
[2025-11-19 03:11:09] 处理完成: clean_0002_0003.wav
[2025-11-19 03:11:09] -----------------------------------
[2025-11-19 03:11:09] 开始处理文件: clean_0002_0005.wav
[2025-11-19 03:11:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:11:09] 初始化输出 buffer，总时长 21.04s（336640 samples）
[2025-11-19 03:11:09] 开始发送 clean_0002_0005.wav，总帧 1315，时长 21.04s
[2025-11-19 03:11:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.708, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.357, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.462, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.614, 'infer_time': 0.147, 'content': '这是人类进化中形成的本能反应。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.647, 'turn': 0, 'state': 'LISTEN', 'content': '为什么很多人天生就怕蛇'}}
[2025-11-19 03:11:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.843, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:13] 收到 tts_done, timestamp=3.843s
[2025-11-19 03:11:13] 在 3.84s 插入 TTS（2.62s）
[2025-11-19 03:11:31] 音频发送完毕，用时 21.44s
[2025-11-19 03:11:31] WebSocket 已关闭，结束接收循环
[2025-11-19 03:11:31] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0002_0005_output.wav，时长 21.04s
[2025-11-19 03:11:31] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0002_0005_output.wav
[2025-11-19 03:11:31] 处理完成: clean_0002_0005.wav
[2025-11-19 03:11:31] -----------------------------------
[2025-11-19 03:11:31] 开始处理文件: clean_0002_0012.wav
[2025-11-19 03:11:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:11:31] 初始化输出 buffer，总时长 24.05s（384800 samples）
[2025-11-19 03:11:31] 开始发送 clean_0002_0012.wav，总帧 1504，时长 24.05s
[2025-11-19 03:11:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.771, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.419, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.529, 'infer_time': 0.106, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.7, 'infer_time': 0.166, 'content': '人生转折常源于意外或主动选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.706, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得人生的转器转折点通常是怎么出现的'}}
[2025-11-19 03:11:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.967, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:37] 收到 tts_done, timestamp=5.967s
[2025-11-19 03:11:37] 在 5.97s 插入 TTS（3.22s）
[2025-11-19 03:11:55] 音频发送完毕，用时 24.59s
[2025-11-19 03:11:55] WebSocket 已关闭，结束接收循环
[2025-11-19 03:11:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0002_0012_output.wav，时长 24.05s
[2025-11-19 03:11:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0002_0012_output.wav
[2025-11-19 03:11:55] 处理完成: clean_0002_0012.wav
[2025-11-19 03:11:55] -----------------------------------
[2025-11-19 03:11:55] 开始处理文件: clean_0003_0003_add.wav
[2025-11-19 03:11:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:11:55] 初始化输出 buffer，总时长 21.02s（336320 samples）
[2025-11-19 03:11:55] 开始发送 clean_0003_0003_add.wav，总帧 1314，时长 21.02s
[2025-11-19 03:11:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.929, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.033, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.199, 'turn': 0, 'state': 'LISTEN', 'content': '冒险活动有哪些优缺点'}}
[2025-11-19 03:11:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.216, 'infer_time': 0.179, 'content': '冒险活动能锻炼胆量，但存在安全风险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.516, 'infer_time': 0.295, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:11:59] 收到 tts_done, timestamp=3.516s
[2025-11-19 03:11:59] 在 3.52s 插入 TTS（3.69s）
[2025-11-19 03:12:17] 音频发送完毕，用时 21.42s
[2025-11-19 03:12:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:12:17] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0003_add_output.wav，时长 21.02s
[2025-11-19 03:12:17] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0003_add_output.wav
[2025-11-19 03:12:17] 处理完成: clean_0003_0003_add.wav
[2025-11-19 03:12:17] -----------------------------------
[2025-11-19 03:12:17] 开始处理文件: clean_0003_0006_add.wav
[2025-11-19 03:12:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:12:17] 初始化输出 buffer，总时长 23.67s（378720 samples）
[2025-11-19 03:12:17] 开始发送 clean_0003_0006_add.wav，总帧 1480，时长 23.67s
[2025-11-19 03:12:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.045, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.618, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.266, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.364, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.487, 'turn': 0, 'state': 'LISTEN', 'content': '如何快速调节焦虑情绪'}}
[2025-11-19 03:12:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.505, 'infer_time': 0.138, 'content': '深呼吸放松，转移注意力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.735, 'infer_time': 0.226, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:20] 收到 tts_done, timestamp=3.735s
[2025-11-19 03:12:20] 在 3.73s 插入 TTS（2.85s）
[2025-11-19 03:12:41] 音频发送完毕，用时 24.13s
[2025-11-19 03:12:41] WebSocket 已关闭，结束接收循环
[2025-11-19 03:12:41] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0006_add_output.wav，时长 23.67s
[2025-11-19 03:12:41] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0006_add_output.wav
[2025-11-19 03:12:41] 处理完成: clean_0003_0006_add.wav
[2025-11-19 03:12:41] -----------------------------------
[2025-11-19 03:12:41] 开始处理文件: clean_0003_0008_add.wav
[2025-11-19 03:12:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:12:41] 初始化输出 buffer，总时长 20.50s（328000 samples）
[2025-11-19 03:12:41] 开始发送 clean_0003_0008_add.wav，总帧 1282，时长 20.50s
[2025-11-19 03:12:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.332, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.981, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.075, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.235, 'infer_time': 0.156, 'content': '最好分开服用，避免影响药效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.266, 'turn': 0, 'state': 'LISTEN', 'content': '布洛芬和降压药一起吃会有影响吗'}}
[2025-11-19 03:12:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.471, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:12:45] 收到 tts_done, timestamp=4.471s
[2025-11-19 03:12:45] 在 4.47s 插入 TTS（2.94s）
[2025-11-19 03:13:02] 音频发送完毕，用时 20.95s
[2025-11-19 03:13:02] WebSocket 已关闭，结束接收循环
[2025-11-19 03:13:02] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0008_add_output.wav，时长 20.50s
[2025-11-19 03:13:02] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0008_add_output.wav
[2025-11-19 03:13:02] 处理完成: clean_0003_0008_add.wav
[2025-11-19 03:13:02] -----------------------------------
[2025-11-19 03:13:02] 开始处理文件: clean_0003_0012_add.wav
[2025-11-19 03:13:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:13:02] 初始化输出 buffer，总时长 22.33s（357280 samples）
[2025-11-19 03:13:02] 开始发送 clean_0003_0012_add.wav，总帧 1396，时长 22.33s
[2025-11-19 03:13:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.529, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.181, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.278, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.438, 'infer_time': 0.155, 'content': '先列清单，按重要性排序。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:06] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.461, 'turn': 0, 'state': 'LISTEN', 'content': '面对多个选项时总是犹豫不决怎么办'}}
[2025-11-19 03:13:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.663, 'infer_time': 0.221, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:07] 收到 tts_done, timestamp=4.663s
[2025-11-19 03:13:07] 在 4.66s 插入 TTS（2.79s）
[2025-11-19 03:13:25] 音频发送完毕，用时 22.79s
[2025-11-19 03:13:25] WebSocket 已关闭，结束接收循环
[2025-11-19 03:13:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0012_add_output.wav，时长 22.33s
[2025-11-19 03:13:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0012_add_output.wav
[2025-11-19 03:13:25] 处理完成: clean_0003_0012_add.wav
[2025-11-19 03:13:25] -----------------------------------
[2025-11-19 03:13:25] 开始处理文件: clean_0003_0013_add.wav
[2025-11-19 03:13:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:13:25] 初始化输出 buffer，总时长 21.49s（343840 samples）
[2025-11-19 03:13:25] 开始发送 clean_0003_0013_add.wav，总帧 1344，时长 21.49s
[2025-11-19 03:13:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.364, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.012, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.117, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.32, 'infer_time': 0.199, 'content': '《月亮代表我的心》《甜蜜蜜》《上海滩》', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.325, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几首经典的怀旧电影歌曲吗'}}
[2025-11-19 03:13:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.631, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:29] 收到 tts_done, timestamp=4.631s
[2025-11-19 03:13:29] 在 4.63s 插入 TTS（3.77s）
[2025-11-19 03:13:47] 音频发送完毕，用时 21.94s
[2025-11-19 03:13:47] WebSocket 已关闭，结束接收循环
[2025-11-19 03:13:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0013_add_output.wav，时长 21.49s
[2025-11-19 03:13:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0013_add_output.wav
[2025-11-19 03:13:47] 处理完成: clean_0003_0013_add.wav
[2025-11-19 03:13:47] -----------------------------------
[2025-11-19 03:13:47] 开始处理文件: clean_0003_0015.wav
[2025-11-19 03:13:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:13:47] 初始化输出 buffer，总时长 28.16s（450560 samples）
[2025-11-19 03:13:47] 开始发送 clean_0003_0015.wav，总帧 1760，时长 28.16s
[2025-11-19 03:13:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.585, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.234, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.349, 'infer_time': 0.11, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.524, 'infer_time': 0.171, 'content': '清晰表达，确认理解，避免歧义。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.609, 'turn': 0, 'state': 'LISTEN', 'content': '在团队沟通中如何避免因表达不清导致的误解'}}
[2025-11-19 03:13:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.83, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:13:53] 收到 tts_done, timestamp=6.83s
[2025-11-19 03:13:53] 在 6.83s 插入 TTS（3.53s）
[2025-11-19 03:14:15] 音频发送完毕，用时 28.78s
[2025-11-19 03:14:15] WebSocket 已关闭，结束接收循环
[2025-11-19 03:14:15] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0015_output.wav，时长 28.16s
[2025-11-19 03:14:15] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0015_output.wav
[2025-11-19 03:14:15] 处理完成: clean_0003_0015.wav
[2025-11-19 03:14:15] -----------------------------------
[2025-11-19 03:14:15] 开始处理文件: clean_0003_0015_add.wav
[2025-11-19 03:14:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:14:15] 初始化输出 buffer，总时长 21.76s（348160 samples）
[2025-11-19 03:14:15] 开始发送 clean_0003_0015_add.wav，总帧 1360，时长 21.76s
[2025-11-19 03:14:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.536, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.184, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.292, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.418, 'turn': 0, 'state': 'LISTEN', 'content': '选择跑步鞋时应该注意哪些关键因素'}}
[2025-11-19 03:14:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.489, 'infer_time': 0.193, 'content': '鞋型、缓震、透气性和足弓支撑很重要。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.824, 'infer_time': 0.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:20] 收到 tts_done, timestamp=4.824s
[2025-11-19 03:14:20] 在 4.82s 插入 TTS（4.17s）
[2025-11-19 03:14:38] 音频发送完毕，用时 22.21s
[2025-11-19 03:14:38] WebSocket 已关闭，结束接收循环
[2025-11-19 03:14:38] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0015_add_output.wav，时长 21.76s
[2025-11-19 03:14:38] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0015_add_output.wav
[2025-11-19 03:14:38] 处理完成: clean_0003_0015_add.wav
[2025-11-19 03:14:38] -----------------------------------
[2025-11-19 03:14:38] 开始处理文件: clean_0003_0016_add.wav
[2025-11-19 03:14:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:14:38] 初始化输出 buffer，总时长 20.76s（332160 samples）
[2025-11-19 03:14:38] 开始发送 clean_0003_0016_add.wav，总帧 1298，时长 20.76s
[2025-11-19 03:14:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.754, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.402, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.496, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.681, 'infer_time': 0.182, 'content': '新车上牌需准备资料，选号领证。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.687, 'turn': 0, 'state': 'LISTEN', 'content': '新车上牌的具体流程是什么'}}
[2025-11-19 03:14:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.948, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:14:42] 收到 tts_done, timestamp=3.948s
[2025-11-19 03:14:42] 在 3.95s 插入 TTS（3.28s）
[2025-11-19 03:14:59] 音频发送完毕，用时 21.17s
[2025-11-19 03:14:59] WebSocket 已关闭，结束接收循环
[2025-11-19 03:14:59] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0016_add_output.wav，时长 20.76s
[2025-11-19 03:14:59] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0016_add_output.wav
[2025-11-19 03:14:59] 处理完成: clean_0003_0016_add.wav
[2025-11-19 03:14:59] -----------------------------------
[2025-11-19 03:14:59] 开始处理文件: clean_0003_0017.wav
[2025-11-19 03:14:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:14:59] 初始化输出 buffer，总时长 25.32s（405120 samples）
[2025-11-19 03:14:59] 开始发送 clean_0003_0017.wav，总帧 1583，时长 25.32s
[2025-11-19 03:14:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.491, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.139, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.24, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.416, 'infer_time': 0.171, 'content': '多练习驾驶能增强信心，缓解恐惧。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.477, 'turn': 0, 'state': 'LISTEN', 'content': '我总是害怕开车会出车祸有什么办法能缓解这种恐惧吗'}}
[2025-11-19 03:15:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.666, 'infer_time': 0.245, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:05] 收到 tts_done, timestamp=6.666s
[2025-11-19 03:15:05] 在 6.67s 插入 TTS（3.26s）
[2025-11-19 03:15:25] 音频发送完毕，用时 25.90s
[2025-11-19 03:15:25] WebSocket 已关闭，结束接收循环
[2025-11-19 03:15:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0017_output.wav，时长 25.32s
[2025-11-19 03:15:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0017_output.wav
[2025-11-19 03:15:25] 处理完成: clean_0003_0017.wav
[2025-11-19 03:15:25] -----------------------------------
[2025-11-19 03:15:25] 开始处理文件: clean_0003_0021.wav
[2025-11-19 03:15:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:15:25] 初始化输出 buffer，总时长 22.23s（355680 samples）
[2025-11-19 03:15:25] 开始发送 clean_0003_0021.wav，总帧 1390，时长 22.23s
[2025-11-19 03:15:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:29] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.906, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.016, 'infer_time': 0.106, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:29] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.149, 'turn': 0, 'state': 'LISTEN', 'content': '丢沙包游戏有什么技巧可以分享吗'}}
[2025-11-19 03:15:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.188, 'infer_time': 0.168, 'content': '扔沙包要掌握好角度和力度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.426, 'infer_time': 0.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:29] 收到 tts_done, timestamp=4.426s
[2025-11-19 03:15:29] 在 4.43s 插入 TTS（2.78s）
[2025-11-19 03:15:47] 音频发送完毕，用时 22.67s
[2025-11-19 03:15:47] WebSocket 已关闭，结束接收循环
[2025-11-19 03:15:47] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0021_output.wav，时长 22.23s
[2025-11-19 03:15:47] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0021_output.wav
[2025-11-19 03:15:47] 处理完成: clean_0003_0021.wav
[2025-11-19 03:15:47] -----------------------------------
[2025-11-19 03:15:47] 开始处理文件: clean_0003_0023.wav
[2025-11-19 03:15:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:15:47] 初始化输出 buffer，总时长 26.41s（422560 samples）
[2025-11-19 03:15:47] 开始发送 clean_0003_0023.wav，总帧 1651，时长 26.41s
[2025-11-19 03:15:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.591, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.584, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.164, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.813, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.924, 'infer_time': 0.106, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.129, 'infer_time': 0.2, 'content': '表达了对爱情中顺境逆境的感慨与无奈。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.187, 'turn': 0, 'state': 'LISTEN', 'content': '徐晓凤的顺流逆流这首歌表达了什么样的感情'}}
[2025-11-19 03:15:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.435, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:15:55] 收到 tts_done, timestamp=7.435s
[2025-11-19 03:15:55] 在 7.43s 插入 TTS（3.62s）
[2025-11-19 03:16:14] 音频发送完毕，用时 27.01s
[2025-11-19 03:16:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:16:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0003_0023_output.wav，时长 26.41s
[2025-11-19 03:16:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0003_0023_output.wav
[2025-11-19 03:16:14] 处理完成: clean_0003_0023.wav
[2025-11-19 03:16:14] -----------------------------------
[2025-11-19 03:16:14] 开始处理文件: clean_0004_0001_add.wav
[2025-11-19 03:16:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:16:14] 初始化输出 buffer，总时长 19.83s（317280 samples）
[2025-11-19 03:16:14] 开始发送 clean_0004_0001_add.wav，总帧 1240，时长 19.83s
[2025-11-19 03:16:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.76, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.853, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.962, 'turn': 0, 'state': 'LISTEN', 'content': '特色饮品有哪些推荐'}}
[2025-11-19 03:16:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.047, 'infer_time': 0.19, 'content': '推荐珍珠奶茶、杨枝甘露和鲜榨果汁。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.357, 'infer_time': 0.305, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:18] 收到 tts_done, timestamp=3.357s
[2025-11-19 03:16:18] 在 3.36s 插入 TTS（3.96s）
[2025-11-19 03:16:35] 音频发送完毕，用时 20.20s
[2025-11-19 03:16:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:16:35] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0001_add_output.wav，时长 19.83s
[2025-11-19 03:16:35] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0001_add_output.wav
[2025-11-19 03:16:35] 处理完成: clean_0004_0001_add.wav
[2025-11-19 03:16:35] -----------------------------------
[2025-11-19 03:16:35] 开始处理文件: clean_0004_0002_add.wav
[2025-11-19 03:16:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:16:35] 初始化输出 buffer，总时长 21.87s（349920 samples）
[2025-11-19 03:16:35] 开始发送 clean_0004_0002_add.wav，总帧 1367，时长 21.87s
[2025-11-19 03:16:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.114, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.823, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.472, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.566, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.743, 'turn': 0, 'state': 'LISTEN', 'content': '今年手表有什么值得推荐的品牌'}}
[2025-11-19 03:16:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.761, 'infer_time': 0.191, 'content': '天梭、浪琴和欧米茄都是不错的选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.051, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:16:39] 收到 tts_done, timestamp=4.051s
[2025-11-19 03:16:39] 在 4.05s 插入 TTS（3.76s）
[2025-11-19 03:16:57] 音频发送完毕，用时 22.28s
[2025-11-19 03:16:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:16:57] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0002_add_output.wav，时长 21.87s
[2025-11-19 03:16:57] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0002_add_output.wav
[2025-11-19 03:16:57] 处理完成: clean_0004_0002_add.wav
[2025-11-19 03:16:57] -----------------------------------
[2025-11-19 03:16:57] 开始处理文件: clean_0004_0003_add.wav
[2025-11-19 03:16:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:16:57] 初始化输出 buffer，总时长 21.13s（338080 samples）
[2025-11-19 03:16:57] 开始发送 clean_0004_0003_add.wav，总帧 1321，时长 21.13s
[2025-11-19 03:16:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.856, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.504, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.596, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.714, 'turn': 0, 'state': 'LISTEN', 'content': '如何克服日常生活中的孤独感'}}
[2025-11-19 03:17:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.755, 'infer_time': 0.151, 'content': '多参与社交活动，培养兴趣爱好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.016, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:01] 收到 tts_done, timestamp=4.016s
[2025-11-19 03:17:01] 在 4.02s 插入 TTS（3.38s）
[2025-11-19 03:17:18] 音频发送完毕，用时 21.52s
[2025-11-19 03:17:18] WebSocket 已关闭，结束接收循环
[2025-11-19 03:17:18] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0003_add_output.wav，时长 21.13s
[2025-11-19 03:17:18] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0003_add_output.wav
[2025-11-19 03:17:18] 处理完成: clean_0004_0003_add.wav
[2025-11-19 03:17:18] -----------------------------------
[2025-11-19 03:17:18] 开始处理文件: clean_0004_0005_add.wav
[2025-11-19 03:17:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:17:18] 初始化输出 buffer，总时长 22.18s（354880 samples）
[2025-11-19 03:17:18] 开始发送 clean_0004_0005_add.wav，总帧 1387，时长 22.18s
[2025-11-19 03:17:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.336, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.984, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.089, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.259, 'infer_time': 0.165, 'content': '短发或扎马尾辫更清爽。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.267, 'turn': 0, 'state': 'LISTEN', 'content': '什么样的发型适合运动时保持清爽'}}
[2025-11-19 03:17:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.468, 'infer_time': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:23] 收到 tts_done, timestamp=4.468s
[2025-11-19 03:17:23] 在 4.47s 插入 TTS（2.42s）
[2025-11-19 03:17:41] 音频发送完毕，用时 22.62s
[2025-11-19 03:17:41] WebSocket 已关闭，结束接收循环
[2025-11-19 03:17:41] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0005_add_output.wav，时长 22.18s
[2025-11-19 03:17:41] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0005_add_output.wav
[2025-11-19 03:17:41] 处理完成: clean_0004_0005_add.wav
[2025-11-19 03:17:41] -----------------------------------
[2025-11-19 03:17:41] 开始处理文件: clean_0004_0008_add.wav
[2025-11-19 03:17:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:17:41] 初始化输出 buffer，总时长 19.67s（314720 samples）
[2025-11-19 03:17:41] 开始发送 clean_0004_0008_add.wav，总帧 1230，时长 19.67s
[2025-11-19 03:17:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.998, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.094, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.269, 'infer_time': 0.171, 'content': '通常持续10到20秒左右。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.275, 'turn': 0, 'state': 'LISTEN', 'content': '上学铃声一般持续多久'}}
[2025-11-19 03:17:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.491, 'infer_time': 0.216, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:17:45] 收到 tts_done, timestamp=3.491s
[2025-11-19 03:17:45] 在 3.49s 插入 TTS（2.58s）
[2025-11-19 03:18:01] 音频发送完毕，用时 20.03s
[2025-11-19 03:18:01] WebSocket 已关闭，结束接收循环
[2025-11-19 03:18:01] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0008_add_output.wav，时长 19.67s
[2025-11-19 03:18:01] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0008_add_output.wav
[2025-11-19 03:18:01] 处理完成: clean_0004_0008_add.wav
[2025-11-19 03:18:01] -----------------------------------
[2025-11-19 03:18:01] 开始处理文件: clean_0004_0014_add.wav
[2025-11-19 03:18:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:18:01] 初始化输出 buffer，总时长 23.28s（372480 samples）
[2025-11-19 03:18:01] 开始发送 clean_0004_0014_add.wav，总帧 1455，时长 23.28s
[2025-11-19 03:18:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.184, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.397, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.046, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.145, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.317, 'infer_time': 0.167, 'content': '《Python编程：从入门到实践》不错', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.381, 'turn': 0, 'state': 'LISTEN', 'content': '请推荐几本适合初学者的计算机编程书籍'}}
[2025-11-19 03:18:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.632, 'infer_time': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:08] 收到 tts_done, timestamp=6.632s
[2025-11-19 03:18:08] 在 6.63s 插入 TTS（3.87s）
[2025-11-19 03:18:25] 音频发送完毕，用时 23.80s
[2025-11-19 03:18:25] WebSocket 已关闭，结束接收循环
[2025-11-19 03:18:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0014_add_output.wav，时长 23.28s
[2025-11-19 03:18:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0014_add_output.wav
[2025-11-19 03:18:25] 处理完成: clean_0004_0014_add.wav
[2025-11-19 03:18:25] -----------------------------------
[2025-11-19 03:18:25] 开始处理文件: clean_0004_0017.wav
[2025-11-19 03:18:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:18:25] 初始化输出 buffer，总时长 23.42s（374720 samples）
[2025-11-19 03:18:25] 开始发送 clean_0004_0017.wav，总帧 1464，时长 23.42s
[2025-11-19 03:18:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.363, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.011, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.108, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.267, 'turn': 0, 'state': 'LISTEN', 'content': '你遇到过哪些因为陆贞闹出的有趣事件'}}
[2025-11-19 03:18:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.33, 'infer_time': 0.218, 'content': '哈哈，有次导航带错路，结果开进农场啦！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.632, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:31] 收到 tts_done, timestamp=5.632s
[2025-11-19 03:18:31] 在 5.63s 插入 TTS（3.77s）
[2025-11-19 03:18:49] 音频发送完毕，用时 23.93s
[2025-11-19 03:18:49] WebSocket 已关闭，结束接收循环
[2025-11-19 03:18:49] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0017_output.wav，时长 23.42s
[2025-11-19 03:18:49] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0017_output.wav
[2025-11-19 03:18:49] 处理完成: clean_0004_0017.wav
[2025-11-19 03:18:49] -----------------------------------
[2025-11-19 03:18:49] 开始处理文件: clean_0004_0017_add.wav
[2025-11-19 03:18:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:18:49] 初始化输出 buffer，总时长 24.65s（394400 samples）
[2025-11-19 03:18:49] 开始发送 clean_0004_0017_add.wav，总帧 1541，时长 24.65s
[2025-11-19 03:18:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.371, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.019, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.124, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.251, 'turn': 0, 'state': 'LISTEN', 'content': '你能给我讲一个适合小朋友的有趣笑话吗'}}
[2025-11-19 03:18:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.304, 'infer_time': 0.176, 'content': '小鸭子问妈妈：“为什么我这么黑？”', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.59, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:18:54] 收到 tts_done, timestamp=4.59s
[2025-11-19 03:18:54] 在 4.59s 插入 TTS（3.47s）
[2025-11-19 03:19:14] 音频发送完毕，用时 25.12s
[2025-11-19 03:19:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:19:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0017_add_output.wav，时长 24.65s
[2025-11-19 03:19:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0017_add_output.wav
[2025-11-19 03:19:14] 处理完成: clean_0004_0017_add.wav
[2025-11-19 03:19:14] -----------------------------------
[2025-11-19 03:19:14] 开始处理文件: clean_0004_0026.wav
[2025-11-19 03:19:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:19:14] 初始化输出 buffer，总时长 24.31s（388960 samples）
[2025-11-19 03:19:14] 开始发送 clean_0004_0026.wav，总帧 1520，时长 24.31s
[2025-11-19 03:19:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.15, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.086, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.733, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.839, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.066, 'infer_time': 0.222, 'content': '狼专辑里的经典歌曲有《狼》和《爱的代价》。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.074, 'turn': 0, 'state': 'LISTEN', 'content': '激秦的专辑郎中有哪些经典歌曲'}}
[2025-11-19 03:19:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.407, 'infer_time': 0.334, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:19] 收到 tts_done, timestamp=5.407s
[2025-11-19 03:19:19] 在 5.41s 插入 TTS（4.21s）
[2025-11-19 03:19:39] 音频发送完毕，用时 24.82s
[2025-11-19 03:19:39] WebSocket 已关闭，结束接收循环
[2025-11-19 03:19:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0026_output.wav，时长 24.31s
[2025-11-19 03:19:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0026_output.wav
[2025-11-19 03:19:39] 处理完成: clean_0004_0026.wav
[2025-11-19 03:19:39] -----------------------------------
[2025-11-19 03:19:39] 开始处理文件: clean_0004_0030.wav
[2025-11-19 03:19:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:19:39] 初始化输出 buffer，总时长 24.05s（384800 samples）
[2025-11-19 03:19:39] 开始发送 clean_0004_0030.wav，总帧 1504，时长 24.05s
[2025-11-19 03:19:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.944, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.829, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.478, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.588, 'infer_time': 0.105, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.756, 'turn': 0, 'state': 'LISTEN', 'content': '不成功收复台湾的历史背景是什么'}}
[2025-11-19 03:19:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.764, 'infer_time': 0.171, 'content': '台湾自古以来就是中国不可分割的一部分。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.075, 'infer_time': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:19:45] 收到 tts_done, timestamp=6.075s
[2025-11-19 03:19:45] 在 6.08s 插入 TTS（3.71s）
[2025-11-19 03:20:03] 音频发送完毕，用时 24.57s
[2025-11-19 03:20:03] WebSocket 已关闭，结束接收循环
[2025-11-19 03:20:03] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0030_output.wav，时长 24.05s
[2025-11-19 03:20:03] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0030_output.wav
[2025-11-19 03:20:03] 处理完成: clean_0004_0030.wav
[2025-11-19 03:20:03] -----------------------------------
[2025-11-19 03:20:03] 开始处理文件: clean_0004_0031.wav
[2025-11-19 03:20:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:20:03] 初始化输出 buffer，总时长 24.36s（389760 samples）
[2025-11-19 03:20:03] 开始发送 clean_0004_0031.wav，总帧 1523，时长 24.36s
[2025-11-19 03:20:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.746, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.492, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.644, 'infer_time': 0.148, 'content': '观察对手，控制节奏是关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.686, 'turn': 0, 'state': 'LISTEN', 'content': '抓石子游戏有什么技巧可以分享吗'}}
[2025-11-19 03:20:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.893, 'infer_time': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:08] 收到 tts_done, timestamp=4.893s
[2025-11-19 03:20:08] 在 4.89s 插入 TTS（3.04s）
[2025-11-19 03:20:28] 音频发送完毕，用时 24.85s
[2025-11-19 03:20:28] WebSocket 已关闭，结束接收循环
[2025-11-19 03:20:28] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0004_0031_output.wav，时长 24.36s
[2025-11-19 03:20:28] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0004_0031_output.wav
[2025-11-19 03:20:28] 处理完成: clean_0004_0031.wav
[2025-11-19 03:20:28] -----------------------------------
[2025-11-19 03:20:28] 开始处理文件: clean_0005_0002.wav
[2025-11-19 03:20:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:20:28] 初始化输出 buffer，总时长 23.23s（371680 samples）
[2025-11-19 03:20:28] 开始发送 clean_0005_0002.wav，总帧 1452，时长 23.23s
[2025-11-19 03:20:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.917, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.566, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.662, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.835, 'infer_time': 0.168, 'content': '一起做饭时互相开玩笑，轻松又温馨。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.85, 'turn': 0, 'state': 'LISTEN', 'content': '夫妻之间有什么幽默的互动方式可以增进感情'}}
[2025-11-19 03:20:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.12, 'infer_time': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:33] 收到 tts_done, timestamp=5.12s
[2025-11-19 03:20:33] 在 5.12s 插入 TTS（3.69s）
[2025-11-19 03:20:52] 音频发送完毕，用时 23.74s
[2025-11-19 03:20:52] WebSocket 已关闭，结束接收循环
[2025-11-19 03:20:52] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0002_output.wav，时长 23.23s
[2025-11-19 03:20:52] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0002_output.wav
[2025-11-19 03:20:52] 处理完成: clean_0005_0002.wav
[2025-11-19 03:20:52] -----------------------------------
[2025-11-19 03:20:52] 开始处理文件: clean_0005_0002_add.wav
[2025-11-19 03:20:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:20:52] 初始化输出 buffer，总时长 22.06s（352960 samples）
[2025-11-19 03:20:52] 开始发送 clean_0005_0002_add.wav，总帧 1379，时长 22.06s
[2025-11-19 03:20:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.134, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.782, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.896, 'infer_time': 0.108, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.086, 'infer_time': 0.185, 'content': '表情包可用于社交媒体互动、广告创意和品牌传播。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.091, 'turn': 0, 'state': 'LISTEN', 'content': '表情包在营销中具体有哪些应用方式'}}
[2025-11-19 03:20:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.474, 'infer_time': 0.383, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:20:58] 收到 tts_done, timestamp=5.474s
[2025-11-19 03:20:58] 在 5.47s 插入 TTS（4.77s）
[2025-11-19 03:21:15] 音频发送完毕，用时 22.53s
[2025-11-19 03:21:15] WebSocket 已关闭，结束接收循环
[2025-11-19 03:21:15] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0002_add_output.wav，时长 22.06s
[2025-11-19 03:21:15] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0002_add_output.wav
[2025-11-19 03:21:15] 处理完成: clean_0005_0002_add.wav
[2025-11-19 03:21:15] -----------------------------------
[2025-11-19 03:21:15] 开始处理文件: clean_0005_0004_add.wav
[2025-11-19 03:21:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:21:15] 初始化输出 buffer，总时长 20.30s（324800 samples）
[2025-11-19 03:21:15] 开始发送 clean_0005_0004_add.wav，总帧 1269，时长 20.30s
[2025-11-19 03:21:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.864, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.512, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.61, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.761, 'turn': 0, 'state': 'LISTEN', 'content': '我总害怕被背叛该怎么办'}}
[2025-11-19 03:21:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.799, 'infer_time': 0.185, 'content': '信任是相互的，多沟通能减少猜疑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.086, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:19] 收到 tts_done, timestamp=4.086s
[2025-11-19 03:21:19] 在 4.09s 插入 TTS（3.65s）
[2025-11-19 03:21:35] 音频发送完毕，用时 20.67s
[2025-11-19 03:21:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:21:35] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0004_add_output.wav，时长 20.30s
[2025-11-19 03:21:35] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0004_add_output.wav
[2025-11-19 03:21:35] 处理完成: clean_0005_0004_add.wav
[2025-11-19 03:21:35] -----------------------------------
[2025-11-19 03:21:35] 开始处理文件: clean_0005_0005_add.wav
[2025-11-19 03:21:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:21:35] 初始化输出 buffer，总时长 20.56s（328960 samples）
[2025-11-19 03:21:35] 开始发送 clean_0005_0005_add.wav，总帧 1285，时长 20.56s
[2025-11-19 03:21:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.222, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.87, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.966, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.088, 'turn': 0, 'state': 'LISTEN', 'content': '疲劳驾驶有哪些具体的危害'}}
[2025-11-19 03:21:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.149, 'infer_time': 0.179, 'content': '疲劳驾驶会降低反应速度，增加事故风险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.463, 'infer_time': 0.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:40] 收到 tts_done, timestamp=4.463s
[2025-11-19 03:21:40] 在 4.46s 插入 TTS（4.02s）
[2025-11-19 03:21:56] 音频发送完毕，用时 20.97s
[2025-11-19 03:21:56] WebSocket 已关闭，结束接收循环
[2025-11-19 03:21:56] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0005_add_output.wav，时长 20.56s
[2025-11-19 03:21:56] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0005_add_output.wav
[2025-11-19 03:21:56] 处理完成: clean_0005_0005_add.wav
[2025-11-19 03:21:56] -----------------------------------
[2025-11-19 03:21:56] 开始处理文件: clean_0005_0010.wav
[2025-11-19 03:21:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:21:56] 初始化输出 buffer，总时长 23.02s（368320 samples）
[2025-11-19 03:21:56] 开始发送 clean_0005_0010.wav，总帧 1439，时长 23.02s
[2025-11-19 03:21:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:21:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.434, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.647, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.296, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.393, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.587, 'turn': 0, 'state': 'LISTEN', 'content': '你听说过什么有趣的醉酒故事吗'}}
[2025-11-19 03:22:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.608, 'infer_time': 0.21, 'content': '李白斗酒诗百篇，醉后挥毫成绝唱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.938, 'infer_time': 0.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:01] 收到 tts_done, timestamp=4.938s
[2025-11-19 03:22:01] 在 4.94s 插入 TTS（3.85s）
[2025-11-19 03:22:20] 音频发送完毕，用时 23.53s
[2025-11-19 03:22:20] WebSocket 已关闭，结束接收循环
[2025-11-19 03:22:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0010_output.wav，时长 23.02s
[2025-11-19 03:22:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0010_output.wav
[2025-11-19 03:22:20] 处理完成: clean_0005_0010.wav
[2025-11-19 03:22:20] -----------------------------------
[2025-11-19 03:22:20] 开始处理文件: clean_0005_0011_add.wav
[2025-11-19 03:22:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:22:20] 初始化输出 buffer，总时长 22.04s（352640 samples）
[2025-11-19 03:22:20] 开始发送 clean_0005_0011_add.wav，总帧 1378，时长 22.04s
[2025-11-19 03:22:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.131, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:25] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.779, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.876, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.032, 'turn': 0, 'state': 'LISTEN', 'content': '文化记忆工程具体包括包括哪些内容'}}
[2025-11-19 03:22:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.033, 'infer_time': 0.153, 'content': '包括非遗保护、古籍整理等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.309, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:25] 收到 tts_done, timestamp=5.309s
[2025-11-19 03:22:25] 在 5.31s 插入 TTS（3.58s）
[2025-11-19 03:22:42] 音频发送完毕，用时 22.52s
[2025-11-19 03:22:42] WebSocket 已关闭，结束接收循环
[2025-11-19 03:22:42] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0011_add_output.wav，时长 22.04s
[2025-11-19 03:22:42] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0011_add_output.wav
[2025-11-19 03:22:42] 处理完成: clean_0005_0011_add.wav
[2025-11-19 03:22:42] -----------------------------------
[2025-11-19 03:22:42] 开始处理文件: clean_0005_0014_add.wav
[2025-11-19 03:22:42] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:22:42] 初始化输出 buffer，总时长 21.85s（349600 samples）
[2025-11-19 03:22:42] 开始发送 clean_0005_0014_add.wav，总帧 1366，时长 21.85s
[2025-11-19 03:22:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.831, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.48, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.577, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.71, 'turn': 0, 'state': 'LISTEN', 'content': '生日聚餐应该准备哪些食物和活动'}}
[2025-11-19 03:22:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.76, 'infer_time': 0.178, 'content': '蛋糕、小吃、饮料，游戏和音乐少不了。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.102, 'infer_time': 0.338, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:22:48] 收到 tts_done, timestamp=5.102s
[2025-11-19 03:22:48] 在 5.10s 插入 TTS（4.40s）
[2025-11-19 03:23:05] 音频发送完毕，用时 22.31s
[2025-11-19 03:23:05] WebSocket 已关闭，结束接收循环
[2025-11-19 03:23:05] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0014_add_output.wav，时长 21.85s
[2025-11-19 03:23:05] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0014_add_output.wav
[2025-11-19 03:23:05] 处理完成: clean_0005_0014_add.wav
[2025-11-19 03:23:05] -----------------------------------
[2025-11-19 03:23:05] 开始处理文件: clean_0005_0015_add.wav
[2025-11-19 03:23:05] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:23:05] 初始化输出 buffer，总时长 22.57s（361120 samples）
[2025-11-19 03:23:05] 开始发送 clean_0005_0015_add.wav，总帧 1411，时长 22.57s
[2025-11-19 03:23:05] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.998, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:09] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.646, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.743, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.915, 'infer_time': 0.168, 'content': '播放欢快音乐，准备有趣游戏和零食。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:10] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.931, 'turn': 0, 'state': 'LISTEN', 'content': '如何营造一个轻松愉快的派对氛围'}}
[2025-11-19 03:23:10] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.21, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:10] 收到 tts_done, timestamp=5.21s
[2025-11-19 03:23:10] 在 5.21s 插入 TTS（3.75s）
[2025-11-19 03:23:28] 音频发送完毕，用时 23.03s
[2025-11-19 03:23:28] WebSocket 已关闭，结束接收循环
[2025-11-19 03:23:28] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0015_add_output.wav，时长 22.57s
[2025-11-19 03:23:28] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0015_add_output.wav
[2025-11-19 03:23:28] 处理完成: clean_0005_0015_add.wav
[2025-11-19 03:23:28] -----------------------------------
[2025-11-19 03:23:28] 开始处理文件: clean_0005_0017.wav
[2025-11-19 03:23:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:23:28] 初始化输出 buffer，总时长 22.80s（364800 samples）
[2025-11-19 03:23:28] 开始发送 clean_0005_0017.wav，总帧 1425，时长 22.80s
[2025-11-19 03:23:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:32] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.886, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.995, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.132, 'infer_time': 0.133, 'content': '承担责任是成长必经之路', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.15, 'turn': 0, 'state': 'LISTEN', 'content': '如何避免在工作中怕承担责任'}}
[2025-11-19 03:23:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.373, 'infer_time': 0.236, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:32] 收到 tts_done, timestamp=4.373s
[2025-11-19 03:23:32] 在 4.37s 插入 TTS（2.67s）
[2025-11-19 03:23:51] 音频发送完毕，用时 23.24s
[2025-11-19 03:23:51] WebSocket 已关闭，结束接收循环
[2025-11-19 03:23:51] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0017_output.wav，时长 22.80s
[2025-11-19 03:23:51] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0017_output.wav
[2025-11-19 03:23:51] 处理完成: clean_0005_0017.wav
[2025-11-19 03:23:51] -----------------------------------
[2025-11-19 03:23:51] 开始处理文件: clean_0005_0033.wav
[2025-11-19 03:23:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:23:51] 初始化输出 buffer，总时长 21.97s（351520 samples）
[2025-11-19 03:23:51] 开始发送 clean_0005_0033.wav，总帧 1374，时长 21.97s
[2025-11-19 03:23:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.69, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.338, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.431, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.62, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个关于企鹅的冷笑话吗'}}
[2025-11-19 03:23:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.673, 'infer_time': 0.238, 'content': '企鹅的冷笑话是：它们从不玩“冰”释前嫌。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.025, 'infer_time': 0.347, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:23:55] 收到 tts_done, timestamp=4.025s
[2025-11-19 03:23:55] 在 4.03s 插入 TTS（4.74s）
[2025-11-19 03:24:13] 音频发送完毕，用时 22.41s
[2025-11-19 03:24:13] WebSocket 已关闭，结束接收循环
[2025-11-19 03:24:13] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0005_0033_output.wav，时长 21.97s
[2025-11-19 03:24:13] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0005_0033_output.wav
[2025-11-19 03:24:13] 处理完成: clean_0005_0033.wav
[2025-11-19 03:24:13] -----------------------------------
[2025-11-19 03:24:13] 开始处理文件: clean_0006_0007.wav
[2025-11-19 03:24:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:24:13] 初始化输出 buffer，总时长 22.88s（366080 samples）
[2025-11-19 03:24:13] 开始发送 clean_0006_0007.wav，总帧 1430，时长 22.88s
[2025-11-19 03:24:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.512, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.16, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.256, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.438, 'turn': 0, 'state': 'LISTEN', 'content': '环保主义有哪些优缺点'}}
[2025-11-19 03:24:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.442, 'infer_time': 0.182, 'content': '环保主义促进可持续发展，但可能增加经济成本。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.756, 'infer_time': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:17] 收到 tts_done, timestamp=3.756s
[2025-11-19 03:24:17] 在 3.76s 插入 TTS（4.20s）
[2025-11-19 03:24:37] 音频发送完毕，用时 23.29s
[2025-11-19 03:24:37] WebSocket 已关闭，结束接收循环
[2025-11-19 03:24:37] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0007_output.wav，时长 22.88s
[2025-11-19 03:24:37] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0007_output.wav
[2025-11-19 03:24:37] 处理完成: clean_0006_0007.wav
[2025-11-19 03:24:37] -----------------------------------
[2025-11-19 03:24:37] 开始处理文件: clean_0006_0008_add.wav
[2025-11-19 03:24:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:24:37] 初始化输出 buffer，总时长 21.87s（349920 samples）
[2025-11-19 03:24:37] 开始发送 clean_0006_0008_add.wav，总帧 1367，时长 21.87s
[2025-11-19 03:24:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.519, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.169, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.261, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.402, 'infer_time': 0.138, 'content': '看材质、做工和品牌口碑', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.443, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一件商品的质量好坏'}}
[2025-11-19 03:24:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.636, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:24:40] 收到 tts_done, timestamp=3.636s
[2025-11-19 03:24:40] 在 3.64s 插入 TTS（2.87s）
[2025-11-19 03:24:59] 音频发送完毕，用时 22.28s
[2025-11-19 03:24:59] WebSocket 已关闭，结束接收循环
[2025-11-19 03:24:59] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0008_add_output.wav，时长 21.87s
[2025-11-19 03:24:59] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0008_add_output.wav
[2025-11-19 03:24:59] 处理完成: clean_0006_0008_add.wav
[2025-11-19 03:24:59] -----------------------------------
[2025-11-19 03:24:59] 开始处理文件: clean_0006_0010_add.wav
[2025-11-19 03:24:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:24:59] 初始化输出 buffer，总时长 23.01s（368160 samples）
[2025-11-19 03:24:59] 开始发送 clean_0006_0010_add.wav，总帧 1439，时长 23.01s
[2025-11-19 03:24:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.06, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.708, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.817, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.01, 'turn': 0, 'state': 'LISTEN', 'content': '运动服饰的面料有哪些高科技材质'}}
[2025-11-19 03:25:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.051, 'infer_time': 0.231, 'content': '运动服饰常用高科技面料有聚酯纤维、氨纶和Coolmax等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.484, 'infer_time': 0.428, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:04] 收到 tts_done, timestamp=4.484s
[2025-11-19 03:25:04] 在 4.48s 插入 TTS（5.48s）
[2025-11-19 03:25:23] 音频发送完毕，用时 23.48s
[2025-11-19 03:25:23] WebSocket 已关闭，结束接收循环
[2025-11-19 03:25:23] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0010_add_output.wav，时长 23.01s
[2025-11-19 03:25:23] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0010_add_output.wav
[2025-11-19 03:25:23] 处理完成: clean_0006_0010_add.wav
[2025-11-19 03:25:23] -----------------------------------
[2025-11-19 03:25:23] 开始处理文件: clean_0006_0012_add.wav
[2025-11-19 03:25:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:25:23] 初始化输出 buffer，总时长 20.66s（330560 samples）
[2025-11-19 03:25:23] 开始发送 clean_0006_0012_add.wav，总帧 1292，时长 20.66s
[2025-11-19 03:25:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.959, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.607, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.702, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:26] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.838, 'turn': 0, 'state': 'LISTEN', 'content': '外卖平台有哪些分享优惠的好方法'}}
[2025-11-19 03:25:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.883, 'infer_time': 0.176, 'content': '多平台比价，关注限时活动最划算。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.166, 'infer_time': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:27] 收到 tts_done, timestamp=4.166s
[2025-11-19 03:25:27] 在 4.17s 插入 TTS（3.61s）
[2025-11-19 03:25:44] 音频发送完毕，用时 21.07s
[2025-11-19 03:25:44] WebSocket 已关闭，结束接收循环
[2025-11-19 03:25:44] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0012_add_output.wav，时长 20.66s
[2025-11-19 03:25:44] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0012_add_output.wav
[2025-11-19 03:25:44] 处理完成: clean_0006_0012_add.wav
[2025-11-19 03:25:44] -----------------------------------
[2025-11-19 03:25:44] 开始处理文件: clean_0006_0016.wav
[2025-11-19 03:25:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:25:44] 初始化输出 buffer，总时长 22.59s（361440 samples）
[2025-11-19 03:25:44] 开始发送 clean_0006_0016.wav，总帧 1412，时长 22.59s
[2025-11-19 03:25:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.746, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.394, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.485, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.66, 'turn': 0, 'state': 'LISTEN', 'content': '在餐厅点错饮料该怎么办'}}
[2025-11-19 03:25:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.663, 'infer_time': 0.174, 'content': '别担心，直接告诉服务员换一杯就好啦。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.921, 'infer_time': 0.252, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:25:48] 收到 tts_done, timestamp=3.921s
[2025-11-19 03:25:48] 在 3.92s 插入 TTS（3.13s）
[2025-11-19 03:26:07] 音频发送完毕，用时 23.00s
[2025-11-19 03:26:07] WebSocket 已关闭，结束接收循环
[2025-11-19 03:26:07] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0016_output.wav，时长 22.59s
[2025-11-19 03:26:07] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0016_output.wav
[2025-11-19 03:26:07] 处理完成: clean_0006_0016.wav
[2025-11-19 03:26:07] -----------------------------------
[2025-11-19 03:26:07] 开始处理文件: clean_0006_0016_add.wav
[2025-11-19 03:26:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:26:07] 初始化输出 buffer，总时长 22.47s（359520 samples）
[2025-11-19 03:26:07] 开始发送 clean_0006_0016_add.wav，总帧 1405，时长 22.47s
[2025-11-19 03:26:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.43, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.175, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.339, 'turn': 0, 'state': 'LISTEN', 'content': '如何根据我的肤质选择合适的底妆产品'}}
[2025-11-19 03:26:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.372, 'infer_time': 0.192, 'content': '干皮选滋润型，油皮用控油款。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.646, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:11] 收到 tts_done, timestamp=4.646s
[2025-11-19 03:26:11] 在 4.65s 插入 TTS（3.44s）
[2025-11-19 03:26:30] 音频发送完毕，用时 22.92s
[2025-11-19 03:26:30] WebSocket 已关闭，结束接收循环
[2025-11-19 03:26:30] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0016_add_output.wav，时长 22.47s
[2025-11-19 03:26:30] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0016_add_output.wav
[2025-11-19 03:26:30] 处理完成: clean_0006_0016_add.wav
[2025-11-19 03:26:30] -----------------------------------
[2025-11-19 03:26:30] 开始处理文件: clean_0006_0018_add.wav
[2025-11-19 03:26:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:26:30] 初始化输出 buffer，总时长 21.90s（350400 samples）
[2025-11-19 03:26:30] 开始发送 clean_0006_0018_add.wav，总帧 1369，时长 21.90s
[2025-11-19 03:26:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.08, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.773, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.42, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.521, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.698, 'turn': 0, 'state': 'LISTEN', 'content': '能分享一个冷笑化精选幺零三调理的例子吗'}}
[2025-11-19 03:26:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.879, 'infer_time': 0.353, 'content': '冷笑话精选103条，比如：为什么数学老师离婚了？因为他们的关系没有解。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.481, 'infer_time': 0.595, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:35] 收到 tts_done, timestamp=5.481s
[2025-11-19 03:26:35] 在 5.48s 插入 TTS（7.77s）
[2025-11-19 03:26:52] 音频发送完毕，用时 22.36s
[2025-11-19 03:26:52] WebSocket 已关闭，结束接收循环
[2025-11-19 03:26:52] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0018_add_output.wav，时长 21.90s
[2025-11-19 03:26:52] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0018_add_output.wav
[2025-11-19 03:26:52] 处理完成: clean_0006_0018_add.wav
[2025-11-19 03:26:52] -----------------------------------
[2025-11-19 03:26:52] 开始处理文件: clean_0006_0020_add.wav
[2025-11-19 03:26:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:26:52] 初始化输出 buffer，总时长 22.19s（355040 samples）
[2025-11-19 03:26:52] 开始发送 clean_0006_0020_add.wav，总帧 1387，时长 22.19s
[2025-11-19 03:26:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.923, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.571, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.668, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.826, 'infer_time': 0.155, 'content': '人工影响天气技术可实现局部调控。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.843, 'turn': 0, 'state': 'LISTEN', 'content': '如何通过科技手段操控局部天气'}}
[2025-11-19 03:26:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.074, 'infer_time': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:26:56] 收到 tts_done, timestamp=4.074s
[2025-11-19 03:26:56] 在 4.07s 插入 TTS（3.07s）
[2025-11-19 03:27:15] 音频发送完毕，用时 22.59s
[2025-11-19 03:27:15] WebSocket 已关闭，结束接收循环
[2025-11-19 03:27:15] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0020_add_output.wav，时长 22.19s
[2025-11-19 03:27:15] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0020_add_output.wav
[2025-11-19 03:27:15] 处理完成: clean_0006_0020_add.wav
[2025-11-19 03:27:15] -----------------------------------
[2025-11-19 03:27:15] 开始处理文件: clean_0006_0031.wav
[2025-11-19 03:27:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:27:15] 初始化输出 buffer，总时长 24.46s（391360 samples）
[2025-11-19 03:27:15] 开始发送 clean_0006_0031.wav，总帧 1529，时长 24.46s
[2025-11-19 03:27:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.821, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.062, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.71, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.81, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.961, 'turn': 0, 'state': 'LISTEN', 'content': '听说血型会影响厨艺水平这是真的吗'}}
[2025-11-19 03:27:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.017, 'infer_time': 0.203, 'content': '血型与厨艺无科学关联，纯属民间说法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.319, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:20] 收到 tts_done, timestamp=5.319s
[2025-11-19 03:27:20] 在 5.32s 插入 TTS（3.75s）
[2025-11-19 03:27:39] 音频发送完毕，用时 24.93s
[2025-11-19 03:27:39] WebSocket 已关闭，结束接收循环
[2025-11-19 03:27:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0006_0031_output.wav，时长 24.46s
[2025-11-19 03:27:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0006_0031_output.wav
[2025-11-19 03:27:39] 处理完成: clean_0006_0031.wav
[2025-11-19 03:27:39] -----------------------------------
[2025-11-19 03:27:39] 开始处理文件: clean_0007_0001_add.wav
[2025-11-19 03:27:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:27:39] 初始化输出 buffer，总时长 24.20s（387200 samples）
[2025-11-19 03:27:39] 开始发送 clean_0007_0001_add.wav，总帧 1513，时长 24.20s
[2025-11-19 03:27:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.34, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.43, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.61, 'turn': 0, 'state': 'LISTEN', 'content': '正日派对上应该注意哪些礼仪'}}
[2025-11-19 03:27:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.626, 'infer_time': 0.191, 'content': '准时到场，礼物得体，别抢主角风头。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.923, 'infer_time': 0.292, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:27:43] 收到 tts_done, timestamp=3.923s
[2025-11-19 03:27:43] 在 3.92s 插入 TTS（3.79s）
[2025-11-19 03:28:04] 音频发送完毕，用时 24.62s
[2025-11-19 03:28:04] WebSocket 已关闭，结束接收循环
[2025-11-19 03:28:04] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0001_add_output.wav，时长 24.20s
[2025-11-19 03:28:04] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0001_add_output.wav
[2025-11-19 03:28:04] 处理完成: clean_0007_0001_add.wav
[2025-11-19 03:28:04] -----------------------------------
[2025-11-19 03:28:04] 开始处理文件: clean_0007_0002_add.wav
[2025-11-19 03:28:04] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:28:04] 初始化输出 buffer，总时长 22.40s（358400 samples）
[2025-11-19 03:28:04] 开始发送 clean_0007_0002_add.wav，总帧 1400，时长 22.40s
[2025-11-19 03:28:04] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.792, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:08] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.441, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.532, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:08] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.692, 'turn': 0, 'state': 'LISTEN', 'content': '何适应线上消费习惯的变化'}}
[2025-11-19 03:28:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.696, 'infer_time': 0.16, 'content': '多用手机支付，关注电商促销活动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.959, 'infer_time': 0.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:08] 收到 tts_done, timestamp=3.959s
[2025-11-19 03:28:08] 在 3.96s 插入 TTS（3.36s）
[2025-11-19 03:28:27] 音频发送完毕，用时 22.80s
[2025-11-19 03:28:27] WebSocket 已关闭，结束接收循环
[2025-11-19 03:28:27] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0002_add_output.wav，时长 22.40s
[2025-11-19 03:28:27] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0002_add_output.wav
[2025-11-19 03:28:27] 处理完成: clean_0007_0002_add.wav
[2025-11-19 03:28:27] -----------------------------------
[2025-11-19 03:28:27] 开始处理文件: clean_0007_0003_add.wav
[2025-11-19 03:28:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:28:27] 初始化输出 buffer，总时长 22.02s（352320 samples）
[2025-11-19 03:28:27] 开始发送 clean_0007_0003_add.wav，总帧 1377，时长 22.02s
[2025-11-19 03:28:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.165, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.817, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.91, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.052, 'infer_time': 0.138, 'content': '指变量间无统计关联性', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.069, 'turn': 0, 'state': 'LISTEN', 'content': '依赖独立性在统计学中具体指什么'}}
[2025-11-19 03:28:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.247, 'infer_time': 0.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:31] 收到 tts_done, timestamp=4.247s
[2025-11-19 03:28:31] 在 4.25s 插入 TTS（2.34s）
[2025-11-19 03:28:49] 音频发送完毕，用时 22.45s
[2025-11-19 03:28:49] WebSocket 已关闭，结束接收循环
[2025-11-19 03:28:49] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0003_add_output.wav，时长 22.02s
[2025-11-19 03:28:49] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0003_add_output.wav
[2025-11-19 03:28:49] 处理完成: clean_0007_0003_add.wav
[2025-11-19 03:28:49] -----------------------------------
[2025-11-19 03:28:49] 开始处理文件: clean_0007_0009.wav
[2025-11-19 03:28:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:28:49] 初始化输出 buffer，总时长 24.11s（385760 samples）
[2025-11-19 03:28:49] 开始发送 clean_0007_0009.wav，总帧 1507，时长 24.11s
[2025-11-19 03:28:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.877, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.525, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.626, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.799, 'infer_time': 0.169, 'content': '最近有三星堆新发现，挺重要的。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.838, 'turn': 0, 'state': 'LISTEN', 'content': '最近有什么重要的考古新发现吗'}}
[2025-11-19 03:28:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.062, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:28:55] 收到 tts_done, timestamp=5.062s
[2025-11-19 03:28:55] 在 5.06s 插入 TTS（3.30s）
[2025-11-19 03:29:14] 音频发送完毕，用时 24.58s
[2025-11-19 03:29:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:29:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0009_output.wav，时长 24.11s
[2025-11-19 03:29:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0009_output.wav
[2025-11-19 03:29:14] 处理完成: clean_0007_0009.wav
[2025-11-19 03:29:14] -----------------------------------
[2025-11-19 03:29:14] 开始处理文件: clean_0007_0009_add.wav
[2025-11-19 03:29:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:29:14] 初始化输出 buffer，总时长 21.85s（349600 samples）
[2025-11-19 03:29:14] 开始发送 clean_0007_0009_add.wav，总帧 1366，时长 21.85s
[2025-11-19 03:29:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.705, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.45, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.607, 'infer_time': 0.152, 'content': '保持冷静，听从官方指引。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.616, 'turn': 0, 'state': 'LISTEN', 'content': '如果外星人入侵地球我们普通人应该怎么做'}}
[2025-11-19 03:29:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.84, 'infer_time': 0.229, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:19] 收到 tts_done, timestamp=4.84s
[2025-11-19 03:29:19] 在 4.84s 插入 TTS（2.84s）
[2025-11-19 03:29:36] 音频发送完毕，用时 22.29s
[2025-11-19 03:29:36] WebSocket 已关闭，结束接收循环
[2025-11-19 03:29:36] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0009_add_output.wav，时长 21.85s
[2025-11-19 03:29:36] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0009_add_output.wav
[2025-11-19 03:29:36] 处理完成: clean_0007_0009_add.wav
[2025-11-19 03:29:36] -----------------------------------
[2025-11-19 03:29:36] 开始处理文件: clean_0007_0012_add.wav
[2025-11-19 03:29:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:29:36] 初始化输出 buffer，总时长 21.75s（348000 samples）
[2025-11-19 03:29:36] 开始发送 clean_0007_0012_add.wav，总帧 1360，时长 21.75s
[2025-11-19 03:29:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.079, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.678, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.423, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.642, 'turn': 0, 'state': 'LISTEN', 'content': '饮酒会上如何选择合适的葡萄酒搭配食物'}}
[2025-11-19 03:29:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.649, 'infer_time': 0.221, 'content': '酸度高的酒配油腻菜，甜酒搭辣食更佳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.0, 'infer_time': 0.346, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:29:41] 收到 tts_done, timestamp=5.0s
[2025-11-19 03:29:41] 在 5.00s 插入 TTS（4.64s）
[2025-11-19 03:29:59] 音频发送完毕，用时 22.19s
[2025-11-19 03:29:59] WebSocket 已关闭，结束接收循环
[2025-11-19 03:29:59] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0012_add_output.wav，时长 21.75s
[2025-11-19 03:29:59] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0012_add_output.wav
[2025-11-19 03:29:59] 处理完成: clean_0007_0012_add.wav
[2025-11-19 03:29:59] -----------------------------------
[2025-11-19 03:29:59] 开始处理文件: clean_0007_0015_add.wav
[2025-11-19 03:29:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:29:59] 初始化输出 buffer，总时长 20.63s（330080 samples）
[2025-11-19 03:29:59] 开始发送 clean_0007_0015_add.wav，总帧 1290，时长 20.63s
[2025-11-19 03:29:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.52, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.168, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.263, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.393, 'infer_time': 0.126, 'content': '睡前喝酒影响睡眠质量。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.406, 'turn': 0, 'state': 'LISTEN', 'content': '睡前喝酒真的有助于睡眠吗'}}
[2025-11-19 03:30:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.62, 'infer_time': 0.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:02] 收到 tts_done, timestamp=3.62s
[2025-11-19 03:30:02] 在 3.62s 插入 TTS（2.81s）
[2025-11-19 03:30:20] 音频发送完毕，用时 21.00s
[2025-11-19 03:30:20] WebSocket 已关闭，结束接收循环
[2025-11-19 03:30:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0015_add_output.wav，时长 20.63s
[2025-11-19 03:30:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0015_add_output.wav
[2025-11-19 03:30:20] 处理完成: clean_0007_0015_add.wav
[2025-11-19 03:30:20] -----------------------------------
[2025-11-19 03:30:20] 开始处理文件: clean_0007_0017.wav
[2025-11-19 03:30:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:30:20] 初始化输出 buffer，总时长 22.93s（366880 samples）
[2025-11-19 03:30:20] 开始发送 clean_0007_0017.wav，总帧 1434，时长 22.93s
[2025-11-19 03:30:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.503, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.151, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.248, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.412, 'infer_time': 0.159, 'content': '注意人身财产安全，遵守工作规定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.417, 'turn': 0, 'state': 'LISTEN', 'content': '暑假打工应该注意哪些安全问题'}}
[2025-11-19 03:30:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.706, 'infer_time': 0.289, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:24] 收到 tts_done, timestamp=4.706s
[2025-11-19 03:30:24] 在 4.71s 插入 TTS（3.71s）
[2025-11-19 03:30:43] 音频发送完毕，用时 23.38s
[2025-11-19 03:30:43] WebSocket 已关闭，结束接收循环
[2025-11-19 03:30:43] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0017_output.wav，时长 22.93s
[2025-11-19 03:30:43] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0017_output.wav
[2025-11-19 03:30:43] 处理完成: clean_0007_0017.wav
[2025-11-19 03:30:43] -----------------------------------
[2025-11-19 03:30:43] 开始处理文件: clean_0007_0034.wav
[2025-11-19 03:30:43] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:30:43] 初始化输出 buffer，总时长 25.43s（406880 samples）
[2025-11-19 03:30:43] 开始发送 clean_0007_0034.wav，总帧 1590，时长 25.43s
[2025-11-19 03:30:43] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.517, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.165, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.264, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.419, 'infer_time': 0.151, 'content': '血型与责任感无科学关联。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.485, 'turn': 0, 'state': 'LISTEN', 'content': '中血型的人在工作中的责任感有差异吗'}}
[2025-11-19 03:30:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.652, 'infer_time': 0.228, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:30:49] 收到 tts_done, timestamp=5.652s
[2025-11-19 03:30:49] 在 5.65s 插入 TTS（2.88s）
[2025-11-19 03:31:09] 音频发送完毕，用时 25.96s
[2025-11-19 03:31:09] WebSocket 已关闭，结束接收循环
[2025-11-19 03:31:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0007_0034_output.wav，时长 25.43s
[2025-11-19 03:31:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0007_0034_output.wav
[2025-11-19 03:31:09] 处理完成: clean_0007_0034.wav
[2025-11-19 03:31:09] -----------------------------------
[2025-11-19 03:31:09] 开始处理文件: clean_0008_0001_add.wav
[2025-11-19 03:31:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:31:09] 初始化输出 buffer，总时长 20.94s（335040 samples）
[2025-11-19 03:31:09] 开始发送 clean_0008_0001_add.wav，总帧 1309，时长 20.94s
[2025-11-19 03:31:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.083, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.73, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.826, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.009, 'turn': 0, 'state': 'LISTEN', 'content': '我特别怕狗有什么好办法克服吗'}}
[2025-11-19 03:31:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.034, 'infer_time': 0.203, 'content': '可以尝试循序渐进接触狗狗，慢慢建立信任感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.346, 'infer_time': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:13] 收到 tts_done, timestamp=4.346s
[2025-11-19 03:31:13] 在 4.35s 插入 TTS（3.98s）
[2025-11-19 03:31:30] 音频发送完毕，用时 21.32s
[2025-11-19 03:31:30] WebSocket 已关闭，结束接收循环
[2025-11-19 03:31:30] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0001_add_output.wav，时长 20.94s
[2025-11-19 03:31:30] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0001_add_output.wav
[2025-11-19 03:31:30] 处理完成: clean_0008_0001_add.wav
[2025-11-19 03:31:30] -----------------------------------
[2025-11-19 03:31:30] 开始处理文件: clean_0008_0012_add.wav
[2025-11-19 03:31:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:31:30] 初始化输出 buffer，总时长 19.39s（310240 samples）
[2025-11-19 03:31:30] 开始发送 clean_0008_0012_add.wav，总帧 1212，时长 19.39s
[2025-11-19 03:31:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.006, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.654, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.746, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.852, 'turn': 0, 'state': 'LISTEN', 'content': '如何保障粮食安全'}}
[2025-11-19 03:31:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.893, 'infer_time': 0.143, 'content': '加强耕地保护，提升农业科技水平。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.127, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:33] 收到 tts_done, timestamp=3.127s
[2025-11-19 03:31:33] 在 3.13s 插入 TTS（2.86s）
[2025-11-19 03:31:50] 音频发送完毕，用时 19.71s
[2025-11-19 03:31:50] WebSocket 已关闭，结束接收循环
[2025-11-19 03:31:50] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0012_add_output.wav，时长 19.39s
[2025-11-19 03:31:50] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0012_add_output.wav
[2025-11-19 03:31:50] 处理完成: clean_0008_0012_add.wav
[2025-11-19 03:31:50] -----------------------------------
[2025-11-19 03:31:50] 开始处理文件: clean_0008_0013_add.wav
[2025-11-19 03:31:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:31:50] 初始化输出 buffer，总时长 21.00s（336000 samples）
[2025-11-19 03:31:50] 开始发送 clean_0008_0013_add.wav，总帧 1313，时长 21.00s
[2025-11-19 03:31:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.876, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.524, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.619, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.749, 'infer_time': 0.125, 'content': '分析财务报表和行业前景', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.808, 'turn': 0, 'state': 'LISTEN', 'content': '如何评估一只股票的投资价值'}}
[2025-11-19 03:31:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.949, 'infer_time': 0.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:31:54] 收到 tts_done, timestamp=3.949s
[2025-11-19 03:31:54] 在 3.95s 插入 TTS（2.43s）
[2025-11-19 03:32:11] 音频发送完毕，用时 21.38s
[2025-11-19 03:32:11] WebSocket 已关闭，结束接收循环
[2025-11-19 03:32:11] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0013_add_output.wav，时长 21.00s
[2025-11-19 03:32:11] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0013_add_output.wav
[2025-11-19 03:32:11] 处理完成: clean_0008_0013_add.wav
[2025-11-19 03:32:11] -----------------------------------
[2025-11-19 03:32:11] 开始处理文件: clean_0008_0015.wav
[2025-11-19 03:32:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:32:11] 初始化输出 buffer，总时长 23.62s（377920 samples）
[2025-11-19 03:32:11] 开始发送 clean_0008_0015.wav，总帧 1477，时长 23.62s
[2025-11-19 03:32:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.662, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.309, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.407, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.573, 'infer_time': 0.163, 'content': '血型与电影偏好无科学关联。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.581, 'turn': 0, 'state': 'LISTEN', 'content': '不同血型的人真的会有不同的电影偏好吗'}}
[2025-11-19 03:32:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.812, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:16] 收到 tts_done, timestamp=4.812s
[2025-11-19 03:32:16] 在 4.81s 插入 TTS（2.97s）
[2025-11-19 03:32:35] 音频发送完毕，用时 24.07s
[2025-11-19 03:32:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:32:35] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0015_output.wav，时长 23.62s
[2025-11-19 03:32:35] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0015_output.wav
[2025-11-19 03:32:35] 处理完成: clean_0008_0015.wav
[2025-11-19 03:32:35] -----------------------------------
[2025-11-19 03:32:35] 开始处理文件: clean_0008_0015_add.wav
[2025-11-19 03:32:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:32:35] 初始化输出 buffer，总时长 20.59s（329440 samples）
[2025-11-19 03:32:35] 开始发送 clean_0008_0015_add.wav，总帧 1287，时长 20.59s
[2025-11-19 03:32:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.986, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.633, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.724, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.922, 'infer_time': 0.194, 'content': '今年春天流行简约休闲风，大地色系很受欢迎。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.956, 'turn': 0, 'state': 'LISTEN', 'content': '今年春天最流行的穿搭风格是什么'}}
[2025-11-19 03:32:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.259, 'infer_time': 0.332, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:32:40] 收到 tts_done, timestamp=4.259s
[2025-11-19 03:32:40] 在 4.26s 插入 TTS（4.37s）
[2025-11-19 03:32:56] 音频发送完毕，用时 20.97s
[2025-11-19 03:32:56] WebSocket 已关闭，结束接收循环
[2025-11-19 03:32:56] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0015_add_output.wav，时长 20.59s
[2025-11-19 03:32:56] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0015_add_output.wav
[2025-11-19 03:32:56] 处理完成: clean_0008_0015_add.wav
[2025-11-19 03:32:56] -----------------------------------
[2025-11-19 03:32:56] 开始处理文件: clean_0008_0017_add.wav
[2025-11-19 03:32:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:32:56] 初始化输出 buffer，总时长 22.64s（362240 samples）
[2025-11-19 03:32:56] 开始发送 clean_0008_0017_add.wav，总帧 1415，时长 22.64s
[2025-11-19 03:32:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.966, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.613, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.711, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.912, 'infer_time': 0.196, 'content': '星座文化更多是娱乐参考，性格受多种因素影响。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.932, 'turn': 0, 'state': 'LISTEN', 'content': '星座文化真的能准确预测一个人的性格吗'}}
[2025-11-19 03:33:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.278, 'infer_time': 0.36, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:02] 收到 tts_done, timestamp=5.278s
[2025-11-19 03:33:02] 在 5.28s 插入 TTS（4.82s）
[2025-11-19 03:33:20] 音频发送完毕，用时 23.09s
[2025-11-19 03:33:20] WebSocket 已关闭，结束接收循环
[2025-11-19 03:33:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0017_add_output.wav，时长 22.64s
[2025-11-19 03:33:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0017_add_output.wav
[2025-11-19 03:33:20] 处理完成: clean_0008_0017_add.wav
[2025-11-19 03:33:20] -----------------------------------
[2025-11-19 03:33:20] 开始处理文件: clean_0008_0019_add.wav
[2025-11-19 03:33:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:33:20] 初始化输出 buffer，总时长 19.62s（313920 samples）
[2025-11-19 03:33:20] 开始发送 clean_0008_0019_add.wav，总帧 1227，时长 19.62s
[2025-11-19 03:33:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.446, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.093, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.2, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.316, 'turn': 0, 'state': 'LISTEN', 'content': '加班时如何提高工作效率'}}
[2025-11-19 03:33:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.357, 'infer_time': 0.153, 'content': '专注任务，减少干扰，高效完成。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.634, 'infer_time': 0.273, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:23] 收到 tts_done, timestamp=3.634s
[2025-11-19 03:33:23] 在 3.63s 插入 TTS（3.35s）
[2025-11-19 03:33:40] 音频发送完毕，用时 19.98s
[2025-11-19 03:33:40] WebSocket 已关闭，结束接收循环
[2025-11-19 03:33:40] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0019_add_output.wav，时长 19.62s
[2025-11-19 03:33:40] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0019_add_output.wav
[2025-11-19 03:33:40] 处理完成: clean_0008_0019_add.wav
[2025-11-19 03:33:40] -----------------------------------
[2025-11-19 03:33:40] 开始处理文件: clean_0008_0023.wav
[2025-11-19 03:33:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:33:40] 初始化输出 buffer，总时长 22.08s（353280 samples）
[2025-11-19 03:33:40] 开始发送 clean_0008_0023.wav，总帧 1380，时长 22.08s
[2025-11-19 03:33:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.546, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.197, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.286, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.499, 'turn': 0, 'state': 'LISTEN', 'content': '玩沙包有哪些有趣的玩法'}}
[2025-11-19 03:33:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.563, 'infer_time': 0.273, 'content': '沙包游戏超有趣，比如丢沙包、跳房子、背对背夹沙包比赛。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.11, 'infer_time': 0.542, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:33:44] 收到 tts_done, timestamp=4.11s
[2025-11-19 03:33:44] 在 4.11s 插入 TTS（7.27s）
[2025-11-19 03:34:02] 音频发送完毕，用时 22.45s
[2025-11-19 03:34:02] WebSocket 已关闭，结束接收循环
[2025-11-19 03:34:02] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0023_output.wav，时长 22.08s
[2025-11-19 03:34:02] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0023_output.wav
[2025-11-19 03:34:02] 处理完成: clean_0008_0023.wav
[2025-11-19 03:34:02] -----------------------------------
[2025-11-19 03:34:02] 开始处理文件: clean_0008_0024.wav
[2025-11-19 03:34:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:34:02] 初始化输出 buffer，总时长 20.15s（322400 samples）
[2025-11-19 03:34:02] 开始发送 clean_0008_0024.wav，总帧 1260，时长 20.15s
[2025-11-19 03:34:02] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.066, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.713, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.804, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.937, 'turn': 0, 'state': 'LISTEN', 'content': '我很害怕打针怎么办'}}
[2025-11-19 03:34:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.985, 'infer_time': 0.178, 'content': '打针前深呼吸，转移注意力会好些。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.266, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:05] 收到 tts_done, timestamp=3.266s
[2025-11-19 03:34:05] 在 3.27s 插入 TTS（3.53s）
[2025-11-19 03:34:23] 音频发送完毕，用时 20.50s
[2025-11-19 03:34:23] WebSocket 已关闭，结束接收循环
[2025-11-19 03:34:23] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0008_0024_output.wav，时长 20.15s
[2025-11-19 03:34:23] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0008_0024_output.wav
[2025-11-19 03:34:23] 处理完成: clean_0008_0024.wav
[2025-11-19 03:34:23] -----------------------------------
[2025-11-19 03:34:23] 开始处理文件: clean_0009_0001.wav
[2025-11-19 03:34:23] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:34:23] 初始化输出 buffer，总时长 25.42s（406720 samples）
[2025-11-19 03:34:23] 开始发送 clean_0009_0001.wav，总帧 1589，时长 25.42s
[2025-11-19 03:34:23] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.39, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.865, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:28] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.513, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.625, 'infer_time': 0.107, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:28] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.819, 'turn': 0, 'state': 'LISTEN', 'content': '如果别人认错了我的性别我该怎么回应比较得体'}}
[2025-11-19 03:34:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.864, 'infer_time': 0.235, 'content': '可以礼貌地纠正对方，比如“谢谢你的关注，不过我其实是……”', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:29] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.356, 'infer_time': 0.488, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:29] 收到 tts_done, timestamp=6.356s
[2025-11-19 03:34:29] 在 6.36s 插入 TTS（6.54s）
[2025-11-19 03:34:48] 音频发送完毕，用时 25.95s
[2025-11-19 03:34:48] WebSocket 已关闭，结束接收循环
[2025-11-19 03:34:48] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0001_output.wav，时长 25.42s
[2025-11-19 03:34:48] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0001_output.wav
[2025-11-19 03:34:48] 处理完成: clean_0009_0001.wav
[2025-11-19 03:34:48] -----------------------------------
[2025-11-19 03:34:48] 开始处理文件: clean_0009_0002_add.wav
[2025-11-19 03:34:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:34:48] 初始化输出 buffer，总时长 23.16s（370560 samples）
[2025-11-19 03:34:48] 开始发送 clean_0009_0002_add.wav，总帧 1448，时长 23.16s
[2025-11-19 03:34:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.432, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.081, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.18, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.383, 'turn': 0, 'state': 'LISTEN', 'content': '血型和完美主义之间有什么联系吗'}}
[2025-11-19 03:34:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.389, 'infer_time': 0.204, 'content': '血型决定性格是伪科学，完美主义与之无关。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.72, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:34:53] 收到 tts_done, timestamp=4.72s
[2025-11-19 03:34:53] 在 4.72s 插入 TTS（4.29s）
[2025-11-19 03:35:12] 音频发送完毕，用时 23.60s
[2025-11-19 03:35:12] WebSocket 已关闭，结束接收循环
[2025-11-19 03:35:12] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0002_add_output.wav，时长 23.16s
[2025-11-19 03:35:12] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0002_add_output.wav
[2025-11-19 03:35:12] 处理完成: clean_0009_0002_add.wav
[2025-11-19 03:35:12] -----------------------------------
[2025-11-19 03:35:12] 开始处理文件: clean_0009_0003.wav
[2025-11-19 03:35:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:35:12] 初始化输出 buffer，总时长 21.75s（348000 samples）
[2025-11-19 03:35:12] 开始发送 clean_0009_0003.wav，总帧 1360，时长 21.75s
[2025-11-19 03:35:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.034, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.681, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.776, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.903, 'turn': 0, 'state': 'LISTEN', 'content': '血型和记忆力之间真的有关系吗'}}
[2025-11-19 03:35:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.924, 'infer_time': 0.144, 'content': '科学研究尚未证实血型影响记忆力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.179, 'infer_time': 0.25, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:16] 收到 tts_done, timestamp=4.179s
[2025-11-19 03:35:16] 在 4.18s 插入 TTS（3.16s）
[2025-11-19 03:35:34] 音频发送完毕，用时 22.16s
[2025-11-19 03:35:34] WebSocket 已关闭，结束接收循环
[2025-11-19 03:35:34] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0003_output.wav，时长 21.75s
[2025-11-19 03:35:34] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0003_output.wav
[2025-11-19 03:35:34] 处理完成: clean_0009_0003.wav
[2025-11-19 03:35:34] -----------------------------------
[2025-11-19 03:35:34] 开始处理文件: clean_0009_0003_add.wav
[2025-11-19 03:35:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:35:34] 初始化输出 buffer，总时长 21.85s（349600 samples）
[2025-11-19 03:35:34] 开始发送 clean_0009_0003_add.wav，总帧 1366，时长 21.85s
[2025-11-19 03:35:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.948, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.041, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.222, 'infer_time': 0.176, 'content': '长城、故宫、兵马俑等都是著名例子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.227, 'turn': 0, 'state': 'LISTEN', 'content': '中国的世界遗产有哪些著名的例子'}}
[2025-11-19 03:35:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.58, 'infer_time': 0.354, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:39] 收到 tts_done, timestamp=4.58s
[2025-11-19 03:35:39] 在 4.58s 插入 TTS（4.77s）
[2025-11-19 03:35:57] 音频发送完毕，用时 22.26s
[2025-11-19 03:35:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:35:57] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0003_add_output.wav，时长 21.85s
[2025-11-19 03:35:57] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0003_add_output.wav
[2025-11-19 03:35:57] 处理完成: clean_0009_0003_add.wav
[2025-11-19 03:35:57] -----------------------------------
[2025-11-19 03:35:57] 开始处理文件: clean_0009_0011_add.wav
[2025-11-19 03:35:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:35:57] 初始化输出 buffer，总时长 21.64s（346240 samples）
[2025-11-19 03:35:57] 开始发送 clean_0009_0011_add.wav，总帧 1353，时长 21.64s
[2025-11-19 03:35:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:35:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.718, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.367, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.463, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.612, 'infer_time': 0.146, 'content': '血型和性格没有科学依据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.64, 'turn': 0, 'state': 'LISTEN', 'content': '血型真的会影响性格吗'}}
[2025-11-19 03:36:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.824, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:00] 收到 tts_done, timestamp=3.824s
[2025-11-19 03:36:00] 在 3.82s 插入 TTS（2.64s）
[2025-11-19 03:36:19] 音频发送完毕，用时 22.02s
[2025-11-19 03:36:19] WebSocket 已关闭，结束接收循环
[2025-11-19 03:36:19] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0011_add_output.wav，时长 21.64s
[2025-11-19 03:36:19] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0011_add_output.wav
[2025-11-19 03:36:19] 处理完成: clean_0009_0011_add.wav
[2025-11-19 03:36:19] -----------------------------------
[2025-11-19 03:36:19] 开始处理文件: clean_0009_0013_add.wav
[2025-11-19 03:36:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:36:19] 初始化输出 buffer，总时长 21.52s（344320 samples）
[2025-11-19 03:36:19] 开始发送 clean_0009_0013_add.wav，总帧 1345，时长 21.52s
[2025-11-19 03:36:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.847, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.494, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.586, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.713, 'turn': 0, 'state': 'LISTEN', 'content': '如何应对时场感到的孤独'}}
[2025-11-19 03:36:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.736, 'infer_time': 0.145, 'content': '孤独是正常的，试着接纳它。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.969, 'infer_time': 0.229, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:23] 收到 tts_done, timestamp=3.969s
[2025-11-19 03:36:23] 在 3.97s 插入 TTS（3.04s）
[2025-11-19 03:36:40] 音频发送完毕，用时 21.88s
[2025-11-19 03:36:40] WebSocket 已关闭，结束接收循环
[2025-11-19 03:36:40] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0013_add_output.wav，时长 21.52s
[2025-11-19 03:36:40] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0013_add_output.wav
[2025-11-19 03:36:40] 处理完成: clean_0009_0013_add.wav
[2025-11-19 03:36:40] -----------------------------------
[2025-11-19 03:36:40] 开始处理文件: clean_0009_0015.wav
[2025-11-19 03:36:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:36:40] 初始化输出 buffer，总时长 22.22s（355520 samples）
[2025-11-19 03:36:40] 开始发送 clean_0009_0015.wav，总帧 1389，时长 22.22s
[2025-11-19 03:36:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.389, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.04, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.139, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.28, 'infer_time': 0.137, 'content': '建立自信，专注自我成长。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.306, 'turn': 0, 'state': 'LISTEN', 'content': '如何克服对贫穷的恐惧'}}
[2025-11-19 03:36:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.514, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:36:44] 收到 tts_done, timestamp=3.514s
[2025-11-19 03:36:44] 在 3.51s 插入 TTS（2.90s）
[2025-11-19 03:37:03] 音频发送完毕，用时 22.62s
[2025-11-19 03:37:03] WebSocket 已关闭，结束接收循环
[2025-11-19 03:37:03] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0015_output.wav，时长 22.22s
[2025-11-19 03:37:03] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0015_output.wav
[2025-11-19 03:37:03] 处理完成: clean_0009_0015.wav
[2025-11-19 03:37:03] -----------------------------------
[2025-11-19 03:37:03] 开始处理文件: clean_0009_0017_add.wav
[2025-11-19 03:37:03] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:37:03] 初始化输出 buffer，总时长 21.67s（346720 samples）
[2025-11-19 03:37:03] 开始发送 clean_0009_0017_add.wav，总帧 1355，时长 21.67s
[2025-11-19 03:37:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.085, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:07] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.732, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.828, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.975, 'turn': 0, 'state': 'LISTEN', 'content': '经络疏通有哪些常见的方法'}}
[2025-11-19 03:37:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.036, 'infer_time': 0.204, 'content': '按摩、艾灸、刮痧和针灸是常见方法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:08] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.332, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:08] 收到 tts_done, timestamp=4.332s
[2025-11-19 03:37:08] 在 4.33s 插入 TTS（3.87s）
[2025-11-19 03:37:25] 音频发送完毕，用时 22.07s
[2025-11-19 03:37:25] WebSocket 已关闭，结束接收循环
[2025-11-19 03:37:25] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0017_add_output.wav，时长 21.67s
[2025-11-19 03:37:25] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0017_add_output.wav
[2025-11-19 03:37:25] 处理完成: clean_0009_0017_add.wav
[2025-11-19 03:37:25] -----------------------------------
[2025-11-19 03:37:25] 开始处理文件: clean_0009_0019_add.wav
[2025-11-19 03:37:25] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:37:25] 初始化输出 buffer，总时长 24.39s（390240 samples）
[2025-11-19 03:37:25] 开始发送 clean_0009_0019_add.wav，总帧 1525，时长 24.39s
[2025-11-19 03:37:25] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.414, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.062, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.288, 'infer_time': 0.222, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.461, 'infer_time': 0.169, 'content': '高精地图结合传感器实时采集数据更新。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.503, 'turn': 0, 'state': 'LISTEN', 'content': '自动驾驶地图如何确保实时更新和准确性'}}
[2025-11-19 03:37:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.787, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:31] 收到 tts_done, timestamp=5.787s
[2025-11-19 03:37:31] 在 5.79s 插入 TTS（4.03s）
[2025-11-19 03:37:50] 音频发送完毕，用时 24.88s
[2025-11-19 03:37:50] WebSocket 已关闭，结束接收循环
[2025-11-19 03:37:50] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0009_0019_add_output.wav，时长 24.39s
[2025-11-19 03:37:50] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0009_0019_add_output.wav
[2025-11-19 03:37:50] 处理完成: clean_0009_0019_add.wav
[2025-11-19 03:37:50] -----------------------------------
[2025-11-19 03:37:50] 开始处理文件: clean_0010_0001_add.wav
[2025-11-19 03:37:50] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:37:50] 初始化输出 buffer，总时长 23.19s（371040 samples）
[2025-11-19 03:37:50] 开始发送 clean_0010_0001_add.wav，总帧 1450，时长 23.19s
[2025-11-19 03:37:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.363, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.136, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.783, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.882, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.053, 'infer_time': 0.166, 'content': '情感机器人通过陪伴和倾听缓解孤独感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.083, 'turn': 0, 'state': 'LISTEN', 'content': '情感机器人如何帮助人们缓解孤独感'}}
[2025-11-19 03:37:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.376, 'infer_time': 0.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:37:56] 收到 tts_done, timestamp=5.376s
[2025-11-19 03:37:56] 在 5.38s 插入 TTS（4.22s）
[2025-11-19 03:38:14] 音频发送完毕，用时 23.65s
[2025-11-19 03:38:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:38:14] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0001_add_output.wav，时长 23.19s
[2025-11-19 03:38:14] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0001_add_output.wav
[2025-11-19 03:38:14] 处理完成: clean_0010_0001_add.wav
[2025-11-19 03:38:14] -----------------------------------
[2025-11-19 03:38:14] 开始处理文件: clean_0010_0002_add.wav
[2025-11-19 03:38:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:38:14] 初始化输出 buffer，总时长 20.71s（331360 samples）
[2025-11-19 03:38:14] 开始发送 clean_0010_0002_add.wav，总帧 1295，时长 20.71s
[2025-11-19 03:38:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.581, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.229, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.322, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.459, 'turn': 0, 'state': 'LISTEN', 'content': '外卖退款的具体流程是什么'}}
[2025-11-19 03:38:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.48, 'infer_time': 0.153, 'content': '联系商家协商，平台介入处理退款。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.761, 'infer_time': 0.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:18] 收到 tts_done, timestamp=3.761s
[2025-11-19 03:38:18] 在 3.76s 插入 TTS（3.57s）
[2025-11-19 03:38:35] 音频发送完毕，用时 21.10s
[2025-11-19 03:38:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:38:35] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0002_add_output.wav，时长 20.71s
[2025-11-19 03:38:35] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0002_add_output.wav
[2025-11-19 03:38:35] 处理完成: clean_0010_0002_add.wav
[2025-11-19 03:38:35] -----------------------------------
[2025-11-19 03:38:35] 开始处理文件: clean_0010_0005_add.wav
[2025-11-19 03:38:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:38:35] 初始化输出 buffer，总时长 20.58s（329280 samples）
[2025-11-19 03:38:35] 开始发送 clean_0010_0005_add.wav，总帧 1287，时长 20.58s
[2025-11-19 03:38:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.55, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.291, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.458, 'turn': 0, 'state': 'LISTEN', 'content': '如何有效预防艾滋病传播'}}
[2025-11-19 03:38:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.491, 'infer_time': 0.196, 'content': '使用安全套，定期检测，避免共用针具。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.844, 'infer_time': 0.348, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:39] 收到 tts_done, timestamp=3.844s
[2025-11-19 03:38:39] 在 3.84s 插入 TTS（4.75s）
[2025-11-19 03:38:56] 音频发送完毕，用时 20.99s
[2025-11-19 03:38:56] WebSocket 已关闭，结束接收循环
[2025-11-19 03:38:56] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0005_add_output.wav，时长 20.58s
[2025-11-19 03:38:56] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0005_add_output.wav
[2025-11-19 03:38:56] 处理完成: clean_0010_0005_add.wav
[2025-11-19 03:38:56] -----------------------------------
[2025-11-19 03:38:56] 开始处理文件: clean_0010_0008.wav
[2025-11-19 03:38:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:38:56] 初始化输出 buffer，总时长 22.63s（362080 samples）
[2025-11-19 03:38:56] 开始发送 clean_0010_0008.wav，总帧 1415，时长 22.63s
[2025-11-19 03:38:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:38:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.089, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.737, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.835, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.994, 'turn': 0, 'state': 'LISTEN', 'content': '八十年代最经典的流行金曲有哪些'}}
[2025-11-19 03:39:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.031, 'infer_time': 0.192, 'content': '《冬天里的一把火》《我的中国心》等', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.274, 'infer_time': 0.238, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:00] 收到 tts_done, timestamp=4.274s
[2025-11-19 03:39:00] 在 4.27s 插入 TTS（3.09s）
[2025-11-19 03:39:19] 音频发送完毕，用时 23.07s
[2025-11-19 03:39:19] WebSocket 已关闭，结束接收循环
[2025-11-19 03:39:19] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0008_output.wav，时长 22.63s
[2025-11-19 03:39:19] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0008_output.wav
[2025-11-19 03:39:19] 处理完成: clean_0010_0008.wav
[2025-11-19 03:39:19] -----------------------------------
[2025-11-19 03:39:19] 开始处理文件: clean_0010_0011.wav
[2025-11-19 03:39:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:39:19] 初始化输出 buffer，总时长 24.78s（396480 samples）
[2025-11-19 03:39:19] 开始发送 clean_0010_0011.wav，总帧 1549，时长 24.78s
[2025-11-19 03:39:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.019, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.138, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.787, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.883, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.066, 'turn': 0, 'state': 'LISTEN', 'content': '你知道喀萨布兰卡这部电影是在哪里拍摄的吗'}}
[2025-11-19 03:39:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.102, 'infer_time': 0.215, 'content': '《卡萨布兰卡》主要在好莱坞的摄影棚拍摄。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.373, 'infer_time': 0.266, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:24] 收到 tts_done, timestamp=5.373s
[2025-11-19 03:39:24] 在 5.37s 插入 TTS（3.47s）
[2025-11-19 03:39:44] 音频发送完毕，用时 25.26s
[2025-11-19 03:39:44] WebSocket 已关闭，结束接收循环
[2025-11-19 03:39:44] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0011_output.wav，时长 24.78s
[2025-11-19 03:39:44] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0011_output.wav
[2025-11-19 03:39:44] 处理完成: clean_0010_0011.wav
[2025-11-19 03:39:44] -----------------------------------
[2025-11-19 03:39:44] 开始处理文件: clean_0010_0011_add.wav
[2025-11-19 03:39:44] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:39:44] 初始化输出 buffer，总时长 21.90s（350400 samples）
[2025-11-19 03:39:44] 开始发送 clean_0010_0011_add.wav，总帧 1369，时长 21.90s
[2025-11-19 03:39:44] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:48] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.84, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.936, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.133, 'infer_time': 0.193, 'content': '政策包括分类投放、收集、运输和处理四个环节。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:48] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.138, 'turn': 0, 'state': 'LISTEN', 'content': '垃圾分类政策具体包含哪些措施'}}
[2025-11-19 03:39:49] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.515, 'infer_time': 0.378, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:39:49] 收到 tts_done, timestamp=4.515s
[2025-11-19 03:39:49] 在 4.51s 插入 TTS（5.01s）
[2025-11-19 03:40:07] 音频发送完毕，用时 22.31s
[2025-11-19 03:40:07] WebSocket 已关闭，结束接收循环
[2025-11-19 03:40:07] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0011_add_output.wav，时长 21.90s
[2025-11-19 03:40:07] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0011_add_output.wav
[2025-11-19 03:40:07] 处理完成: clean_0010_0011_add.wav
[2025-11-19 03:40:07] -----------------------------------
[2025-11-19 03:40:07] 开始处理文件: clean_0010_0017_add.wav
[2025-11-19 03:40:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:40:07] 初始化输出 buffer，总时长 23.15s（370400 samples）
[2025-11-19 03:40:07] 开始发送 clean_0010_0017_add.wav，总帧 1447，时长 23.15s
[2025-11-19 03:40:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.974, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.073, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.218, 'turn': 0, 'state': 'LISTEN', 'content': '签证被拒后再次申请需要注意哪些关键点'}}
[2025-11-19 03:40:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.231, 'infer_time': 0.154, 'content': '准备充分材料，解释拒签原因', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.464, 'infer_time': 0.228, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:12] 收到 tts_done, timestamp=5.464s
[2025-11-19 03:40:12] 在 5.46s 插入 TTS（2.93s）
[2025-11-19 03:40:30] 音频发送完毕，用时 23.59s
[2025-11-19 03:40:30] WebSocket 已关闭，结束接收循环
[2025-11-19 03:40:30] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0017_add_output.wav，时长 23.15s
[2025-11-19 03:40:30] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0017_add_output.wav
[2025-11-19 03:40:30] 处理完成: clean_0010_0017_add.wav
[2025-11-19 03:40:30] -----------------------------------
[2025-11-19 03:40:30] 开始处理文件: clean_0010_0018_add.wav
[2025-11-19 03:40:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:40:30] 初始化输出 buffer，总时长 22.78s（364480 samples）
[2025-11-19 03:40:30] 开始发送 clean_0010_0018_add.wav，总帧 1424，时长 22.78s
[2025-11-19 03:40:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.411, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.059, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.154, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.301, 'turn': 0, 'state': 'LISTEN', 'content': '有哪些省油价值的技巧'}}
[2025-11-19 03:40:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.357, 'infer_time': 0.199, 'content': '平稳起步，匀速行驶，避免急加速和急刹车。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.719, 'infer_time': 0.358, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:34] 收到 tts_done, timestamp=3.719s
[2025-11-19 03:40:34] 在 3.72s 插入 TTS（4.94s）
[2025-11-19 03:40:53] 音频发送完毕，用时 23.14s
[2025-11-19 03:40:53] WebSocket 已关闭，结束接收循环
[2025-11-19 03:40:53] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0018_add_output.wav，时长 22.78s
[2025-11-19 03:40:53] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0018_add_output.wav
[2025-11-19 03:40:53] 处理完成: clean_0010_0018_add.wav
[2025-11-19 03:40:53] -----------------------------------
[2025-11-19 03:40:53] 开始处理文件: clean_0010_0028.wav
[2025-11-19 03:40:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:40:53] 初始化输出 buffer，总时长 22.54s（360640 samples）
[2025-11-19 03:40:53] 开始发送 clean_0010_0028.wav，总帧 1409，时长 22.54s
[2025-11-19 03:40:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.273, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.918, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.011, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.164, 'turn': 0, 'state': 'LISTEN', 'content': '为什么人们会对未知的事物感到害怕'}}
[2025-11-19 03:40:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.179, 'infer_time': 0.164, 'content': '未知带来不确定性，大脑会自动预警危险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.481, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:40:58] 收到 tts_done, timestamp=4.481s
[2025-11-19 03:40:58] 在 4.48s 插入 TTS（3.78s）
[2025-11-19 03:41:16] 音频发送完毕，用时 22.83s
[2025-11-19 03:41:16] WebSocket 已关闭，结束接收循环
[2025-11-19 03:41:16] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0010_0028_output.wav，时长 22.54s
[2025-11-19 03:41:16] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0010_0028_output.wav
[2025-11-19 03:41:16] 处理完成: clean_0010_0028.wav
[2025-11-19 03:41:16] -----------------------------------
[2025-11-19 03:41:16] 开始处理文件: clean_0011_0008.wav
[2025-11-19 03:41:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:41:16] 初始化输出 buffer，总时长 23.96s（383360 samples）
[2025-11-19 03:41:16] 开始发送 clean_0011_0008.wav，总帧 1498，时长 23.96s
[2025-11-19 03:41:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.681, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.427, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.653, 'turn': 0, 'state': 'LISTEN', 'content': '运动会项目里一百米短跑有什么训练技巧'}}
[2025-11-19 03:41:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.676, 'infer_time': 0.244, 'content': '短跑训练要注重爆发力和步频，多练起跑和加速。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.034, 'infer_time': 0.354, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:22] 收到 tts_done, timestamp=6.034s
[2025-11-19 03:41:22] 在 6.03s 插入 TTS（4.59s）
[2025-11-19 03:41:41] 音频发送完毕，用时 24.46s
[2025-11-19 03:41:41] WebSocket 已关闭，结束接收循环
[2025-11-19 03:41:41] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0011_0008_output.wav，时长 23.96s
[2025-11-19 03:41:41] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0011_0008_output.wav
[2025-11-19 03:41:41] 处理完成: clean_0011_0008.wav
[2025-11-19 03:41:41] -----------------------------------
[2025-11-19 03:41:41] 开始处理文件: clean_0011_0009.wav
[2025-11-19 03:41:41] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:41:41] 初始化输出 buffer，总时长 25.01s（400160 samples）
[2025-11-19 03:41:41] 开始发送 clean_0011_0009.wav，总帧 1564，时长 25.01s
[2025-11-19 03:41:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.628, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:46] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.273, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.371, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.533, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得老港片中最经典的武侠电影是哪一部'}}
[2025-11-19 03:41:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.582, 'infer_time': 0.205, 'content': '《龙门客栈》是老港片中最经典的武侠电影之一。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:47] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.884, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:41:47] 收到 tts_done, timestamp=5.884s
[2025-11-19 03:41:47] 在 5.88s 插入 TTS（3.77s）
[2025-11-19 03:42:06] 音频发送完毕，用时 25.38s
[2025-11-19 03:42:06] WebSocket 已关闭，结束接收循环
[2025-11-19 03:42:06] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0011_0009_output.wav，时长 25.01s
[2025-11-19 03:42:06] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0011_0009_output.wav
[2025-11-19 03:42:06] 处理完成: clean_0011_0009.wav
[2025-11-19 03:42:06] -----------------------------------
[2025-11-19 03:42:06] 开始处理文件: clean_0011_0021.wav
[2025-11-19 03:42:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:42:06] 初始化输出 buffer，总时长 25.05s（400800 samples）
[2025-11-19 03:42:06] 开始发送 clean_0011_0021.wav，总帧 1566，时长 25.05s
[2025-11-19 03:42:06] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.159, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.803, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.904, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.069, 'infer_time': 0.16, 'content': '选择透气面料，设计宽松剪裁。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.097, 'turn': 0, 'state': 'LISTEN', 'content': '如何设计一件适合夏季穿着的连衣裙'}}
[2025-11-19 03:42:11] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.329, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:11] 收到 tts_done, timestamp=5.329s
[2025-11-19 03:42:11] 在 5.33s 插入 TTS（3.26s）
[2025-11-19 03:42:31] 音频发送完毕，用时 25.40s
[2025-11-19 03:42:31] WebSocket 已关闭，结束接收循环
[2025-11-19 03:42:31] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0011_0021_output.wav，时长 25.05s
[2025-11-19 03:42:31] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0011_0021_output.wav
[2025-11-19 03:42:31] 处理完成: clean_0011_0021.wav
[2025-11-19 03:42:31] -----------------------------------
[2025-11-19 03:42:31] 开始处理文件: clean_0012_0015.wav
[2025-11-19 03:42:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:42:31] 初始化输出 buffer，总时长 23.06s（368960 samples）
[2025-11-19 03:42:31] 开始发送 clean_0012_0015.wav，总帧 1442，时长 23.06s
[2025-11-19 03:42:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.4, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.047, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.147, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.342, 'infer_time': 0.19, 'content': '尝试深呼吸，转移注意力到音乐或手机上。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.369, 'turn': 0, 'state': 'LISTEN', 'content': '我每次坐电梯都很害怕有什么方法可以缓解这种恐惧吗'}}
[2025-11-19 03:42:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.679, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:38] 收到 tts_done, timestamp=6.679s
[2025-11-19 03:42:38] 在 6.68s 插入 TTS（4.41s）
[2025-11-19 03:42:55] 音频发送完毕，用时 23.59s
[2025-11-19 03:42:55] WebSocket 已关闭，结束接收循环
[2025-11-19 03:42:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0012_0015_output.wav，时长 23.06s
[2025-11-19 03:42:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0012_0015_output.wav
[2025-11-19 03:42:55] 处理完成: clean_0012_0015.wav
[2025-11-19 03:42:55] -----------------------------------
[2025-11-19 03:42:55] 开始处理文件: clean_0012_0019.wav
[2025-11-19 03:42:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:42:55] 初始化输出 buffer，总时长 24.11s（385760 samples）
[2025-11-19 03:42:55] 开始发送 clean_0012_0019.wav，总帧 1507，时长 24.11s
[2025-11-19 03:42:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:42:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.06, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.708, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.806, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.981, 'infer_time': 0.17, 'content': '星座可作参考，但非决定因素。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.153, 'turn': 0, 'state': 'LISTEN', 'content': '如何根据星座判断两个人是否适合交友'}}
[2025-11-19 03:43:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.233, 'infer_time': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:00] 收到 tts_done, timestamp=5.233s
[2025-11-19 03:43:00] 在 5.23s 插入 TTS（3.01s）
[2025-11-19 03:43:20] 音频发送完毕，用时 24.56s
[2025-11-19 03:43:20] WebSocket 已关闭，结束接收循环
[2025-11-19 03:43:20] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0012_0019_output.wav，时长 24.11s
[2025-11-19 03:43:20] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0012_0019_output.wav
[2025-11-19 03:43:20] 处理完成: clean_0012_0019.wav
[2025-11-19 03:43:20] -----------------------------------
[2025-11-19 03:43:20] 开始处理文件: clean_0012_0036.wav
[2025-11-19 03:43:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:43:20] 初始化输出 buffer，总时长 25.12s（401920 samples）
[2025-11-19 03:43:20] 开始发送 clean_0012_0036.wav，总帧 1570，时长 25.12s
[2025-11-19 03:43:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:26] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.789, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.961, 'infer_time': 0.165, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:27] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.241, 'turn': 0, 'state': 'LISTEN', 'content': '朋友聚餐 aa 制分摊费用时有人点了很贵的菜怎么办'}}
[2025-11-19 03:43:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.301, 'infer_time': 0.335, 'content': '可以提前说好预算，避免尴尬。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:27] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.537, 'infer_time': 0.231, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:27] 收到 tts_done, timestamp=7.537s
[2025-11-19 03:43:27] 在 7.54s 插入 TTS（2.82s）
[2025-11-19 03:43:45] 音频发送完毕，用时 25.73s
[2025-11-19 03:43:45] WebSocket 已关闭，结束接收循环
[2025-11-19 03:43:45] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0012_0036_output.wav，时长 25.12s
[2025-11-19 03:43:45] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0012_0036_output.wav
[2025-11-19 03:43:45] 处理完成: clean_0012_0036.wav
[2025-11-19 03:43:45] -----------------------------------
[2025-11-19 03:43:45] 开始处理文件: clean_0013_0007.wav
[2025-11-19 03:43:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:43:45] 初始化输出 buffer，总时长 22.96s（367360 samples）
[2025-11-19 03:43:45] 开始发送 clean_0013_0007.wav，总帧 1435，时长 22.96s
[2025-11-19 03:43:46] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.054, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:49] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.701, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.798, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.987, 'infer_time': 0.186, 'content': '内向适合做程序员、编辑或会计这类工作。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:49] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.992, 'turn': 0, 'state': 'LISTEN', 'content': '我的性格比较内向适合从事什么职业'}}
[2025-11-19 03:43:50] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.315, 'infer_time': 0.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:43:50] 收到 tts_done, timestamp=4.315s
[2025-11-19 03:43:50] 在 4.32s 插入 TTS（4.13s）
[2025-11-19 03:44:09] 音频发送完毕，用时 23.37s
[2025-11-19 03:44:09] WebSocket 已关闭，结束接收循环
[2025-11-19 03:44:09] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0013_0007_output.wav，时长 22.96s
[2025-11-19 03:44:09] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0013_0007_output.wav
[2025-11-19 03:44:09] 处理完成: clean_0013_0007.wav
[2025-11-19 03:44:09] -----------------------------------
[2025-11-19 03:44:09] 开始处理文件: clean_0013_0010.wav
[2025-11-19 03:44:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:44:09] 初始化输出 buffer，总时长 22.92s（366720 samples）
[2025-11-19 03:44:09] 开始发送 clean_0013_0010.wav，总帧 1433，时长 22.92s
[2025-11-19 03:44:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.437, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.085, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.176, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.346, 'infer_time': 0.165, 'content': '快递到家，快“递”幸福！', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.379, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个关于快递的谐音梗吗'}}
[2025-11-19 03:44:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.547, 'infer_time': 0.197, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:12] 收到 tts_done, timestamp=3.547s
[2025-11-19 03:44:12] 在 3.55s 插入 TTS（2.41s）
[2025-11-19 03:44:32] 音频发送完毕，用时 23.34s
[2025-11-19 03:44:32] WebSocket 已关闭，结束接收循环
[2025-11-19 03:44:32] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0013_0010_output.wav，时长 22.92s
[2025-11-19 03:44:32] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0013_0010_output.wav
[2025-11-19 03:44:32] 处理完成: clean_0013_0010.wav
[2025-11-19 03:44:32] -----------------------------------
[2025-11-19 03:44:32] 开始处理文件: clean_0013_0030.wav
[2025-11-19 03:44:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:44:32] 初始化输出 buffer，总时长 21.92s（350720 samples）
[2025-11-19 03:44:32] 开始发送 clean_0013_0030.wav，总帧 1370，时长 21.92s
[2025-11-19 03:44:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.167, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.817, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.917, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.115, 'infer_time': 0.193, 'content': '冷笑话精选83条，我这里没有具体收录。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.139, 'turn': 0, 'state': 'LISTEN', 'content': '能讲一个冷笑话精选八十三条里的笑话吗'}}
[2025-11-19 03:44:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.441, 'infer_time': 0.321, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:38] 收到 tts_done, timestamp=5.441s
[2025-11-19 03:44:38] 在 5.44s 插入 TTS（4.23s）
[2025-11-19 03:44:55] 音频发送完毕，用时 22.36s
[2025-11-19 03:44:55] WebSocket 已关闭，结束接收循环
[2025-11-19 03:44:55] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0013_0030_output.wav，时长 21.92s
[2025-11-19 03:44:55] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0013_0030_output.wav
[2025-11-19 03:44:55] 处理完成: clean_0013_0030.wav
[2025-11-19 03:44:55] -----------------------------------
[2025-11-19 03:44:55] 开始处理文件: clean_0014_0020.wav
[2025-11-19 03:44:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:44:55] 初始化输出 buffer，总时长 21.43s（342880 samples）
[2025-11-19 03:44:55] 开始发送 clean_0014_0020.wav，总帧 1340，时长 21.43s
[2025-11-19 03:44:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.924, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.572, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.669, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.782, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些人会特别害怕老鼠'}}
[2025-11-19 03:44:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.89, 'infer_time': 0.218, 'content': '可能因为老鼠外形和习性让人联想到疾病或脏乱环境。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.257, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:44:59] 收到 tts_done, timestamp=4.257s
[2025-11-19 03:44:59] 在 4.26s 插入 TTS（4.79s）
[2025-11-19 03:45:16] 音频发送完毕，用时 21.86s
[2025-11-19 03:45:16] WebSocket 已关闭，结束接收循环
[2025-11-19 03:45:16] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0014_0020_output.wav，时长 21.43s
[2025-11-19 03:45:16] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0014_0020_output.wav
[2025-11-19 03:45:16] 处理完成: clean_0014_0020.wav
[2025-11-19 03:45:16] -----------------------------------
[2025-11-19 03:45:16] 开始处理文件: clean_0014_0022.wav
[2025-11-19 03:45:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:45:16] 初始化输出 buffer，总时长 22.39s（358240 samples）
[2025-11-19 03:45:16] 开始发送 clean_0014_0022.wav，总帧 1400，时长 22.39s
[2025-11-19 03:45:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.466, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.116, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.208, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.397, 'turn': 0, 'state': 'LISTEN', 'content': '葛亮是如何辅佐刘备建立蜀汉的'}}
[2025-11-19 03:45:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.448, 'infer_time': 0.235, 'content': '诸葛亮助刘备联吴抗曹，取荆州、益州，建立蜀汉。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.939, 'infer_time': 0.485, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:21] 收到 tts_done, timestamp=4.939s
[2025-11-19 03:45:21] 在 4.94s 插入 TTS（6.26s）
[2025-11-19 03:45:39] 音频发送完毕，用时 22.87s
[2025-11-19 03:45:39] WebSocket 已关闭，结束接收循环
[2025-11-19 03:45:39] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0014_0022_output.wav，时长 22.39s
[2025-11-19 03:45:39] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0014_0022_output.wav
[2025-11-19 03:45:39] 处理完成: clean_0014_0022.wav
[2025-11-19 03:45:39] -----------------------------------
[2025-11-19 03:45:39] 开始处理文件: clean_0014_0024.wav
[2025-11-19 03:45:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:45:39] 初始化输出 buffer，总时长 22.47s（359520 samples）
[2025-11-19 03:45:39] 开始发送 clean_0014_0024.wav，总帧 1405，时长 22.47s
[2025-11-19 03:45:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.602, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.903, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.552, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.65, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.8, 'turn': 0, 'state': 'LISTEN', 'content': '公司对迟到早退行为一般会怎么处理'}}
[2025-11-19 03:45:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.851, 'infer_time': 0.197, 'content': '通常会警告或扣工资，严重者可能影响晋升。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.188, 'infer_time': 0.332, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:45:45] 收到 tts_done, timestamp=5.188s
[2025-11-19 03:45:45] 在 5.19s 插入 TTS（4.31s）
[2025-11-19 03:46:02] 音频发送完毕，用时 22.93s
[2025-11-19 03:46:02] WebSocket 已关闭，结束接收循环
[2025-11-19 03:46:02] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0014_0024_output.wav，时长 22.47s
[2025-11-19 03:46:02] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0014_0024_output.wav
[2025-11-19 03:46:02] 处理完成: clean_0014_0024.wav
[2025-11-19 03:46:02] -----------------------------------
[2025-11-19 03:46:02] 开始处理文件: clean_0015_0009.wav
[2025-11-19 03:46:02] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:46:02] 初始化输出 buffer，总时长 23.04s（368640 samples）
[2025-11-19 03:46:02] 开始发送 clean_0015_0009.wav，总帧 1440，时长 23.04s
[2025-11-19 03:46:03] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.238, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.353, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:06] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.001, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.095, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.264, 'infer_time': 0.165, 'content': '当然记得，那年我跑错了跑道。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:07] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.299, 'turn': 0, 'state': 'LISTEN', 'content': '你还记得小时候参加运动会最难忘的事吗'}}
[2025-11-19 03:46:07] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.522, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:07] 收到 tts_done, timestamp=4.522s
[2025-11-19 03:46:07] 在 4.52s 插入 TTS（3.21s）
[2025-11-19 03:46:26] 音频发送完毕，用时 23.42s
[2025-11-19 03:46:26] WebSocket 已关闭，结束接收循环
[2025-11-19 03:46:26] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0015_0009_output.wav，时长 23.04s
[2025-11-19 03:46:26] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0015_0009_output.wav
[2025-11-19 03:46:26] 处理完成: clean_0015_0009.wav
[2025-11-19 03:46:26] -----------------------------------
[2025-11-19 03:46:26] 开始处理文件: clean_0015_0010.wav
[2025-11-19 03:46:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:46:26] 初始化输出 buffer，总时长 22.95s（367200 samples）
[2025-11-19 03:46:26] 开始发送 clean_0015_0010.wav，总帧 1435，时长 22.95s
[2025-11-19 03:46:26] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:30] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.971, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.619, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.716, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:31] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.853, 'turn': 0, 'state': 'LISTEN', 'content': '听说不同血型的人睡眠习惯不同这是真的吗'}}
[2025-11-19 03:46:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.897, 'infer_time': 0.177, 'content': '目前没有科学证据支持血型影响睡眠习惯。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:31] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.192, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:31] 收到 tts_done, timestamp=5.192s
[2025-11-19 03:46:31] 在 5.19s 插入 TTS（3.74s）
[2025-11-19 03:46:49] 音频发送完毕，用时 23.44s
[2025-11-19 03:46:49] WebSocket 已关闭，结束接收循环
[2025-11-19 03:46:49] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0015_0010_output.wav，时长 22.95s
[2025-11-19 03:46:49] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0015_0010_output.wav
[2025-11-19 03:46:49] 处理完成: clean_0015_0010.wav
[2025-11-19 03:46:49] -----------------------------------
[2025-11-19 03:46:49] 开始处理文件: clean_0015_0021.wav
[2025-11-19 03:46:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:46:49] 初始化输出 buffer，总时长 21.55s（344800 samples）
[2025-11-19 03:46:49] 开始发送 clean_0015_0021.wav，总帧 1347，时长 21.55s
[2025-11-19 03:46:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.548, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:52] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.197, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:52] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.288, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.453, 'infer_time': 0.161, 'content': '用纸巾包住后扔进垃圾桶。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.459, 'turn': 0, 'state': 'LISTEN', 'content': '买到狗屎后怎么处理比较干净'}}
[2025-11-19 03:46:53] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.661, 'infer_time': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:46:53] 收到 tts_done, timestamp=3.661s
[2025-11-19 03:46:53] 在 3.66s 插入 TTS（2.51s）
[2025-11-19 03:47:11] 音频发送完毕，用时 21.96s
[2025-11-19 03:47:11] WebSocket 已关闭，结束接收循环
[2025-11-19 03:47:11] 已保存对齐音频: exp/exp13/dev_zh/Topic Switching/clean_0015_0021_output.wav，时长 21.55s
[2025-11-19 03:47:11] 已保存 TTS 输出: exp/exp13/dev_zh/Topic Switching/clean_0015_0021_output.wav
[2025-11-19 03:47:11] 处理完成: clean_0015_0021.wav
[2025-11-19 03:47:11] -----------------------------------
[2025-11-19 03:47:11] 
进入目录: User Real-time Backchannels
[2025-11-19 03:47:11] 开始处理文件: 0001_0005.wav
[2025-11-19 03:47:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:47:11] 初始化输出 buffer，总时长 19.45s（311199 samples）
[2025-11-19 03:47:11] 开始发送 0001_0005.wav，总帧 1216，时长 19.45s
[2025-11-19 03:47:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.91, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.009, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.158, 'turn': 0, 'state': 'LISTEN', 'content': '新手徒步应该选择什么样的路线'}}
[2025-11-19 03:47:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.18, 'infer_time': 0.167, 'content': '新手徒步建议选择平坦易行的路线。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.471, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:16] 收到 tts_done, timestamp=4.471s
[2025-11-19 03:47:16] 在 4.47s 插入 TTS（3.74s）
[2025-11-19 03:47:20] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.664}}
[2025-11-19 03:47:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.202, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.737, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.473, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:22] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.474, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:31] 音频发送完毕，用时 19.91s
[2025-11-19 03:47:31] WebSocket 已关闭，结束接收循环
[2025-11-19 03:47:31] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0005_output.wav，时长 19.45s
[2025-11-19 03:47:31] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0005_output.wav
[2025-11-19 03:47:31] 处理完成: 0001_0005.wav
[2025-11-19 03:47:31] -----------------------------------
[2025-11-19 03:47:31] 开始处理文件: 0001_0006.wav
[2025-11-19 03:47:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:47:31] 初始化输出 buffer，总时长 19.10s（305600 samples）
[2025-11-19 03:47:31] 开始发送 0001_0006.wav，总帧 1194，时长 19.10s
[2025-11-19 03:47:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.192, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.844, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.935, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.104, 'infer_time': 0.164, 'content': '多参加兴趣活动，主动与人交流。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.11, 'turn': 0, 'state': 'LISTEN', 'content': '怎样能有效扩大自己的社交圈'}}
[2025-11-19 03:47:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.35, 'infer_time': 0.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:35] 收到 tts_done, timestamp=4.35s
[2025-11-19 03:47:35] 在 4.35s 插入 TTS（3.05s）
[2025-11-19 03:47:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.47}}
[2025-11-19 03:47:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.412, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.147, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:41] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.147, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:47:51] 音频发送完毕，用时 19.55s
[2025-11-19 03:47:51] WebSocket 已关闭，结束接收循环
[2025-11-19 03:47:51] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0006_output.wav，时长 19.10s
[2025-11-19 03:47:51] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0006_output.wav
[2025-11-19 03:47:51] 处理完成: 0001_0006.wav
[2025-11-19 03:47:51] -----------------------------------
[2025-11-19 03:47:51] 开始处理文件: 0001_0009.wav
[2025-11-19 03:47:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:47:51] 初始化输出 buffer，总时长 22.42s（358720 samples）
[2025-11-19 03:47:51] 开始发送 0001_0009.wav，总帧 1402，时长 22.42s
[2025-11-19 03:47:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:52] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.528, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.707, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.659, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.412, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.617, 'infer_time': 0.2, 'content': 'NVIDIA DLSS通过AI提升游戏画质和帧率', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.655, 'turn': 0, 'state': 'LISTEN', 'content': 'n v i d i a d dss 技术具体是怎么工作的'}}
[2025-11-19 03:47:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.928, 'infer_time': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:47:59] 收到 tts_done, timestamp=7.928s
[2025-11-19 03:47:59] 在 7.93s 插入 TTS（4.08s）
[2025-11-19 03:48:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.867}}
[2025-11-19 03:48:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.877, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.611, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:04] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 13.611, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:14] 音频发送完毕，用时 23.05s
[2025-11-19 03:48:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:48:14] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0009_output.wav，时长 22.42s
[2025-11-19 03:48:14] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0009_output.wav
[2025-11-19 03:48:14] 处理完成: 0001_0009.wav
[2025-11-19 03:48:14] -----------------------------------
[2025-11-19 03:48:14] 开始处理文件: 0001_0017.wav
[2025-11-19 03:48:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:48:14] 初始化输出 buffer，总时长 19.54s（312640 samples）
[2025-11-19 03:48:14] 开始发送 0001_0017.wav，总帧 1222，时长 19.54s
[2025-11-19 03:48:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.425, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.077, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.172, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.336, 'turn': 0, 'state': 'LISTEN', 'content': '为什么沙雕视频这么容易让人上瘾'}}
[2025-11-19 03:48:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.351, 'infer_time': 0.174, 'content': '沙雕视频轻松搞笑，让人放松解压。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.625, 'infer_time': 0.27, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:18] 收到 tts_done, timestamp=4.625s
[2025-11-19 03:48:18] 在 4.62s 插入 TTS（3.41s）
[2025-11-19 03:48:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.697}}
[2025-11-19 03:48:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.844, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.577, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:24] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.577, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:34] 音频发送完毕，用时 20.00s
[2025-11-19 03:48:34] WebSocket 已关闭，结束接收循环
[2025-11-19 03:48:34] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0017_output.wav，时长 19.54s
[2025-11-19 03:48:34] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0017_output.wav
[2025-11-19 03:48:34] 处理完成: 0001_0017.wav
[2025-11-19 03:48:34] -----------------------------------
[2025-11-19 03:48:34] 开始处理文件: 0001_0021.wav
[2025-11-19 03:48:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:48:34] 初始化输出 buffer，总时长 19.99s（319840 samples）
[2025-11-19 03:48:34] 开始发送 0001_0021.wav，总帧 1250，时长 19.99s
[2025-11-19 03:48:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.349, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.004, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.105, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.277, 'infer_time': 0.167, 'content': '建议优先保障核心运营，分阶段投入。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.285, 'turn': 0, 'state': 'LISTEN', 'content': '初创企业应该如何合理规划启动资金'}}
[2025-11-19 03:48:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.602, 'infer_time': 0.32, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:39] 收到 tts_done, timestamp=5.602s
[2025-11-19 03:48:39] 在 5.60s 插入 TTS（4.17s）
[2025-11-19 03:48:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.634}}
[2025-11-19 03:48:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.405, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.141, 'infer_time': 0.084, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:45] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.141, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:48:54] 音频发送完毕，用时 20.51s
[2025-11-19 03:48:54] WebSocket 已关闭，结束接收循环
[2025-11-19 03:48:54] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0021_output.wav，时长 19.99s
[2025-11-19 03:48:54] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0021_output.wav
[2025-11-19 03:48:54] 处理完成: 0001_0021.wav
[2025-11-19 03:48:54] -----------------------------------
[2025-11-19 03:48:54] 开始处理文件: 0001_0023.wav
[2025-11-19 03:48:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:48:54] 初始化输出 buffer，总时长 20.56s（328960 samples）
[2025-11-19 03:48:54] 开始发送 0001_0023.wav，总帧 1285，时长 20.56s
[2025-11-19 03:48:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.382, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.035, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:48:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.136, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.315, 'infer_time': 0.175, 'content': '课桌涂鸦是学生表达个性的方式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.325, 'turn': 0, 'state': 'LISTEN', 'content': '课桌涂鸦有什么有趣的历史或文化意义吗'}}
[2025-11-19 03:49:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.545, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:00] 收到 tts_done, timestamp=5.545s
[2025-11-19 03:49:00] 在 5.54s 插入 TTS（2.89s）
[2025-11-19 03:49:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.169}}
[2025-11-19 03:49:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.979, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.838, 'infer_time': 0.206, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:06] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.838, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:15] 音频发送完毕，用时 21.10s
[2025-11-19 03:49:15] WebSocket 已关闭，结束接收循环
[2025-11-19 03:49:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0023_output.wav，时长 20.56s
[2025-11-19 03:49:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0023_output.wav
[2025-11-19 03:49:15] 处理完成: 0001_0023.wav
[2025-11-19 03:49:15] -----------------------------------
[2025-11-19 03:49:15] 开始处理文件: 0001_0026.wav
[2025-11-19 03:49:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:49:15] 初始化输出 buffer，总时长 20.48s（327680 samples）
[2025-11-19 03:49:15] 开始发送 0001_0026.wav，总帧 1280，时长 20.48s
[2025-11-19 03:49:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.412, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.067, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.166, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.333, 'infer_time': 0.163, 'content': '氧气瓶、保暖衣物和防晒用品。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.352, 'turn': 0, 'state': 'LISTEN', 'content': '去高海拔地区旅行需要准备哪些特殊装备'}}
[2025-11-19 03:49:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.595, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:21] 收到 tts_done, timestamp=5.595s
[2025-11-19 03:49:21] 在 5.59s 插入 TTS（3.44s）
[2025-11-19 03:49:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.719}}
[2025-11-19 03:49:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.866, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.6, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:27] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.601, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:36] 音频发送完毕，用时 21.00s
[2025-11-19 03:49:36] WebSocket 已关闭，结束接收循环
[2025-11-19 03:49:36] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0001_0026_output.wav，时长 20.48s
[2025-11-19 03:49:36] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0001_0026_output.wav
[2025-11-19 03:49:36] 处理完成: 0001_0026.wav
[2025-11-19 03:49:36] -----------------------------------
[2025-11-19 03:49:36] 开始处理文件: 0002_0003.wav
[2025-11-19 03:49:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:49:36] 初始化输出 buffer，总时长 19.23s（307680 samples）
[2025-11-19 03:49:36] 开始发送 0002_0003.wav，总帧 1202，时长 19.23s
[2025-11-19 03:49:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.042, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.788, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.944, 'turn': 0, 'state': 'LISTEN', 'content': '今年旅行有什么值得推荐的国内目的地'}}
[2025-11-19 03:49:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.962, 'infer_time': 0.17, 'content': '云南大理、四川九寨沟都很适合。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.248, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:41] 收到 tts_done, timestamp=4.248s
[2025-11-19 03:49:41] 在 4.25s 插入 TTS（3.65s）
[2025-11-19 03:49:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.401}}
[2025-11-19 03:49:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.737, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.509, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.242, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:47] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.243, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:49:56] 音频发送完毕，用时 19.64s
[2025-11-19 03:49:56] WebSocket 已关闭，结束接收循环
[2025-11-19 03:49:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0003_output.wav，时长 19.23s
[2025-11-19 03:49:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0003_output.wav
[2025-11-19 03:49:56] 处理完成: 0002_0003.wav
[2025-11-19 03:49:56] -----------------------------------
[2025-11-19 03:49:56] 开始处理文件: 0002_0006.wav
[2025-11-19 03:49:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:49:56] 初始化输出 buffer，总时长 19.24s（307838 samples）
[2025-11-19 03:49:56] 开始发送 0002_0006.wav，总帧 1203，时长 19.24s
[2025-11-19 03:49:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:49:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.003, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.653, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.75, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.87, 'turn': 0, 'state': 'LISTEN', 'content': '周末短途旅行有什么推荐的放松方式'}}
[2025-11-19 03:50:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.943, 'infer_time': 0.188, 'content': '泡温泉、骑行郊外或古镇漫步很放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.318, 'infer_time': 0.37, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:00] 收到 tts_done, timestamp=4.318s
[2025-11-19 03:50:00] 在 4.32s 插入 TTS（5.04s）
[2025-11-19 03:50:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.366}}
[2025-11-19 03:50:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.395, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.127, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:06] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.127, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:16] 音频发送完毕，用时 19.58s
[2025-11-19 03:50:16] WebSocket 已关闭，结束接收循环
[2025-11-19 03:50:16] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0006_output.wav，时长 19.24s
[2025-11-19 03:50:16] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0006_output.wav
[2025-11-19 03:50:16] 处理完成: 0002_0006.wav
[2025-11-19 03:50:16] -----------------------------------
[2025-11-19 03:50:16] 开始处理文件: 0002_0008.wav
[2025-11-19 03:50:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:50:16] 初始化输出 buffer，总时长 18.81s（300960 samples）
[2025-11-19 03:50:16] 开始发送 0002_0008.wav，总帧 1176，时长 18.81s
[2025-11-19 03:50:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.905, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.554, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.644, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.816, 'infer_time': 0.169, 'content': '长期负面情绪可能引发高血压、免疫力下降等问题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.822, 'turn': 0, 'state': 'LISTEN', 'content': '负面情绪会对身体健康产生哪些影响'}}
[2025-11-19 03:50:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.188, 'infer_time': 0.366, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:20] 收到 tts_done, timestamp=4.188s
[2025-11-19 03:50:20] 在 4.19s 插入 TTS（4.68s）
[2025-11-19 03:50:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.195}}
[2025-11-19 03:50:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.966, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.7, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:25] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.701, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:50:35] 音频发送完毕，用时 19.17s
[2025-11-19 03:50:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:50:35] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0008_output.wav，时长 18.81s
[2025-11-19 03:50:35] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0008_output.wav
[2025-11-19 03:50:35] 处理完成: 0002_0008.wav
[2025-11-19 03:50:35] -----------------------------------
[2025-11-19 03:50:35] 开始处理文件: 0002_0018.wav
[2025-11-19 03:50:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:50:35] 初始化输出 buffer，总时长 21.26s（340160 samples）
[2025-11-19 03:50:35] 开始发送 0002_0018.wav，总帧 1329，时长 21.26s
[2025-11-19 03:50:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.805, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.895, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.544, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.644, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.817, 'turn': 0, 'state': 'LISTEN', 'content': '如何评估一个创业创新想法的市场权利'}}
[2025-11-19 03:50:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.83, 'infer_time': 0.181, 'content': '评估市场潜力需调研目标用户和竞争情况。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.12, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:41] 收到 tts_done, timestamp=6.12s
[2025-11-19 03:50:41] 在 6.12s 插入 TTS（3.55s）
[2025-11-19 03:50:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.121}}
[2025-11-19 03:50:46] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.628, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.66, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:47] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.309, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.397, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.48, 'infer_time': 0.079, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何评估一个创业创新想法的市场权利'}]}, {'role': 'assistant', 'content': '评估市场潜力需调研目标用户和竞争情况。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:47] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 12.563, 'turn': 1, 'state': 'LISTEN', 'content': '嗯原来如此'}}
[2025-11-19 03:50:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.629, 'infer_time': 0.145, 'content': '了解市场是创业成功的关键一步。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '如何评估一个创业创新想法的市场权利'}]}, {'role': 'assistant', 'content': '评估市场潜力需调研目标用户和竞争情况。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:48] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.874, 'infer_time': 0.24, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 03:50:48] 收到 tts_done, timestamp=12.874s
[2025-11-19 03:50:48] 在 12.87s 插入 TTS（3.04s）
[2025-11-19 03:50:56] 音频发送完毕，用时 21.71s
[2025-11-19 03:50:56] WebSocket 已关闭，结束接收循环
[2025-11-19 03:50:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0018_output.wav，时长 21.26s
[2025-11-19 03:50:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0018_output.wav
[2025-11-19 03:50:56] 处理完成: 0002_0018.wav
[2025-11-19 03:50:56] -----------------------------------
[2025-11-19 03:50:56] 开始处理文件: 0002_0024.wav
[2025-11-19 03:50:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:50:56] 初始化输出 buffer，总时长 18.58s（297282 samples）
[2025-11-19 03:50:56] 开始发送 0002_0024.wav，总帧 1162，时长 18.58s
[2025-11-19 03:50:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:50:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.734, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.384, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.477, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.663, 'infer_time': 0.182, 'content': '任务分类有紧急重要、重要不紧急等类型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.671, 'turn': 0, 'state': 'LISTEN', 'content': '任务分类有哪些常见的类型'}}
[2025-11-19 03:51:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.981, 'infer_time': 0.313, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:01] 收到 tts_done, timestamp=3.981s
[2025-11-19 03:51:01] 在 3.98s 插入 TTS（4.11s）
[2025-11-19 03:51:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.961}}
[2025-11-19 03:51:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.833, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.568, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:06] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.569, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:15] 音频发送完毕，用时 18.96s
[2025-11-19 03:51:15] WebSocket 已关闭，结束接收循环
[2025-11-19 03:51:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0024_output.wav，时长 18.58s
[2025-11-19 03:51:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0024_output.wav
[2025-11-19 03:51:15] 处理完成: 0002_0024.wav
[2025-11-19 03:51:15] -----------------------------------
[2025-11-19 03:51:15] 开始处理文件: 0002_0032.wav
[2025-11-19 03:51:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:51:15] 初始化输出 buffer，总时长 18.78s（300480 samples）
[2025-11-19 03:51:15] 开始发送 0002_0032.wav，总帧 1174，时长 18.78s
[2025-11-19 03:51:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.111, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.018, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.668, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.762, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.881, 'turn': 0, 'state': 'LISTEN', 'content': '你的家乡学校有什么特别的教学特色吗'}}
[2025-11-19 03:51:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.951, 'infer_time': 0.184, 'content': '我们学校注重实践教学，特色是项目式学习。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.305, 'infer_time': 0.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:20] 收到 tts_done, timestamp=4.305s
[2025-11-19 03:51:20] 在 4.30s 插入 TTS（4.55s）
[2025-11-19 03:51:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.379}}
[2025-11-19 03:51:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.047, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.775, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:25] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.776, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:35] 音频发送完毕，用时 19.18s
[2025-11-19 03:51:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:51:35] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0032_output.wav，时长 18.78s
[2025-11-19 03:51:35] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0032_output.wav
[2025-11-19 03:51:35] 处理完成: 0002_0032.wav
[2025-11-19 03:51:35] -----------------------------------
[2025-11-19 03:51:35] 开始处理文件: 0002_0034.wav
[2025-11-19 03:51:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:51:35] 初始化输出 buffer，总时长 18.20s（291200 samples）
[2025-11-19 03:51:35] 开始发送 0002_0034.wav，总帧 1138，时长 18.20s
[2025-11-19 03:51:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.472, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.123, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.215, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.395, 'turn': 0, 'state': 'LISTEN', 'content': '怎样教小朋友唱儿歌更有趣'}}
[2025-11-19 03:51:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.412, 'infer_time': 0.193, 'content': '可以加入动作和道具，让小朋友边唱边玩。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.719, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:38] 收到 tts_done, timestamp=3.719s
[2025-11-19 03:51:38] 在 3.72s 插入 TTS（4.07s）
[2025-11-19 03:51:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.802}}
[2025-11-19 03:51:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.435, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.162, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:44] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.162, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:51:53] 音频发送完毕，用时 18.57s
[2025-11-19 03:51:53] WebSocket 已关闭，结束接收循环
[2025-11-19 03:51:53] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0002_0034_output.wav，时长 18.20s
[2025-11-19 03:51:53] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0002_0034_output.wav
[2025-11-19 03:51:53] 处理完成: 0002_0034.wav
[2025-11-19 03:51:53] -----------------------------------
[2025-11-19 03:51:53] 开始处理文件: 0003_0003.wav
[2025-11-19 03:51:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:51:53] 初始化输出 buffer，总时长 19.14s（306240 samples）
[2025-11-19 03:51:53] 开始发送 0003_0003.wav，总帧 1197，时长 19.14s
[2025-11-19 03:51:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.903, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.998, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.117, 'turn': 0, 'state': 'LISTEN', 'content': '北京现行政策具体是怎么规定的'}}
[2025-11-19 03:51:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.205, 'infer_time': 0.204, 'content': '北京限行政策按车牌尾号单双号限行。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.513, 'infer_time': 0.303, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:51:58] 收到 tts_done, timestamp=4.513s
[2025-11-19 03:51:58] 在 4.51s 插入 TTS（3.94s）
[2025-11-19 03:52:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.68}}
[2025-11-19 03:52:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.489, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.221, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:04] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.221, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:13] 音频发送完毕，用时 19.57s
[2025-11-19 03:52:13] WebSocket 已关闭，结束接收循环
[2025-11-19 03:52:13] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0003_output.wav，时长 19.14s
[2025-11-19 03:52:13] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0003_output.wav
[2025-11-19 03:52:13] 处理完成: 0003_0003.wav
[2025-11-19 03:52:13] -----------------------------------
[2025-11-19 03:52:13] 开始处理文件: 0003_0008.wav
[2025-11-19 03:52:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:52:13] 初始化输出 buffer，总时长 19.45s（311200 samples）
[2025-11-19 03:52:13] 开始发送 0003_0008.wav，总帧 1216，时长 19.45s
[2025-11-19 03:52:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.766, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.418, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.514, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.703, 'infer_time': 0.185, 'content': '数字艺术依赖技术创作，传统艺术强调手工技艺。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.709, 'turn': 0, 'state': 'LISTEN', 'content': '数字艺术和传统艺术的主要区别是什么'}}
[2025-11-19 03:52:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.061, 'infer_time': 0.352, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:18] 收到 tts_done, timestamp=5.061s
[2025-11-19 03:52:18] 在 5.06s 插入 TTS（4.71s）
[2025-11-19 03:52:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.1}}
[2025-11-19 03:52:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.804, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.533, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:23] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.534, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:33] 音频发送完毕，用时 19.92s
[2025-11-19 03:52:33] WebSocket 已关闭，结束接收循环
[2025-11-19 03:52:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0008_output.wav，时长 19.45s
[2025-11-19 03:52:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0008_output.wav
[2025-11-19 03:52:33] 处理完成: 0003_0008.wav
[2025-11-19 03:52:33] -----------------------------------
[2025-11-19 03:52:33] 开始处理文件: 0003_0009.wav
[2025-11-19 03:52:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:52:33] 初始化输出 buffer，总时长 19.63s（314080 samples）
[2025-11-19 03:52:33] 开始发送 0003_0009.wav，总帧 1227，时长 19.63s
[2025-11-19 03:52:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.96, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.613, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.71, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.859, 'turn': 0, 'state': 'LISTEN', 'content': '失恋后感觉特别痛苦该怎么摸走出来'}}
[2025-11-19 03:52:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.862, 'infer_time': 0.147, 'content': '允许自己悲伤，慢慢重建生活。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.131, 'infer_time': 0.266, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:38] 收到 tts_done, timestamp=5.131s
[2025-11-19 03:52:38] 在 5.13s 插入 TTS（3.39s）
[2025-11-19 03:52:42] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.197}}
[2025-11-19 03:52:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.999, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.734, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:44] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.735, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:52:53] 音频发送完毕，用时 20.08s
[2025-11-19 03:52:53] WebSocket 已关闭，结束接收循环
[2025-11-19 03:52:53] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0009_output.wav，时长 19.63s
[2025-11-19 03:52:53] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0009_output.wav
[2025-11-19 03:52:53] 处理完成: 0003_0009.wav
[2025-11-19 03:52:53] -----------------------------------
[2025-11-19 03:52:53] 开始处理文件: 0003_0011.wav
[2025-11-19 03:52:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:52:53] 初始化输出 buffer，总时长 19.67s（314720 samples）
[2025-11-19 03:52:53] 开始发送 0003_0011.wav，总帧 1230，时长 19.67s
[2025-11-19 03:52:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.008, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.657, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.754, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.954, 'turn': 0, 'state': 'LISTEN', 'content': '如何进行有效的深呼吸练习来缓解压力'}}
[2025-11-19 03:52:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.084, 'infer_time': 0.326, 'content': '找安静地方，吸气4秒，屏息7秒，呼气8秒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.491, 'infer_time': 0.4, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:52:58] 收到 tts_done, timestamp=5.491s
[2025-11-19 03:52:58] 在 5.49s 插入 TTS（5.30s）
[2025-11-19 03:53:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.306}}
[2025-11-19 03:53:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.011, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.742, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:04] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.742, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:13] 音频发送完毕，用时 20.16s
[2025-11-19 03:53:13] WebSocket 已关闭，结束接收循环
[2025-11-19 03:53:13] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0011_output.wav，时长 19.67s
[2025-11-19 03:53:13] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0011_output.wav
[2025-11-19 03:53:13] 处理完成: 0003_0011.wav
[2025-11-19 03:53:13] -----------------------------------
[2025-11-19 03:53:13] 开始处理文件: 0003_0014.wav
[2025-11-19 03:53:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:53:13] 初始化输出 buffer，总时长 18.86s（301761 samples）
[2025-11-19 03:53:13] 开始发送 0003_0014.wav，总帧 1179，时长 18.86s
[2025-11-19 03:53:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.222, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.871, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.969, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.1, 'turn': 0, 'state': 'LISTEN', 'content': '景泰蓝制作的关键步骤有哪些'}}
[2025-11-19 03:53:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.223, 'infer_time': 0.249, 'content': '景泰蓝制作关键步骤有制胎掐丝点蓝烧蓝打磨抛光。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.655, 'infer_time': 0.428, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:18] 收到 tts_done, timestamp=4.655s
[2025-11-19 03:53:18] 在 4.66s 插入 TTS（5.68s）
[2025-11-19 03:53:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.357}}
[2025-11-19 03:53:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.127, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.859, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:23] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.86, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:32] 音频发送完毕，用时 19.27s
[2025-11-19 03:53:32] WebSocket 已关闭，结束接收循环
[2025-11-19 03:53:32] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0014_output.wav，时长 18.86s
[2025-11-19 03:53:32] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0014_output.wav
[2025-11-19 03:53:32] 处理完成: 0003_0014.wav
[2025-11-19 03:53:32] -----------------------------------
[2025-11-19 03:53:32] 开始处理文件: 0003_0017.wav
[2025-11-19 03:53:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:53:32] 初始化输出 buffer，总时长 18.84s（301441 samples）
[2025-11-19 03:53:32] 开始发送 0003_0017.wav，总帧 1178，时长 18.84s
[2025-11-19 03:53:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.983, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.631, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.729, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.881, 'turn': 0, 'state': 'LISTEN', 'content': '投资失败后应该如何调整心态'}}
[2025-11-19 03:53:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.888, 'infer_time': 0.155, 'content': '接受损失，总结经验，保持信心。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.134, 'infer_time': 0.242, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:37] 收到 tts_done, timestamp=4.134s
[2025-11-19 03:53:37] 在 4.13s 插入 TTS（3.04s）
[2025-11-19 03:53:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.309}}
[2025-11-19 03:53:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.116, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.849, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:42] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.849, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:53:52] 音频发送完毕，用时 19.24s
[2025-11-19 03:53:52] WebSocket 已关闭，结束接收循环
[2025-11-19 03:53:52] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0017_output.wav，时长 18.84s
[2025-11-19 03:53:52] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0017_output.wav
[2025-11-19 03:53:52] 处理完成: 0003_0017.wav
[2025-11-19 03:53:52] -----------------------------------
[2025-11-19 03:53:52] 开始处理文件: 0003_0030.wav
[2025-11-19 03:53:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:53:52] 初始化输出 buffer，总时长 21.82s（349120 samples）
[2025-11-19 03:53:52] 开始发送 0003_0030.wav，总帧 1364，时长 21.82s
[2025-11-19 03:53:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.1, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.742, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.841, 'infer_time': 0.096, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.839, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.489, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.587, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.753, 'infer_time': 0.162, 'content': '多模态大模型是最新突破。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.806, 'turn': 0, 'state': 'LISTEN', 'content': '人工智能领域最近有哪些突破性的创新发明'}}
[2025-11-19 03:53:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.969, 'infer_time': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:53:59] 收到 tts_done, timestamp=6.969s
[2025-11-19 03:53:59] 在 6.97s 插入 TTS（2.47s）
[2025-11-19 03:54:03] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.0}}
[2025-11-19 03:54:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.398, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.273, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.005, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:05] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 13.005, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:14] 音频发送完毕，用时 22.37s
[2025-11-19 03:54:14] WebSocket 已关闭，结束接收循环
[2025-11-19 03:54:14] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0003_0030_output.wav，时长 21.82s
[2025-11-19 03:54:14] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0003_0030_output.wav
[2025-11-19 03:54:14] 处理完成: 0003_0030.wav
[2025-11-19 03:54:14] -----------------------------------
[2025-11-19 03:54:14] 开始处理文件: 0004_0004.wav
[2025-11-19 03:54:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:54:14] 初始化输出 buffer，总时长 20.40s（326398 samples）
[2025-11-19 03:54:14] 开始发送 0004_0004.wav，总帧 1275，时长 20.40s
[2025-11-19 03:54:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.94, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.582, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.679, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.85, 'infer_time': 0.166, 'content': '关闭非必要权限，定期清理APP数据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.913, 'turn': 0, 'state': 'LISTEN', 'content': '如何保护个人隐私数据库被手机 app 刻度收集'}}
[2025-11-19 03:54:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.132, 'infer_time': 0.277, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:20] 收到 tts_done, timestamp=6.132s
[2025-11-19 03:54:20] 在 6.13s 插入 TTS（3.64s）
[2025-11-19 03:54:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.234}}
[2025-11-19 03:54:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.975, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.708, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:26] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.708, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:35] 音频发送完毕，用时 21.02s
[2025-11-19 03:54:35] WebSocket 已关闭，结束接收循环
[2025-11-19 03:54:35] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0004_output.wav，时长 20.40s
[2025-11-19 03:54:35] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0004_output.wav
[2025-11-19 03:54:35] 处理完成: 0004_0004.wav
[2025-11-19 03:54:35] -----------------------------------
[2025-11-19 03:54:35] 开始处理文件: 0004_0006.wav
[2025-11-19 03:54:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:54:35] 初始化输出 buffer，总时长 19.41s（310559 samples）
[2025-11-19 03:54:35] 开始发送 0004_0006.wav，总帧 1214，时长 19.41s
[2025-11-19 03:54:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.411, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.054, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.149, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.271, 'turn': 0, 'state': 'LISTEN', 'content': '在市中心找停车位有什么技巧吗'}}
[2025-11-19 03:54:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.352, 'infer_time': 0.2, 'content': '市中心停车确实难，建议用导航软件实时查车位。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.702, 'infer_time': 0.345, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:40] 收到 tts_done, timestamp=4.702s
[2025-11-19 03:54:40] 在 4.70s 插入 TTS（4.49s）
[2025-11-19 03:54:44] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.66}}
[2025-11-19 03:54:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.202, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.813, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.547, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:46] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.547, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:54:55] 音频发送完毕，用时 19.97s
[2025-11-19 03:54:55] WebSocket 已关闭，结束接收循环
[2025-11-19 03:54:55] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0006_output.wav，时长 19.41s
[2025-11-19 03:54:55] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0006_output.wav
[2025-11-19 03:54:55] 处理完成: 0004_0006.wav
[2025-11-19 03:54:55] -----------------------------------
[2025-11-19 03:54:55] 开始处理文件: 0004_0008.wav
[2025-11-19 03:54:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:54:55] 初始化输出 buffer，总时长 20.93s（334879 samples）
[2025-11-19 03:54:55] 开始发送 0004_0008.wav，总帧 1309，时长 20.93s
[2025-11-19 03:54:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:54:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.489, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.597, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.338, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.511, 'infer_time': 0.169, 'content': '通过声纹特征和机器学习模型识别。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.561, 'turn': 0, 'state': 'LISTEN', 'content': '语音助手是如何识别不同用户的声纹的'}}
[2025-11-19 03:55:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.791, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:01] 收到 tts_done, timestamp=5.791s
[2025-11-19 03:55:01] 在 5.79s 插入 TTS（3.43s）
[2025-11-19 03:55:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.499}}
[2025-11-19 03:55:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.516, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.249, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:07] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 12.249, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:17] 音频发送完毕，用时 21.61s
[2025-11-19 03:55:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:55:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0008_output.wav，时长 20.93s
[2025-11-19 03:55:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0008_output.wav
[2025-11-19 03:55:17] 处理完成: 0004_0008.wav
[2025-11-19 03:55:17] -----------------------------------
[2025-11-19 03:55:17] 开始处理文件: 0004_0014.wav
[2025-11-19 03:55:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:55:17] 初始化输出 buffer，总时长 18.93s（302881 samples）
[2025-11-19 03:55:17] 开始发送 0004_0014.wav，总帧 1184，时长 18.93s
[2025-11-19 03:55:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.035, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.677, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.772, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.883, 'turn': 0, 'state': 'LISTEN', 'content': '怎样教孩子唱儿歌更有趣'}}
[2025-11-19 03:55:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.962, 'infer_time': 0.185, 'content': '可以加入动作和道具，让孩子边玩边唱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.255, 'infer_time': 0.288, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:21] 收到 tts_done, timestamp=4.255s
[2025-11-19 03:55:21] 在 4.25s 插入 TTS（3.66s）
[2025-11-19 03:55:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.418}}
[2025-11-19 03:55:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.432, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.161, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:27] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.162, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:36] 音频发送完毕，用时 19.47s
[2025-11-19 03:55:36] WebSocket 已关闭，结束接收循环
[2025-11-19 03:55:36] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0014_output.wav，时长 18.93s
[2025-11-19 03:55:36] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0014_output.wav
[2025-11-19 03:55:36] 处理完成: 0004_0014.wav
[2025-11-19 03:55:36] -----------------------------------
[2025-11-19 03:55:36] 开始处理文件: 0004_0016.wav
[2025-11-19 03:55:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:55:36] 初始化输出 buffer，总时长 19.99s（319840 samples）
[2025-11-19 03:55:36] 开始发送 0004_0016.wav，总帧 1250，时长 19.99s
[2025-11-19 03:55:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.662, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.361, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.005, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.109, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.32, 'infer_time': 0.206, 'content': '查看商品详情页或店铺首页，常有隐藏优惠券。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.327, 'turn': 0, 'state': 'LISTEN', 'content': '网购时怎样才能找到隐藏的优惠券'}}
[2025-11-19 03:55:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.656, 'infer_time': 0.331, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:55:42] 收到 tts_done, timestamp=5.656s
[2025-11-19 03:55:42] 在 5.66s 插入 TTS（4.22s）
[2025-11-19 03:55:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.649}}
[2025-11-19 03:55:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.527, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.26, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:47] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.261, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:55:57] 音频发送完毕，用时 20.60s
[2025-11-19 03:55:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:55:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0016_output.wav，时长 19.99s
[2025-11-19 03:55:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0016_output.wav
[2025-11-19 03:55:57] 处理完成: 0004_0016.wav
[2025-11-19 03:55:57] -----------------------------------
[2025-11-19 03:55:57] 开始处理文件: 0004_0027.wav
[2025-11-19 03:55:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:55:57] 初始化输出 buffer，总时长 19.62s（313920 samples）
[2025-11-19 03:55:57] 开始发送 0004_0027.wav，总帧 1227，时长 19.62s
[2025-11-19 03:55:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.749, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.39, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.488, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.637, 'turn': 0, 'state': 'LISTEN', 'content': '虚拟偶像和传统偶像有什么区别'}}
[2025-11-19 03:56:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.678, 'infer_time': 0.185, 'content': '虚拟偶像靠技术呈现，传统偶像真人出镜。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.007, 'infer_time': 0.323, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:02] 收到 tts_done, timestamp=5.007s
[2025-11-19 03:56:02] 在 5.01s 插入 TTS（4.39s）
[2025-11-19 03:56:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.228}}
[2025-11-19 03:56:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.142, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.875, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:08] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.876, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:17] 音频发送完毕，用时 20.22s
[2025-11-19 03:56:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:56:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0027_output.wav，时长 19.62s
[2025-11-19 03:56:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0027_output.wav
[2025-11-19 03:56:17] 处理完成: 0004_0027.wav
[2025-11-19 03:56:17] -----------------------------------
[2025-11-19 03:56:17] 开始处理文件: 0004_0031.wav
[2025-11-19 03:56:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:56:17] 初始化输出 buffer，总时长 19.49s（311841 samples）
[2025-11-19 03:56:17] 开始发送 0004_0031.wav，总帧 1219，时长 19.49s
[2025-11-19 03:56:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.477, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.119, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.214, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.375, 'infer_time': 0.157, 'content': '我们学校有机器人和编程特色课程。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.406, 'turn': 0, 'state': 'LISTEN', 'content': '你的家乡学校有什么特色课程吗'}}
[2025-11-19 03:56:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.628, 'infer_time': 0.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:22] 收到 tts_done, timestamp=4.628s
[2025-11-19 03:56:22] 在 4.63s 插入 TTS（3.22s）
[2025-11-19 03:56:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.925}}
[2025-11-19 03:56:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.974, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.883, 'infer_time': 0.256, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:28] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.884, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:37] 音频发送完毕，用时 20.09s
[2025-11-19 03:56:37] WebSocket 已关闭，结束接收循环
[2025-11-19 03:56:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0004_0031_output.wav，时长 19.49s
[2025-11-19 03:56:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0004_0031_output.wav
[2025-11-19 03:56:37] 处理完成: 0004_0031.wav
[2025-11-19 03:56:37] -----------------------------------
[2025-11-19 03:56:37] 开始处理文件: 0005_0003.wav
[2025-11-19 03:56:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:56:37] 初始化输出 buffer，总时长 18.90s（302401 samples）
[2025-11-19 03:56:37] 开始发送 0005_0003.wav，总帧 1182，时长 18.90s
[2025-11-19 03:56:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.762, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.402, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.493, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.641, 'turn': 0, 'state': 'LISTEN', 'content': '快速网点一般提供哪些服务'}}
[2025-11-19 03:56:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.694, 'infer_time': 0.197, 'content': '快速网点通常提供存取款、转账和缴费等服务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.027, 'infer_time': 0.328, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:56:41] 收到 tts_done, timestamp=4.027s
[2025-11-19 03:56:41] 在 4.03s 插入 TTS（4.49s）
[2025-11-19 03:56:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.258}}
[2025-11-19 03:56:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.243, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.975, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:47] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.975, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:56:56] 音频发送完毕，用时 19.44s
[2025-11-19 03:56:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:56:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0003_output.wav，时长 18.90s
[2025-11-19 03:56:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0003_output.wav
[2025-11-19 03:56:57] 处理完成: 0005_0003.wav
[2025-11-19 03:56:57] -----------------------------------
[2025-11-19 03:56:57] 开始处理文件: 0005_0006.wav
[2025-11-19 03:56:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:56:57] 初始化输出 buffer，总时长 19.84s（317439 samples）
[2025-11-19 03:56:57] 开始发送 0005_0006.wav，总帧 1240，时长 19.84s
[2025-11-19 03:56:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.441, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.083, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.181, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.345, 'turn': 0, 'state': 'LISTEN', 'content': '拍摄夜景照片时需要注意哪些技巧'}}
[2025-11-19 03:57:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.389, 'infer_time': 0.203, 'content': '使用三脚架，调低ISO，长曝光是关键。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.677, 'infer_time': 0.283, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:01] 收到 tts_done, timestamp=4.677s
[2025-11-19 03:57:01] 在 4.68s 插入 TTS（3.77s）
[2025-11-19 03:57:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.872}}
[2025-11-19 03:57:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.263, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.997, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:08] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.998, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:17] 音频发送完毕，用时 20.42s
[2025-11-19 03:57:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:57:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0006_output.wav，时长 19.84s
[2025-11-19 03:57:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0006_output.wav
[2025-11-19 03:57:17] 处理完成: 0005_0006.wav
[2025-11-19 03:57:17] -----------------------------------
[2025-11-19 03:57:17] 开始处理文件: 0005_0016.wav
[2025-11-19 03:57:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:57:17] 初始化输出 buffer，总时长 20.25s（324000 samples）
[2025-11-19 03:57:17] 开始发送 0005_0016.wav，总帧 1266，时长 20.25s
[2025-11-19 03:57:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.987, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.643, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.743, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.888, 'infer_time': 0.141, 'content': '基础设施和交通发展最明显。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.963, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得这些年家乡变化最大的是什么'}}
[2025-11-19 03:57:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.103, 'infer_time': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:22] 收到 tts_done, timestamp=5.103s
[2025-11-19 03:57:22] 在 5.10s 插入 TTS（2.63s）
[2025-11-19 03:57:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.464}}
[2025-11-19 03:57:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.649, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.387, 'infer_time': 0.084, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:28] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.387, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:38] 音频发送完毕，用时 20.86s
[2025-11-19 03:57:38] WebSocket 已关闭，结束接收循环
[2025-11-19 03:57:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0016_output.wav，时长 20.25s
[2025-11-19 03:57:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0016_output.wav
[2025-11-19 03:57:38] 处理完成: 0005_0016.wav
[2025-11-19 03:57:38] -----------------------------------
[2025-11-19 03:57:38] 开始处理文件: 0005_0020.wav
[2025-11-19 03:57:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:57:38] 初始化输出 buffer，总时长 19.84s（317442 samples）
[2025-11-19 03:57:38] 开始发送 0005_0020.wav，总帧 1241，时长 19.84s
[2025-11-19 03:57:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.163, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.733, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.389, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.484, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.626, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些快递公司的物流速度特别快'}}
[2025-11-19 03:57:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.668, 'infer_time': 0.181, 'content': '因为它们有高效的分拣系统和运输网络。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.957, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:57:43] 收到 tts_done, timestamp=4.957s
[2025-11-19 03:57:43] 在 4.96s 插入 TTS（3.70s）
[2025-11-19 03:57:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.16}}
[2025-11-19 03:57:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.11, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.845, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:49] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.846, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:57:58] 音频发送完毕，用时 20.42s
[2025-11-19 03:57:58] WebSocket 已关闭，结束接收循环
[2025-11-19 03:57:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0020_output.wav，时长 19.84s
[2025-11-19 03:57:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0020_output.wav
[2025-11-19 03:57:58] 处理完成: 0005_0020.wav
[2025-11-19 03:57:58] -----------------------------------
[2025-11-19 03:57:58] 开始处理文件: 0005_0021.wav
[2025-11-19 03:57:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:57:58] 初始化输出 buffer，总时长 19.25s（308001 samples）
[2025-11-19 03:57:58] 开始发送 0005_0021.wav，总帧 1204，时长 19.25s
[2025-11-19 03:57:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.122, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.778, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.875, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.033, 'infer_time': 0.155, 'content': '警惕陌生链接和索要信息的行为。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.054, 'turn': 0, 'state': 'LISTEN', 'content': '如何识别网络诈骗的常见手段'}}
[2025-11-19 03:58:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.261, 'infer_time': 0.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:03] 收到 tts_done, timestamp=4.261s
[2025-11-19 03:58:03] 在 4.26s 插入 TTS（2.87s）
[2025-11-19 03:58:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.657}}
[2025-11-19 03:58:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.537, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.272, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:09] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.272, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:18] 音频发送完毕，用时 19.77s
[2025-11-19 03:58:18] WebSocket 已关闭，结束接收循环
[2025-11-19 03:58:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0021_output.wav，时长 19.25s
[2025-11-19 03:58:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0021_output.wav
[2025-11-19 03:58:18] 处理完成: 0005_0021.wav
[2025-11-19 03:58:18] -----------------------------------
[2025-11-19 03:58:18] 开始处理文件: 0005_0028.wav
[2025-11-19 03:58:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:58:18] 初始化输出 buffer，总时长 18.48s（295680 samples）
[2025-11-19 03:58:18] 开始发送 0005_0028.wav，总帧 1155，时长 18.48s
[2025-11-19 03:58:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.196, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.814, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.455, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.551, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.673, 'turn': 0, 'state': 'LISTEN', 'content': '双十一购物节怎么买最划算'}}
[2025-11-19 03:58:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.741, 'infer_time': 0.187, 'content': '提前加购，凑满减再下单最划算。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.999, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:22] 收到 tts_done, timestamp=3.999s
[2025-11-19 03:58:22] 在 4.00s 插入 TTS（3.31s）
[2025-11-19 03:58:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.28}}
[2025-11-19 03:58:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.752, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.479, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:28] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.479, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:37] 音频发送完毕，用时 18.94s
[2025-11-19 03:58:37] WebSocket 已关闭，结束接收循环
[2025-11-19 03:58:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0028_output.wav，时长 18.48s
[2025-11-19 03:58:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0028_output.wav
[2025-11-19 03:58:37] 处理完成: 0005_0028.wav
[2025-11-19 03:58:37] -----------------------------------
[2025-11-19 03:58:37] 开始处理文件: 0005_0032.wav
[2025-11-19 03:58:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:58:37] 初始化输出 buffer，总时长 19.75s（316000 samples）
[2025-11-19 03:58:37] 开始发送 0005_0032.wav，总帧 1235，时长 19.75s
[2025-11-19 03:58:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.982, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.622, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.719, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.893, 'infer_time': 0.17, 'content': '增加绿化能改善空气质量，降低噪音污染。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.926, 'turn': 0, 'state': 'LISTEN', 'content': '同时增加绿化面积有哪些具体好处'}}
[2025-11-19 03:58:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.232, 'infer_time': 0.335, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:58:42] 收到 tts_done, timestamp=5.232s
[2025-11-19 03:58:42] 在 5.23s 插入 TTS（4.29s）
[2025-11-19 03:58:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.367}}
[2025-11-19 03:58:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.112, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.978, 'infer_time': 0.214, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:48] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.979, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:58:57] 音频发送完毕，用时 20.32s
[2025-11-19 03:58:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:58:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0005_0032_output.wav，时长 19.75s
[2025-11-19 03:58:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0005_0032_output.wav
[2025-11-19 03:58:57] 处理完成: 0005_0032.wav
[2025-11-19 03:58:57] -----------------------------------
[2025-11-19 03:58:57] 开始处理文件: 0006_0001.wav
[2025-11-19 03:58:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:58:57] 初始化输出 buffer，总时长 19.41s（310560 samples）
[2025-11-19 03:58:57] 开始发送 0006_0001.wav，总帧 1214，时长 19.41s
[2025-11-19 03:58:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.556, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.302, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.471, 'turn': 0, 'state': 'LISTEN', 'content': '网购时有哪些实用的比价技巧'}}
[2025-11-19 03:59:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.48, 'infer_time': 0.173, 'content': '用比价网站，关注优惠券和运费。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.731, 'infer_time': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:02] 收到 tts_done, timestamp=4.731s
[2025-11-19 03:59:02] 在 4.73s 插入 TTS（3.18s）
[2025-11-19 03:59:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.896}}
[2025-11-19 03:59:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.739, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.472, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:08] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.473, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:17] 音频发送完毕，用时 19.87s
[2025-11-19 03:59:17] WebSocket 已关闭，结束接收循环
[2025-11-19 03:59:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0001_output.wav，时长 19.41s
[2025-11-19 03:59:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0001_output.wav
[2025-11-19 03:59:17] 处理完成: 0006_0001.wav
[2025-11-19 03:59:17] -----------------------------------
[2025-11-19 03:59:17] 开始处理文件: 0006_0004.wav
[2025-11-19 03:59:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:59:17] 初始化输出 buffer，总时长 20.77s（332322 samples）
[2025-11-19 03:59:17] 开始发送 0006_0004.wav，总帧 1299，时长 20.77s
[2025-11-19 03:59:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.819, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.854, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.956, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.152, 'infer_time': 0.192, 'content': '建议先看商场促销，再挑百搭款。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.16, 'turn': 0, 'state': 'LISTEN', 'content': '周末想去商场买些换季衣服有什么购物建议吗'}}
[2025-11-19 03:59:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.411, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:24] 收到 tts_done, timestamp=6.411s
[2025-11-19 03:59:24] 在 6.41s 插入 TTS（3.24s）
[2025-11-19 03:59:28] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.601}}
[2025-11-19 03:59:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.17, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.904, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:29] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.904, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:38] 音频发送完毕，用时 21.28s
[2025-11-19 03:59:38] WebSocket 已关闭，结束接收循环
[2025-11-19 03:59:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0004_output.wav，时长 20.77s
[2025-11-19 03:59:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0004_output.wav
[2025-11-19 03:59:39] 处理完成: 0006_0004.wav
[2025-11-19 03:59:39] -----------------------------------
[2025-11-19 03:59:39] 开始处理文件: 0006_0006.wav
[2025-11-19 03:59:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:59:39] 初始化输出 buffer，总时长 18.40s（294399 samples）
[2025-11-19 03:59:39] 开始发送 0006_0006.wav，总帧 1150，时长 18.40s
[2025-11-19 03:59:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.172, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.745, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.49, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.611, 'turn': 0, 'state': 'LISTEN', 'content': '为什么购物会让人心情变好'}}
[2025-11-19 03:59:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.687, 'infer_time': 0.192, 'content': '购物能刺激大脑释放多巴胺，带来愉悦感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.019, 'infer_time': 0.327, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 03:59:43] 收到 tts_done, timestamp=4.019s
[2025-11-19 03:59:43] 在 4.02s 插入 TTS（4.36s）
[2025-11-19 03:59:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.143}}
[2025-11-19 03:59:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.578, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.31, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:48] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.31, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 03:59:57] 音频发送完毕，用时 18.79s
[2025-11-19 03:59:57] WebSocket 已关闭，结束接收循环
[2025-11-19 03:59:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0006_output.wav，时长 18.40s
[2025-11-19 03:59:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0006_output.wav
[2025-11-19 03:59:57] 处理完成: 0006_0006.wav
[2025-11-19 03:59:57] -----------------------------------
[2025-11-19 03:59:57] 开始处理文件: 0006_0011.wav
[2025-11-19 03:59:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 03:59:57] 初始化输出 buffer，总时长 18.65s（298399 samples）
[2025-11-19 03:59:57] 开始发送 0006_0011.wav，总帧 1166，时长 18.65s
[2025-11-19 03:59:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.022, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.673, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.767, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.95, 'turn': 0, 'state': 'LISTEN', 'content': '毕夜旅行去海边需要注意什么'}}
[2025-11-19 04:00:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.957, 'infer_time': 0.186, 'content': '防晒防中暑，注意安全别下深水。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.232, 'infer_time': 0.271, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:02] 收到 tts_done, timestamp=4.232s
[2025-11-19 04:00:02] 在 4.23s 插入 TTS（3.48s）
[2025-11-19 04:00:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.385}}
[2025-11-19 04:00:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.954, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.683, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:07] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.684, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:16] 音频发送完毕，用时 19.05s
[2025-11-19 04:00:16] WebSocket 已关闭，结束接收循环
[2025-11-19 04:00:16] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0011_output.wav，时长 18.65s
[2025-11-19 04:00:16] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0011_output.wav
[2025-11-19 04:00:16] 处理完成: 0006_0011.wav
[2025-11-19 04:00:16] -----------------------------------
[2025-11-19 04:00:16] 开始处理文件: 0006_0012.wav
[2025-11-19 04:00:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:00:16] 初始化输出 buffer，总时长 20.39s（326240 samples）
[2025-11-19 04:00:16] 开始发送 0006_0012.wav，总帧 1275，时长 20.39s
[2025-11-19 04:00:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.492, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.692, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.342, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.443, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.589, 'infer_time': 0.141, 'content': '淘宝京东唯品会值得推荐', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.611, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几个适合买衣服的购物 app 吗'}}
[2025-11-19 04:00:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.783, 'infer_time': 0.19, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:22] 收到 tts_done, timestamp=5.783s
[2025-11-19 04:00:22] 在 5.78s 插入 TTS（2.40s）
[2025-11-19 04:00:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.132}}
[2025-11-19 04:00:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.668, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.397, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:28] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.398, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:37] 音频发送完毕，用时 20.89s
[2025-11-19 04:00:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:00:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0012_output.wav，时长 20.39s
[2025-11-19 04:00:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0012_output.wav
[2025-11-19 04:00:37] 处理完成: 0006_0012.wav
[2025-11-19 04:00:37] -----------------------------------
[2025-11-19 04:00:37] 开始处理文件: 0006_0025.wav
[2025-11-19 04:00:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:00:37] 初始化输出 buffer，总时长 18.20s（291201 samples）
[2025-11-19 04:00:37] 开始发送 0006_0025.wav，总帧 1138，时长 18.20s
[2025-11-19 04:00:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.653, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.305, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.399, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.57, 'infer_time': 0.167, 'content': '我最喜欢玩跳房子和捉迷藏。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.575, 'turn': 0, 'state': 'LISTEN', 'content': '你小时候最喜欢玩什么游戏'}}
[2025-11-19 04:00:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.767, 'infer_time': 0.192, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:41] 收到 tts_done, timestamp=3.767s
[2025-11-19 04:00:41] 在 3.77s 插入 TTS（2.35s）
[2025-11-19 04:00:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.823}}
[2025-11-19 04:00:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.458, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.186, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:47] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.187, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:00:56] 音频发送完毕，用时 18.59s
[2025-11-19 04:00:56] WebSocket 已关闭，结束接收循环
[2025-11-19 04:00:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0025_output.wav，时长 18.20s
[2025-11-19 04:00:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0025_output.wav
[2025-11-19 04:00:56] 处理完成: 0006_0025.wav
[2025-11-19 04:00:56] -----------------------------------
[2025-11-19 04:00:56] 开始处理文件: 0006_0034.wav
[2025-11-19 04:00:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:00:56] 初始化输出 buffer，总时长 18.65s（298400 samples）
[2025-11-19 04:00:56] 开始发送 0006_0034.wav，总帧 1166，时长 18.65s
[2025-11-19 04:00:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:00:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.097, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.749, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.845, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.974, 'turn': 0, 'state': 'LISTEN', 'content': '枕头高度对睡眠质量有什么影响'}}
[2025-11-19 04:01:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.014, 'infer_time': 0.165, 'content': '枕头过高或过低都会影响颈椎健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.284, 'infer_time': 0.265, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:00] 收到 tts_done, timestamp=4.284s
[2025-11-19 04:01:00] 在 4.28s 插入 TTS（3.52s）
[2025-11-19 04:01:04] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.491}}
[2025-11-19 04:01:05] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.889, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.617, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:06] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.618, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:15] 音频发送完毕，用时 19.05s
[2025-11-19 04:01:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:01:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0006_0034_output.wav，时长 18.65s
[2025-11-19 04:01:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0006_0034_output.wav
[2025-11-19 04:01:15] 处理完成: 0006_0034.wav
[2025-11-19 04:01:15] -----------------------------------
[2025-11-19 04:01:15] 开始处理文件: 0007_0010.wav
[2025-11-19 04:01:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:01:15] 初始化输出 buffer，总时长 19.93s（318879 samples）
[2025-11-19 04:01:15] 开始发送 0007_0010.wav，总帧 1246，时长 19.93s
[2025-11-19 04:01:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.056, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.696, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.795, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.969, 'infer_time': 0.17, 'content': '按区域分类商品，节省时间更高效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.005, 'turn': 0, 'state': 'LISTEN', 'content': '去超市前怎么列购物清单比较高效'}}
[2025-11-19 04:01:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.235, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:20] 收到 tts_done, timestamp=5.235s
[2025-11-19 04:01:20] 在 5.24s 插入 TTS（3.37s）
[2025-11-19 04:01:24] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.351}}
[2025-11-19 04:01:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.399, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.139, 'infer_time': 0.087, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:26] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.14, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:35] 音频发送完毕，用时 20.52s
[2025-11-19 04:01:35] WebSocket 已关闭，结束接收循环
[2025-11-19 04:01:36] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0010_output.wav，时长 19.93s
[2025-11-19 04:01:36] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0010_output.wav
[2025-11-19 04:01:36] 处理完成: 0007_0010.wav
[2025-11-19 04:01:36] -----------------------------------
[2025-11-19 04:01:36] 开始处理文件: 0007_0018.wav
[2025-11-19 04:01:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:01:36] 初始化输出 buffer，总时长 20.11s（321761 samples）
[2025-11-19 04:01:36] 开始发送 0007_0018.wav，总帧 1257，时长 20.11s
[2025-11-19 04:01:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.427, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.081, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.184, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.341, 'turn': 0, 'state': 'LISTEN', 'content': '现在有什么适合上班族的副业推荐吗'}}
[2025-11-19 04:01:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.341, 'infer_time': 0.153, 'content': '可以试试线上兼职或自由职业。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.565, 'infer_time': 0.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:01:41] 收到 tts_done, timestamp=5.565s
[2025-11-19 04:01:41] 在 5.57s 插入 TTS（2.68s）
[2025-11-19 04:01:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.769}}
[2025-11-19 04:01:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.548, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:47] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.282, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:47] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.283, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:01:56] 音频发送完毕，用时 20.70s
[2025-11-19 04:01:56] WebSocket 已关闭，结束接收循环
[2025-11-19 04:01:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0018_output.wav，时长 20.11s
[2025-11-19 04:01:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0018_output.wav
[2025-11-19 04:01:56] 处理完成: 0007_0018.wav
[2025-11-19 04:01:56] -----------------------------------
[2025-11-19 04:01:56] 开始处理文件: 0007_0021.wav
[2025-11-19 04:01:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:01:56] 初始化输出 buffer，总时长 19.66s（314559 samples）
[2025-11-19 04:01:56] 开始发送 0007_0021.wav，总帧 1229，时长 19.66s
[2025-11-19 04:01:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.119, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.773, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.87, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.034, 'infer_time': 0.158, 'content': '完美主义可能引发焦虑和自我怀疑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.075, 'turn': 0, 'state': 'LISTEN', 'content': '完美主义会对心理健康产生什么影响'}}
[2025-11-19 04:02:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.285, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:02] 收到 tts_done, timestamp=5.285s
[2025-11-19 04:02:02] 在 5.29s 插入 TTS（3.04s）
[2025-11-19 04:02:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.382}}
[2025-11-19 04:02:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.091, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.822, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:07] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.822, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:16] 音频发送完毕，用时 20.21s
[2025-11-19 04:02:16] WebSocket 已关闭，结束接收循环
[2025-11-19 04:02:16] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0021_output.wav，时长 19.66s
[2025-11-19 04:02:16] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0021_output.wav
[2025-11-19 04:02:16] 处理完成: 0007_0021.wav
[2025-11-19 04:02:16] -----------------------------------
[2025-11-19 04:02:16] 开始处理文件: 0007_0025.wav
[2025-11-19 04:02:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:02:16] 初始化输出 buffer，总时长 19.49s（311842 samples）
[2025-11-19 04:02:16] 开始发送 0007_0025.wav，总帧 1219，时长 19.49s
[2025-11-19 04:02:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.912, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.009, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.162, 'turn': 0, 'state': 'LISTEN', 'content': '深呼吸对身体有哪些具体好处'}}
[2025-11-19 04:02:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.22, 'infer_time': 0.207, 'content': '深呼吸能减压、助睡眠、提神醒脑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.5, 'infer_time': 0.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:22] 收到 tts_done, timestamp=5.5s
[2025-11-19 04:02:22] 在 5.50s 插入 TTS（3.63s）
[2025-11-19 04:02:26] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.528}}
[2025-11-19 04:02:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.865, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:27] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.596, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:27] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.596, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:37] 音频发送完毕，用时 20.06s
[2025-11-19 04:02:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:02:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0025_output.wav，时长 19.49s
[2025-11-19 04:02:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0025_output.wav
[2025-11-19 04:02:37] 处理完成: 0007_0025.wav
[2025-11-19 04:02:37] -----------------------------------
[2025-11-19 04:02:37] 开始处理文件: 0007_0026.wav
[2025-11-19 04:02:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:02:37] 初始化输出 buffer，总时长 18.74s（299842 samples）
[2025-11-19 04:02:37] 开始发送 0007_0026.wav，总帧 1172，时长 18.74s
[2025-11-19 04:02:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.13, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.371, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.026, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.122, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.298, 'turn': 0, 'state': 'LISTEN', 'content': '白噪音为什么能帮助睡眠'}}
[2025-11-19 04:02:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.315, 'infer_time': 0.189, 'content': '白噪音能屏蔽干扰声，帮助大脑放松入睡。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.614, 'infer_time': 0.294, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:02:41] 收到 tts_done, timestamp=4.614s
[2025-11-19 04:02:41] 在 4.61s 插入 TTS（3.82s）
[2025-11-19 04:02:45] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.73}}
[2025-11-19 04:02:46] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.067, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:46] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.794, 'infer_time': 0.075, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:46] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.795, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:02:56] 音频发送完毕，用时 19.24s
[2025-11-19 04:02:56] WebSocket 已关闭，结束接收循环
[2025-11-19 04:02:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0026_output.wav，时长 18.74s
[2025-11-19 04:02:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0026_output.wav
[2025-11-19 04:02:56] 处理完成: 0007_0026.wav
[2025-11-19 04:02:56] -----------------------------------
[2025-11-19 04:02:56] 开始处理文件: 0007_0032.wav
[2025-11-19 04:02:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:02:56] 初始化输出 buffer，总时长 19.43s（310880 samples）
[2025-11-19 04:02:56] 开始发送 0007_0032.wav，总帧 1215，时长 19.43s
[2025-11-19 04:02:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.02, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.673, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.774, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.927, 'turn': 0, 'state': 'LISTEN', 'content': '为什么指纹解锁有时候会识别失败'}}
[2025-11-19 04:03:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.929, 'infer_time': 0.151, 'content': '指纹磨损或潮湿可能导致识别失败。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.219, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:01] 收到 tts_done, timestamp=5.219s
[2025-11-19 04:03:01] 在 5.22s 插入 TTS（3.70s）
[2025-11-19 04:03:05] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.403}}
[2025-11-19 04:03:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.775, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:06] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.507, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:06] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.507, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:16] 音频发送完毕，用时 19.96s
[2025-11-19 04:03:16] WebSocket 已关闭，结束接收循环
[2025-11-19 04:03:16] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0032_output.wav，时长 19.43s
[2025-11-19 04:03:16] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0032_output.wav
[2025-11-19 04:03:16] 处理完成: 0007_0032.wav
[2025-11-19 04:03:16] -----------------------------------
[2025-11-19 04:03:16] 开始处理文件: 0007_0035.wav
[2025-11-19 04:03:16] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:03:16] 初始化输出 buffer，总时长 18.92s（302720 samples）
[2025-11-19 04:03:16] 开始发送 0007_0035.wav，总帧 1183，时长 18.92s
[2025-11-19 04:03:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.57, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.643, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.381, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.545, 'turn': 0, 'state': 'LISTEN', 'content': '周末逛商场有什么省钱的技巧吗'}}
[2025-11-19 04:03:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.57, 'infer_time': 0.184, 'content': '关注商场会员日，优惠券叠加使用更划算。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.889, 'infer_time': 0.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:21] 收到 tts_done, timestamp=4.889s
[2025-11-19 04:03:21] 在 4.89s 插入 TTS（4.10s）
[2025-11-19 04:03:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.915}}
[2025-11-19 04:03:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.284, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.013, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:26] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.014, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:35] 音频发送完毕，用时 19.42s
[2025-11-19 04:03:35] WebSocket 已关闭，结束接收循环
[2025-11-19 04:03:35] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0007_0035_output.wav，时长 18.92s
[2025-11-19 04:03:35] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0007_0035_output.wav
[2025-11-19 04:03:35] 处理完成: 0007_0035.wav
[2025-11-19 04:03:35] -----------------------------------
[2025-11-19 04:03:35] 开始处理文件: 0008_0003.wav
[2025-11-19 04:03:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:03:35] 初始化输出 buffer，总时长 18.09s（289440 samples）
[2025-11-19 04:03:35] 开始发送 0008_0003.wav，总帧 1131，时长 18.09s
[2025-11-19 04:03:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.577, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.322, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.463, 'turn': 0, 'state': 'LISTEN', 'content': '抢购时如何避免冲动消费'}}
[2025-11-19 04:03:39] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.469, 'infer_time': 0.143, 'content': '制定购物清单，按需购买。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.68, 'infer_time': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:39] 收到 tts_done, timestamp=3.68s
[2025-11-19 04:03:39] 在 3.68s 插入 TTS（2.52s）
[2025-11-19 04:03:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.009}}
[2025-11-19 04:03:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.342, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.222, 'infer_time': 0.229, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:44] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.223, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:03:54] 音频发送完毕，用时 18.45s
[2025-11-19 04:03:54] WebSocket 已关闭，结束接收循环
[2025-11-19 04:03:54] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0003_output.wav，时长 18.09s
[2025-11-19 04:03:54] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0003_output.wav
[2025-11-19 04:03:54] 处理完成: 0008_0003.wav
[2025-11-19 04:03:54] -----------------------------------
[2025-11-19 04:03:54] 开始处理文件: 0008_0008.wav
[2025-11-19 04:03:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:03:54] 初始化输出 buffer，总时长 18.21s（291360 samples）
[2025-11-19 04:03:54] 开始发送 0008_0008.wav，总帧 1139，时长 18.21s
[2025-11-19 04:03:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.789, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.438, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.533, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.646, 'turn': 0, 'state': 'LISTEN', 'content': '恶意剪辑会对社会造成什么影响'}}
[2025-11-19 04:03:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.676, 'infer_time': 0.14, 'content': '误导公众，破坏社会信任。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.902, 'infer_time': 0.221, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:03:58] 收到 tts_done, timestamp=3.902s
[2025-11-19 04:03:58] 在 3.90s 插入 TTS（2.75s）
[2025-11-19 04:04:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.016}}
[2025-11-19 04:04:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.449, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.177, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:03] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.178, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:12] 音频发送完毕，用时 18.57s
[2025-11-19 04:04:12] WebSocket 已关闭，结束接收循环
[2025-11-19 04:04:12] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0008_output.wav，时长 18.21s
[2025-11-19 04:04:12] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0008_output.wav
[2025-11-19 04:04:12] 处理完成: 0008_0008.wav
[2025-11-19 04:04:12] -----------------------------------
[2025-11-19 04:04:12] 开始处理文件: 0008_0009.wav
[2025-11-19 04:04:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:04:12] 初始化输出 buffer，总时长 18.68s（298880 samples）
[2025-11-19 04:04:12] 开始发送 0008_0009.wav，总帧 1168，时长 18.68s
[2025-11-19 04:04:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.834, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.927, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.082, 'turn': 0, 'state': 'LISTEN', 'content': '如何在作中有效优化时间管理'}}
[2025-11-19 04:04:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.098, 'infer_time': 0.166, 'content': '设定优先级，专注任务，减少干扰。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.389, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:17] 收到 tts_done, timestamp=4.389s
[2025-11-19 04:04:17] 在 4.39s 插入 TTS（3.70s）
[2025-11-19 04:04:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.382}}
[2025-11-19 04:04:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.983, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.709, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:22] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.71, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:31] 音频发送完毕，用时 19.08s
[2025-11-19 04:04:31] WebSocket 已关闭，结束接收循环
[2025-11-19 04:04:31] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0009_output.wav，时长 18.68s
[2025-11-19 04:04:31] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0009_output.wav
[2025-11-19 04:04:31] 处理完成: 0008_0009.wav
[2025-11-19 04:04:31] -----------------------------------
[2025-11-19 04:04:31] 开始处理文件: 0008_0018.wav
[2025-11-19 04:04:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:04:31] 初始化输出 buffer，总时长 19.51s（312161 samples）
[2025-11-19 04:04:31] 开始发送 0008_0018.wav，总帧 1220，时长 19.51s
[2025-11-19 04:04:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.664, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:36] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.41, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.572, 'turn': 0, 'state': 'LISTEN', 'content': '调取 pmp 证书对职业发展有什么帮助'}}
[2025-11-19 04:04:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.607, 'infer_time': 0.193, 'content': 'PMP证书能提升项目管理能力，增加职业竞争力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.956, 'infer_time': 0.344, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:36] 收到 tts_done, timestamp=4.956s
[2025-11-19 04:04:36] 在 4.96s 插入 TTS（4.34s）
[2025-11-19 04:04:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.888}}
[2025-11-19 04:04:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.253, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.847, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.582, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:42] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.583, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:04:51] 音频发送完毕，用时 19.94s
[2025-11-19 04:04:51] WebSocket 已关闭，结束接收循环
[2025-11-19 04:04:51] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0018_output.wav，时长 19.51s
[2025-11-19 04:04:51] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0018_output.wav
[2025-11-19 04:04:51] 处理完成: 0008_0018.wav
[2025-11-19 04:04:51] -----------------------------------
[2025-11-19 04:04:51] 开始处理文件: 0008_0019.wav
[2025-11-19 04:04:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:04:51] 初始化输出 buffer，总时长 18.88s（302080 samples）
[2025-11-19 04:04:51] 开始发送 0008_0019.wav，总帧 1180，时长 18.88s
[2025-11-19 04:04:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.359, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.009, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.106, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.269, 'turn': 0, 'state': 'LISTEN', 'content': '企业如何建立有效的风险控制体系'}}
[2025-11-19 04:04:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.307, 'infer_time': 0.197, 'content': '建立风险控制体系需识别、评估并监控各类风险。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.682, 'infer_time': 0.37, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:04:56] 收到 tts_done, timestamp=4.682s
[2025-11-19 04:04:56] 在 4.68s 插入 TTS（4.93s）
[2025-11-19 04:05:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.55}}
[2025-11-19 04:05:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.186, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.08, 'infer_time': 0.243, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:01] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.08, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:11] 音频发送完毕，用时 19.28s
[2025-11-19 04:05:11] WebSocket 已关闭，结束接收循环
[2025-11-19 04:05:11] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0019_output.wav，时长 18.88s
[2025-11-19 04:05:11] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0019_output.wav
[2025-11-19 04:05:11] 处理完成: 0008_0019.wav
[2025-11-19 04:05:11] -----------------------------------
[2025-11-19 04:05:11] 开始处理文件: 0008_0024.wav
[2025-11-19 04:05:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:05:11] 初始化输出 buffer，总时长 18.66s（298560 samples）
[2025-11-19 04:05:11] 开始发送 0008_0024.wav，总帧 1167，时长 18.66s
[2025-11-19 04:05:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.072, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.722, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.814, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.949, 'turn': 0, 'state': 'LISTEN', 'content': '水军刷屏是怎么操作的'}}
[2025-11-19 04:05:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.033, 'infer_time': 0.214, 'content': '水军刷屏是通过大量账号发布重复内容来制造热度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:14] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.404, 'infer_time': 0.365, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:14] 收到 tts_done, timestamp=3.404s
[2025-11-19 04:05:14] 在 3.40s 插入 TTS（4.88s）
[2025-11-19 04:05:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.302}}
[2025-11-19 04:05:19] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 8.817, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.948, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 9.597, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.683, 'infer_time': 0.083, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.765, 'infer_time': 0.079, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '水军刷屏是怎么操作的'}]}, {'role': 'assistant', 'content': '水军刷屏是通过大量账号发布重复内容来制造热度。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 9.917, 'turn': 1, 'state': 'LISTEN', 'content': '对对对对对'}}
[2025-11-19 04:05:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.039, 'infer_time': 0.27, 'content': '您说的对，水军刷屏确实就是通过大量账号发布重复内容来制造热度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '水军刷屏是怎么操作的'}]}, {'role': 'assistant', 'content': '水军刷屏是通过大量账号发布重复内容来制造热度。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 10.56, 'infer_time': 0.514, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:05:21] 收到 tts_done, timestamp=10.56s
[2025-11-19 04:05:21] 在 10.56s 插入 TTS（6.87s）
[2025-11-19 04:05:30] 音频发送完毕，用时 19.07s
[2025-11-19 04:05:30] WebSocket 已关闭，结束接收循环
[2025-11-19 04:05:30] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0024_output.wav，时长 18.66s
[2025-11-19 04:05:30] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0024_output.wav
[2025-11-19 04:05:30] 处理完成: 0008_0024.wav
[2025-11-19 04:05:30] -----------------------------------
[2025-11-19 04:05:30] 开始处理文件: 0008_0035.wav
[2025-11-19 04:05:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:05:30] 初始化输出 buffer，总时长 19.39s（310240 samples）
[2025-11-19 04:05:30] 开始发送 0008_0035.wav，总帧 1212，时长 19.39s
[2025-11-19 04:05:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.423, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.074, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.167, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.308, 'turn': 0, 'state': 'LISTEN', 'content': '电竞比赛中 bp 环节为什么这么重要'}}
[2025-11-19 04:05:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.368, 'infer_time': 0.196, 'content': 'BP环节决定英雄选择，影响团队战术和后期对局', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.733, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:34] 收到 tts_done, timestamp=4.733s
[2025-11-19 04:05:34] 在 4.73s 插入 TTS（5.00s）
[2025-11-19 04:05:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.592}}
[2025-11-19 04:05:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.957, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.851, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.588, 'infer_time': 0.084, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:40] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.588, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:05:49] 音频发送完毕，用时 19.81s
[2025-11-19 04:05:49] WebSocket 已关闭，结束接收循环
[2025-11-19 04:05:49] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0008_0035_output.wav，时长 19.39s
[2025-11-19 04:05:49] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0008_0035_output.wav
[2025-11-19 04:05:49] 处理完成: 0008_0035.wav
[2025-11-19 04:05:49] -----------------------------------
[2025-11-19 04:05:49] 开始处理文件: 0009_0006.wav
[2025-11-19 04:05:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:05:49] 初始化输出 buffer，总时长 21.29s（340638 samples）
[2025-11-19 04:05:49] 开始发送 0009_0006.wav，总帧 1331，时长 21.29s
[2025-11-19 04:05:50] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.958, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.35, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.004, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.109, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.313, 'infer_time': 0.198, 'content': '确实有这个传说，但具体细节因学校而异。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.359, 'turn': 0, 'state': 'LISTEN', 'content': '听说很多学校都有第十三节楼梯的传说能具体讲讲吗'}}
[2025-11-19 04:05:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.635, 'infer_time': 0.318, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:05:56] 收到 tts_done, timestamp=6.635s
[2025-11-19 04:05:56] 在 6.63s 插入 TTS（4.16s）
[2025-11-19 04:06:01] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 11.221}}
[2025-11-19 04:06:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.731, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.467, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:02] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 12.467, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:11] 音频发送完毕，用时 21.95s
[2025-11-19 04:06:11] WebSocket 已关闭，结束接收循环
[2025-11-19 04:06:11] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0006_output.wav，时长 21.29s
[2025-11-19 04:06:11] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0006_output.wav
[2025-11-19 04:06:11] 处理完成: 0009_0006.wav
[2025-11-19 04:06:11] -----------------------------------
[2025-11-19 04:06:11] 开始处理文件: 0009_0007.wav
[2025-11-19 04:06:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:06:11] 初始化输出 buffer，总时长 19.47s（311520 samples）
[2025-11-19 04:06:11] 开始发送 0009_0007.wav，总帧 1217，时长 19.47s
[2025-11-19 04:06:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.547, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.187, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.283, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.407, 'turn': 0, 'state': 'LISTEN', 'content': '智能交通系统如何改善城市拥堵问题'}}
[2025-11-19 04:06:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.461, 'infer_time': 0.173, 'content': '智能系统实时调控信号灯，优化车流。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.719, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:16] 收到 tts_done, timestamp=4.719s
[2025-11-19 04:06:16] 在 4.72s 插入 TTS（3.29s）
[2025-11-19 04:06:21] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.019}}
[2025-11-19 04:06:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.834, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.569, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:22] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.569, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:31] 音频发送完毕，用时 20.02s
[2025-11-19 04:06:31] WebSocket 已关闭，结束接收循环
[2025-11-19 04:06:31] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0007_output.wav，时长 19.47s
[2025-11-19 04:06:31] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0007_output.wav
[2025-11-19 04:06:31] 处理完成: 0009_0007.wav
[2025-11-19 04:06:31] -----------------------------------
[2025-11-19 04:06:31] 开始处理文件: 0009_0009.wav
[2025-11-19 04:06:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:06:31] 初始化输出 buffer，总时长 18.55s（296799 samples）
[2025-11-19 04:06:31] 开始发送 0009_0009.wav，总帧 1160，时长 18.55s
[2025-11-19 04:06:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.835, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.49, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.585, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.762, 'infer_time': 0.173, 'content': '高铁速度快，准点率高，舒适安全。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.774, 'turn': 0, 'state': 'LISTEN', 'content': '乘坐高铁和旅行有哪些优势'}}
[2025-11-19 04:06:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.053, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:36] 收到 tts_done, timestamp=4.053s
[2025-11-19 04:06:36] 在 4.05s 插入 TTS（3.79s）
[2025-11-19 04:06:40] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.185}}
[2025-11-19 04:06:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.794, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.522, 'infer_time': 0.073, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:41] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.522, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:06:51] 音频发送完毕，用时 19.05s
[2025-11-19 04:06:51] WebSocket 已关闭，结束接收循环
[2025-11-19 04:06:51] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0009_output.wav，时长 18.55s
[2025-11-19 04:06:51] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0009_output.wav
[2025-11-19 04:06:51] 处理完成: 0009_0009.wav
[2025-11-19 04:06:51] -----------------------------------
[2025-11-19 04:06:51] 开始处理文件: 0009_0012.wav
[2025-11-19 04:06:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:06:51] 初始化输出 buffer，总时长 19.26s（308162 samples）
[2025-11-19 04:06:51] 开始发送 0009_0012.wav，总帧 1204，时长 19.26s
[2025-11-19 04:06:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.408, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.062, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.308, 'infer_time': 0.242, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.431, 'turn': 0, 'state': 'LISTEN', 'content': '公园改造应该优先考虑哪些方面'}}
[2025-11-19 04:06:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.471, 'infer_time': 0.157, 'content': '安全、生态和市民需求是重点。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.839, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:06:55] 收到 tts_done, timestamp=4.839s
[2025-11-19 04:06:55] 在 4.84s 插入 TTS（4.67s）
[2025-11-19 04:07:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.928}}
[2025-11-19 04:07:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.608, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.336, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:01] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.337, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:10] 音频发送完毕，用时 19.80s
[2025-11-19 04:07:10] WebSocket 已关闭，结束接收循环
[2025-11-19 04:07:10] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0012_output.wav，时长 19.26s
[2025-11-19 04:07:10] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0012_output.wav
[2025-11-19 04:07:10] 处理完成: 0009_0012.wav
[2025-11-19 04:07:10] -----------------------------------
[2025-11-19 04:07:10] 开始处理文件: 0009_0017.wav
[2025-11-19 04:07:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:07:10] 初始化输出 buffer，总时长 19.48s（311680 samples）
[2025-11-19 04:07:10] 开始发送 0009_0017.wav，总帧 1218，时长 19.48s
[2025-11-19 04:07:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.446, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.099, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.194, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.358, 'infer_time': 0.16, 'content': '老屋的木梁藏着祖辈故事', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.397, 'turn': 0, 'state': 'LISTEN', 'content': '你记忆中的家乡老屋有什么特别之处'}}
[2025-11-19 04:07:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.589, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:15] 收到 tts_done, timestamp=4.589s
[2025-11-19 04:07:15] 在 4.59s 插入 TTS（2.81s）
[2025-11-19 04:07:19] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.075}}
[2025-11-19 04:07:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.823, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.558, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:21] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.559, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:30] 音频发送完毕，用时 20.05s
[2025-11-19 04:07:30] WebSocket 已关闭，结束接收循环
[2025-11-19 04:07:30] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0017_output.wav，时长 19.48s
[2025-11-19 04:07:30] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0017_output.wav
[2025-11-19 04:07:30] 处理完成: 0009_0017.wav
[2025-11-19 04:07:30] -----------------------------------
[2025-11-19 04:07:30] 开始处理文件: 0009_0021.wav
[2025-11-19 04:07:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:07:30] 初始化输出 buffer，总时长 18.35s（293600 samples）
[2025-11-19 04:07:30] 开始发送 0009_0021.wav，总帧 1147，时长 18.35s
[2025-11-19 04:07:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.622, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:34] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.267, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.362, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.476, 'turn': 0, 'state': 'LISTEN', 'content': '煎牛排时如何锁住肉汁'}}
[2025-11-19 04:07:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.565, 'infer_time': 0.199, 'content': '高温快煎锁住肉汁，别急着翻面。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.839, 'infer_time': 0.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:34] 收到 tts_done, timestamp=3.839s
[2025-11-19 04:07:34] 在 3.84s 插入 TTS（3.46s）
[2025-11-19 04:07:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.987}}
[2025-11-19 04:07:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.551, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.281, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:40] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.281, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:07:49] 音频发送完毕，用时 18.76s
[2025-11-19 04:07:49] WebSocket 已关闭，结束接收循环
[2025-11-19 04:07:49] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0021_output.wav，时长 18.35s
[2025-11-19 04:07:49] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0021_output.wav
[2025-11-19 04:07:49] 处理完成: 0009_0021.wav
[2025-11-19 04:07:49] -----------------------------------
[2025-11-19 04:07:49] 开始处理文件: 0009_0022.wav
[2025-11-19 04:07:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:07:49] 初始化输出 buffer，总时长 19.36s（309760 samples）
[2025-11-19 04:07:49] 开始发送 0009_0022.wav，总帧 1210，时长 19.36s
[2025-11-19 04:07:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.611, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.264, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.361, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.548, 'infer_time': 0.183, 'content': '威美亚湾和北岸是新手好选择。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.553, 'turn': 0, 'state': 'LISTEN', 'content': '夏威夷有哪些适合新手的冲浪地点'}}
[2025-11-19 04:07:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.792, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:07:54] 收到 tts_done, timestamp=4.792s
[2025-11-19 04:07:54] 在 4.79s 插入 TTS（3.02s）
[2025-11-19 04:07:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.036}}
[2025-11-19 04:07:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.676, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.527, 'infer_time': 0.199, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:00] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.528, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:09] 音频发送完毕，用时 19.87s
[2025-11-19 04:08:09] WebSocket 已关闭，结束接收循环
[2025-11-19 04:08:09] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0009_0022_output.wav，时长 19.36s
[2025-11-19 04:08:09] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0009_0022_output.wav
[2025-11-19 04:08:09] 处理完成: 0009_0022.wav
[2025-11-19 04:08:09] -----------------------------------
[2025-11-19 04:08:09] 开始处理文件: 0010_0002.wav
[2025-11-19 04:08:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:08:09] 初始化输出 buffer，总时长 18.75s（300000 samples）
[2025-11-19 04:08:09] 开始发送 0010_0002.wav，总帧 1172，时长 18.75s
[2025-11-19 04:08:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.504, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.593, 'infer_time': 0.084, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.714, 'turn': 0, 'state': 'LISTEN', 'content': '怎样才能更好的实现储蓄目标'}}
[2025-11-19 04:08:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.769, 'infer_time': 0.171, 'content': '制定预算，自动转账，减少非必要开支。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.072, 'infer_time': 0.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:13] 收到 tts_done, timestamp=4.072s
[2025-11-19 04:08:13] 在 4.07s 插入 TTS（4.04s）
[2025-11-19 04:08:18] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.464}}
[2025-11-19 04:08:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.937, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.667, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:19] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.668, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:28] 音频发送完毕，用时 19.16s
[2025-11-19 04:08:28] WebSocket 已关闭，结束接收循环
[2025-11-19 04:08:28] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0002_output.wav，时长 18.75s
[2025-11-19 04:08:28] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0002_output.wav
[2025-11-19 04:08:28] 处理完成: 0010_0002.wav
[2025-11-19 04:08:28] -----------------------------------
[2025-11-19 04:08:28] 开始处理文件: 0010_0003.wav
[2025-11-19 04:08:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:08:28] 初始化输出 buffer，总时长 19.28s（308480 samples）
[2025-11-19 04:08:28] 开始发送 0010_0003.wav，总帧 1205，时长 19.28s
[2025-11-19 04:08:28] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.634, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.383, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.545, 'infer_time': 0.158, 'content': '匿名性让他们更敢放肆表达。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.576, 'turn': 0, 'state': 'LISTEN', 'content': '为什么键盘侠喜欢在网上发表激进言论'}}
[2025-11-19 04:08:33] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.753, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:33] 收到 tts_done, timestamp=4.753s
[2025-11-19 04:08:33] 在 4.75s 插入 TTS（2.54s）
[2025-11-19 04:08:48] 音频发送完毕，用时 19.73s
[2025-11-19 04:08:48] WebSocket 已关闭，结束接收循环
[2025-11-19 04:08:48] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0003_output.wav，时长 19.28s
[2025-11-19 04:08:48] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0003_output.wav
[2025-11-19 04:08:48] 处理完成: 0010_0003.wav
[2025-11-19 04:08:48] -----------------------------------
[2025-11-19 04:08:48] 开始处理文件: 0010_0005.wav
[2025-11-19 04:08:48] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:08:48] 初始化输出 buffer，总时长 18.15s（290398 samples）
[2025-11-19 04:08:48] 开始发送 0010_0005.wav，总帧 1135，时长 18.15s
[2025-11-19 04:08:48] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.344, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.996, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.093, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.204, 'turn': 0, 'state': 'LISTEN', 'content': '自由泳换气时有什么技巧'}}
[2025-11-19 04:08:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.269, 'infer_time': 0.173, 'content': '头部转动要快，身体保持流线型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:52] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.547, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:08:52] 收到 tts_done, timestamp=3.547s
[2025-11-19 04:08:52] 在 3.55s 插入 TTS（3.55s）
[2025-11-19 04:08:56] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.751}}
[2025-11-19 04:08:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.455, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.186, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:08:57] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.187, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:07] 音频发送完毕，用时 18.56s
[2025-11-19 04:09:07] WebSocket 已关闭，结束接收循环
[2025-11-19 04:09:07] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0005_output.wav，时长 18.15s
[2025-11-19 04:09:07] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0005_output.wav
[2025-11-19 04:09:07] 处理完成: 0010_0005.wav
[2025-11-19 04:09:07] -----------------------------------
[2025-11-19 04:09:07] 开始处理文件: 0010_0006.wav
[2025-11-19 04:09:07] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:09:07] 初始化输出 buffer，总时长 19.24s（307840 samples）
[2025-11-19 04:09:07] 开始发送 0010_0006.wav，总帧 1203，时长 19.24s
[2025-11-19 04:09:07] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.603, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.347, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.533, 'infer_time': 0.182, 'content': '刷新率、响应时间、面板类型是关键参数。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.538, 'turn': 0, 'state': 'LISTEN', 'content': '选购电竞显示器需要注意哪些参数'}}
[2025-11-19 04:09:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.901, 'infer_time': 0.363, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:12] 收到 tts_done, timestamp=4.901s
[2025-11-19 04:09:12] 在 4.90s 插入 TTS（5.02s）
[2025-11-19 04:09:16] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.248}}
[2025-11-19 04:09:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.581, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.31, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:17] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.31, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:26] 音频发送完毕，用时 19.70s
[2025-11-19 04:09:26] WebSocket 已关闭，结束接收循环
[2025-11-19 04:09:26] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0006_output.wav，时长 19.24s
[2025-11-19 04:09:26] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0006_output.wav
[2025-11-19 04:09:26] 处理完成: 0010_0006.wav
[2025-11-19 04:09:26] -----------------------------------
[2025-11-19 04:09:26] 开始处理文件: 0010_0016.wav
[2025-11-19 04:09:26] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:09:26] 初始化输出 buffer，总时长 18.43s（294880 samples）
[2025-11-19 04:09:26] 开始发送 0010_0016.wav，总帧 1152，时长 18.43s
[2025-11-19 04:09:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.814, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:30] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.465, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.559, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:30] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.666, 'turn': 0, 'state': 'LISTEN', 'content': '十九节一般有哪些特色活动'}}
[2025-11-19 04:09:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.748, 'infer_time': 0.185, 'content': '赛龙舟、吃粽子、挂艾草等。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:30] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.994, 'infer_time': 0.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:30] 收到 tts_done, timestamp=3.994s
[2025-11-19 04:09:30] 在 3.99s 插入 TTS（3.11s）
[2025-11-19 04:09:35] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.204}}
[2025-11-19 04:09:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.637, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.37, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:36] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.37, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:45] 音频发送完毕，用时 18.80s
[2025-11-19 04:09:45] WebSocket 已关闭，结束接收循环
[2025-11-19 04:09:45] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0016_output.wav，时长 18.43s
[2025-11-19 04:09:45] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0016_output.wav
[2025-11-19 04:09:45] 处理完成: 0010_0016.wav
[2025-11-19 04:09:45] -----------------------------------
[2025-11-19 04:09:45] 开始处理文件: 0010_0025.wav
[2025-11-19 04:09:45] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:09:45] 初始化输出 buffer，总时长 22.84s（365440 samples）
[2025-11-19 04:09:45] 开始发送 0010_0025.wav，总帧 1428，时长 22.84s
[2025-11-19 04:09:45] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.007, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.883, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:51] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.534, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.638, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.876, 'turn': 0, 'state': 'LISTEN', 'content': '早晨起床后有哪些提升能量的仪式可以推荐'}}
[2025-11-19 04:09:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.916, 'infer_time': 0.272, 'content': '晨起喝温水，拉伸身体，晒太阳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.202, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:09:51] 收到 tts_done, timestamp=6.202s
[2025-11-19 04:09:51] 在 6.20s 插入 TTS（3.55s）
[2025-11-19 04:09:55] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.212}}
[2025-11-19 04:09:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.545, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.28, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:56] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.281, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:09:57] 其他消息: {'event': 'vad_start', 'data': {'turn': 1, 'state': 'SPEAK', 'timestamp': 11.623}}
[2025-11-19 04:09:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.99, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 04:09:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.722, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 04:09:58] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 12.723, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 04:09:58] 其他消息: {'event': 'vad_start', 'data': {'turn': 2, 'state': 'SPEAK', 'timestamp': 12.74}}
[2025-11-19 04:09:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 13.175, 'turn': 2, 'state': 'SPEAK'}}
[2025-11-19 04:09:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.901, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 2, 'state': 'SPEAK'}}
[2025-11-19 04:09:59] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 13.901, 'turn': 2, 'state': 'SPEAK'}}
[2025-11-19 04:10:09] 音频发送完毕，用时 23.39s
[2025-11-19 04:10:09] WebSocket 已关闭，结束接收循环
[2025-11-19 04:10:09] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0025_output.wav，时长 22.84s
[2025-11-19 04:10:09] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0025_output.wav
[2025-11-19 04:10:09] 处理完成: 0010_0025.wav
[2025-11-19 04:10:09] -----------------------------------
[2025-11-19 04:10:09] 开始处理文件: 0010_0028.wav
[2025-11-19 04:10:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:10:09] 初始化输出 buffer，总时长 19.49s（311840 samples）
[2025-11-19 04:10:09] 开始发送 0010_0028.wav，总帧 1219，时长 19.49s
[2025-11-19 04:10:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.805, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:12] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.4, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:13] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.048, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.144, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:13] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.266, 'turn': 0, 'state': 'LISTEN', 'content': '在菜市场砍价有什么实用技巧吗'}}
[2025-11-19 04:10:13] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.314, 'infer_time': 0.166, 'content': '多比较少买，态度要诚恳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:13] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.508, 'infer_time': 0.189, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:13] 收到 tts_done, timestamp=4.508s
[2025-11-19 04:10:13] 在 4.51s 插入 TTS（2.30s）
[2025-11-19 04:10:17] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.716}}
[2025-11-19 04:10:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.045, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.667, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.396, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:19] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.397, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:28] 音频发送完毕，用时 19.83s
[2025-11-19 04:10:28] WebSocket 已关闭，结束接收循环
[2025-11-19 04:10:28] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0010_0028_output.wav，时长 19.49s
[2025-11-19 04:10:28] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0010_0028_output.wav
[2025-11-19 04:10:28] 处理完成: 0010_0028.wav
[2025-11-19 04:10:28] -----------------------------------
[2025-11-19 04:10:28] 开始处理文件: 0011_0002.wav
[2025-11-19 04:10:28] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:10:28] 初始化输出 buffer，总时长 20.27s（324321 samples）
[2025-11-19 04:10:28] 开始发送 0011_0002.wav，总帧 1267，时长 20.27s
[2025-11-19 04:10:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.896, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.99, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.142, 'turn': 0, 'state': 'LISTEN', 'content': '冥想时如何设定有效的放松目标'}}
[2025-11-19 04:10:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.18, 'infer_time': 0.185, 'content': '明确目标，专注当下，循序渐进放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.488, 'infer_time': 0.303, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:34] 收到 tts_done, timestamp=5.488s
[2025-11-19 04:10:34] 在 5.49s 插入 TTS（4.07s）
[2025-11-19 04:10:38] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.606}}
[2025-11-19 04:10:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.616, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.349, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:40] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.349, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:10:49] 音频发送完毕，用时 20.77s
[2025-11-19 04:10:49] WebSocket 已关闭，结束接收循环
[2025-11-19 04:10:49] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0002_output.wav，时长 20.27s
[2025-11-19 04:10:49] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0002_output.wav
[2025-11-19 04:10:49] 处理完成: 0011_0002.wav
[2025-11-19 04:10:49] -----------------------------------
[2025-11-19 04:10:49] 开始处理文件: 0011_0010.wav
[2025-11-19 04:10:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:10:49] 初始化输出 buffer，总时长 21.77s（348320 samples）
[2025-11-19 04:10:49] 开始发送 0011_0010.wav，总帧 1361，时长 21.77s
[2025-11-19 04:10:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.018, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.67, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.769, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.91, 'infer_time': 0.136, 'content': '手机信号干扰音响正常现象', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.0, 'turn': 0, 'state': 'LISTEN', 'content': '为什么手机放在音响旁边会有滋滋的干扰声'}}
[2025-11-19 04:10:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.12, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:10:55] 收到 tts_done, timestamp=6.12s
[2025-11-19 04:10:55] 在 6.12s 插入 TTS（2.54s）
[2025-11-19 04:11:00] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.303}}
[2025-11-19 04:11:01] 其他消息: {'event': 'long_interrupt', 'data': {'timestamp': 11.804, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.289, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 12.94, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.028, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.115, 'infer_time': 0.082, 'content': 'no', 'prompt': [{'role': 'system', 'content': '你是一个严格的二分类判断器，不是聊天助手。\n你的唯一任务：\n判断当前用户音频和历史对话之间是否出现重大语义转折。\n判断规则：\n1. 以下情况都视为“没有语义转折”，必须输出 "no"：\n  - 话题内容相关\n  - 用户说出任何表示主动控制话题的短语，例如：\n    “我们不说这个了”、“换个话题”、“别聊这个了”、“先不说这个”、“换一个”等。\n2. 以下情况必须输出 "yes"：\n  - 话题明显跳跃与历史内容无关。\n强制要求（必须严格遵守）：\n- 你只能输出 "yes" 或 "no"。\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么手机放在音响旁边会有滋滋的干扰声'}]}, {'role': 'assistant', 'content': '手机信号干扰音响正常现象'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 13.207, 'turn': 1, 'state': 'LISTEN', 'content': '对对对对'}}
[2025-11-19 04:11:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.245, 'infer_time': 0.126, 'content': '手机信号确实会干扰音响', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '为什么手机放在音响旁边会有滋滋的干扰声'}]}, {'role': 'assistant', 'content': '手机信号干扰音响正常现象'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 13.436, 'infer_time': 0.186, 'turn': 1, 'state': 'LISTEN'}}
[2025-11-19 04:11:03] 收到 tts_done, timestamp=13.436s
[2025-11-19 04:11:03] 在 13.44s 插入 TTS（2.24s）
[2025-11-19 04:11:12] 音频发送完毕，用时 22.37s
[2025-11-19 04:11:12] WebSocket 已关闭，结束接收循环
[2025-11-19 04:11:12] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0010_output.wav，时长 21.77s
[2025-11-19 04:11:12] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0010_output.wav
[2025-11-19 04:11:12] 处理完成: 0011_0010.wav
[2025-11-19 04:11:12] -----------------------------------
[2025-11-19 04:11:12] 开始处理文件: 0011_0013.wav
[2025-11-19 04:11:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:11:12] 初始化输出 buffer，总时长 20.61s（329761 samples）
[2025-11-19 04:11:12] 开始发送 0011_0013.wav，总帧 1289，时长 20.61s
[2025-11-19 04:11:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.89, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.542, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.645, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.825, 'infer_time': 0.174, 'content': '主动交朋友，参加社团活动融入集体。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.868, 'turn': 0, 'state': 'LISTEN', 'content': '转学后如何快速适应新学校的环境'}}
[2025-11-19 04:11:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.102, 'infer_time': 0.273, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:18] 收到 tts_done, timestamp=6.102s
[2025-11-19 04:11:18] 在 6.10s 插入 TTS（3.65s）
[2025-11-19 04:11:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.137}}
[2025-11-19 04:11:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.013, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.751, 'infer_time': 0.083, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:23] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.751, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:33] 音频发送完毕，用时 21.18s
[2025-11-19 04:11:33] WebSocket 已关闭，结束接收循环
[2025-11-19 04:11:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0013_output.wav，时长 20.61s
[2025-11-19 04:11:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0013_output.wav
[2025-11-19 04:11:33] 处理完成: 0011_0013.wav
[2025-11-19 04:11:33] -----------------------------------
[2025-11-19 04:11:33] 开始处理文件: 0011_0014.wav
[2025-11-19 04:11:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:11:33] 初始化输出 buffer，总时长 18.75s（300000 samples）
[2025-11-19 04:11:33] 开始发送 0011_0014.wav，总帧 1172，时长 18.75s
[2025-11-19 04:11:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.876, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.97, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.102, 'turn': 0, 'state': 'LISTEN', 'content': '怎样设置高效的专注时段'}}
[2025-11-19 04:11:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.124, 'infer_time': 0.149, 'content': '番茄工作法很有效，试试看', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.373, 'infer_time': 0.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:37] 收到 tts_done, timestamp=4.373s
[2025-11-19 04:11:37] 在 4.37s 插入 TTS（3.15s）
[2025-11-19 04:11:41] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.364}}
[2025-11-19 04:11:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.034, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.764, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:43] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.765, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:11:52] 音频发送完毕，用时 19.16s
[2025-11-19 04:11:52] WebSocket 已关闭，结束接收循环
[2025-11-19 04:11:52] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0014_output.wav，时长 18.75s
[2025-11-19 04:11:52] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0014_output.wav
[2025-11-19 04:11:52] 处理完成: 0011_0014.wav
[2025-11-19 04:11:52] -----------------------------------
[2025-11-19 04:11:52] 开始处理文件: 0011_0015.wav
[2025-11-19 04:11:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:11:52] 初始化输出 buffer，总时长 20.42s（326722 samples）
[2025-11-19 04:11:52] 开始发送 0011_0015.wav，总帧 1277，时长 20.42s
[2025-11-19 04:11:52] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.786, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.44, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.541, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.689, 'infer_time': 0.142, 'content': '注意流程衔接和时间把控。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.771, 'turn': 0, 'state': 'LISTEN', 'content': '运动会开幕式有哪些需要注意的环节'}}
[2025-11-19 04:11:58] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.888, 'infer_time': 0.194, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:11:58] 收到 tts_done, timestamp=5.888s
[2025-11-19 04:11:58] 在 5.89s 插入 TTS（2.33s）
[2025-11-19 04:12:02] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.962}}
[2025-11-19 04:12:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.769, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.502, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:03] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.503, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:13] 音频发送完毕，用时 20.95s
[2025-11-19 04:12:13] WebSocket 已关闭，结束接收循环
[2025-11-19 04:12:13] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0015_output.wav，时长 20.42s
[2025-11-19 04:12:13] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0015_output.wav
[2025-11-19 04:12:13] 处理完成: 0011_0015.wav
[2025-11-19 04:12:13] -----------------------------------
[2025-11-19 04:12:13] 开始处理文件: 0011_0030.wav
[2025-11-19 04:12:13] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:12:13] 初始化输出 buffer，总时长 19.47s（311520 samples）
[2025-11-19 04:12:13] 开始发送 0011_0030.wav，总帧 1217，时长 19.47s
[2025-11-19 04:12:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.501, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.156, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.251, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.376, 'turn': 0, 'state': 'LISTEN', 'content': '晚上捉萤火虫有什么技巧吗'}}
[2025-11-19 04:12:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.413, 'infer_time': 0.158, 'content': '找潮湿草地，别用手电筒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.676, 'infer_time': 0.258, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:18] 收到 tts_done, timestamp=4.676s
[2025-11-19 04:12:18] 在 4.68s 插入 TTS（3.26s）
[2025-11-19 04:12:22] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.788}}
[2025-11-19 04:12:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.866, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.599, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:24] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.6, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:33] 音频发送完毕，用时 19.95s
[2025-11-19 04:12:33] WebSocket 已关闭，结束接收循环
[2025-11-19 04:12:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0011_0030_output.wav，时长 19.47s
[2025-11-19 04:12:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0011_0030_output.wav
[2025-11-19 04:12:33] 处理完成: 0011_0030.wav
[2025-11-19 04:12:33] -----------------------------------
[2025-11-19 04:12:33] 开始处理文件: 0012_0002.wav
[2025-11-19 04:12:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:12:33] 初始化输出 buffer，总时长 20.55s（328801 samples）
[2025-11-19 04:12:33] 开始发送 0012_0002.wav，总帧 1285，时长 20.55s
[2025-11-19 04:12:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:38] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.698, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.339, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.438, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.604, 'infer_time': 0.161, 'content': '30岁左右开始准备比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:39] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.67, 'turn': 0, 'state': 'LISTEN', 'content': '应该从什么时候开始准备养老金比较合适'}}
[2025-11-19 04:12:39] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.812, 'infer_time': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:39] 收到 tts_done, timestamp=5.812s
[2025-11-19 04:12:39] 在 5.81s 插入 TTS（2.51s）
[2025-11-19 04:12:43] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.066}}
[2025-11-19 04:12:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.08, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.813, 'infer_time': 0.082, 'content': 'interrupt', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:45] 其他消息: {'event': 'shot_interrupt', 'data': {'timestamp': 11.814, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:12:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 11.901, 'turn': 1, 'state': 'SPEAK', 'content': '不是吗'}}
[2025-11-19 04:12:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.012, 'infer_time': 0.194, 'content': '是的，30岁左右开始准备养老金比较合适。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': '应该从什么时候开始准备养老金比较合适'}]}, {'role': 'assistant', 'content': '30岁左右开始准备比较合适。'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 04:12:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 12.31, 'infer_time': 0.294, 'turn': 1, 'state': 'SPEAK'}}
[2025-11-19 04:12:45] 收到 tts_done, timestamp=12.31s
[2025-11-19 04:12:45] 在 12.31s 插入 TTS（3.96s）
[2025-11-19 04:12:54] 音频发送完毕，用时 21.17s
[2025-11-19 04:12:54] WebSocket 已关闭，结束接收循环
[2025-11-19 04:12:54] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0002_output.wav，时长 20.55s
[2025-11-19 04:12:54] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0002_output.wav
[2025-11-19 04:12:54] 处理完成: 0012_0002.wav
[2025-11-19 04:12:54] -----------------------------------
[2025-11-19 04:12:54] 开始处理文件: 0012_0005.wav
[2025-11-19 04:12:54] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:12:54] 初始化输出 buffer，总时长 20.01s（320159 samples）
[2025-11-19 04:12:54] 开始发送 0012_0005.wav，总帧 1251，时长 20.01s
[2025-11-19 04:12:54] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.406, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.062, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.162, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.295, 'turn': 0, 'state': 'LISTEN', 'content': '怎样才能养成早起的习惯呢'}}
[2025-11-19 04:12:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.342, 'infer_time': 0.176, 'content': '循序渐进调整作息，固定起床时间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.623, 'infer_time': 0.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:12:59] 收到 tts_done, timestamp=4.623s
[2025-11-19 04:12:59] 在 4.62s 插入 TTS（3.57s）
[2025-11-19 04:13:15] 音频发送完毕，用时 20.61s
[2025-11-19 04:13:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:13:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0005_output.wav，时长 20.01s
[2025-11-19 04:13:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0005_output.wav
[2025-11-19 04:13:15] 处理完成: 0012_0005.wav
[2025-11-19 04:13:15] -----------------------------------
[2025-11-19 04:13:15] 开始处理文件: 0012_0006.wav
[2025-11-19 04:13:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:13:15] 初始化输出 buffer，总时长 20.38s（326080 samples）
[2025-11-19 04:13:15] 开始发送 0012_0006.wav，总帧 1274，时长 20.38s
[2025-11-19 04:13:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.106, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.067, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.708, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.809, 'infer_time': 0.097, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.022, 'infer_time': 0.208, 'content': '户外广告牌设置需遵守城市规划、安全及环保规定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:21] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.05, 'turn': 0, 'state': 'LISTEN', 'content': '户外广告牌的设置需要遵守哪些规定'}}
[2025-11-19 04:13:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.432, 'infer_time': 0.405, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:21] 收到 tts_done, timestamp=6.432s
[2025-11-19 04:13:21] 在 6.43s 插入 TTS（5.50s）
[2025-11-19 04:13:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.32}}
[2025-11-19 04:13:26] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.923, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.656, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:26] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.657, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:36] 音频发送完毕，用时 20.99s
[2025-11-19 04:13:36] WebSocket 已关闭，结束接收循环
[2025-11-19 04:13:36] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0006_output.wav，时长 20.38s
[2025-11-19 04:13:36] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0006_output.wav
[2025-11-19 04:13:36] 处理完成: 0012_0006.wav
[2025-11-19 04:13:36] -----------------------------------
[2025-11-19 04:13:36] 开始处理文件: 0012_0021.wav
[2025-11-19 04:13:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:13:36] 初始化输出 buffer，总时长 21.77s（348320 samples）
[2025-11-19 04:13:36] 开始发送 0012_0021.wav，总帧 1361，时长 21.77s
[2025-11-19 04:13:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.478, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.121, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.225, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.472, 'turn': 0, 'state': 'LISTEN', 'content': '为什么哥特式建筑会有那么多汞和非福壁'}}
[2025-11-19 04:13:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.501, 'infer_time': 0.271, 'content': '哥特式建筑用拱和飞扶壁来支撑高墙，让窗户更大更明亮。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.971, 'infer_time': 0.464, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:13:43] 收到 tts_done, timestamp=6.971s
[2025-11-19 04:13:43] 在 6.97s 插入 TTS（6.19s）
[2025-11-19 04:13:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.843}}
[2025-11-19 04:13:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 12.301, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:49] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 13.035, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:49] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 13.035, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:13:58] 音频发送完毕，用时 22.47s
[2025-11-19 04:13:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:13:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0021_output.wav，时长 21.77s
[2025-11-19 04:13:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0021_output.wav
[2025-11-19 04:13:58] 处理完成: 0012_0021.wav
[2025-11-19 04:13:58] -----------------------------------
[2025-11-19 04:13:58] 开始处理文件: 0012_0028.wav
[2025-11-19 04:13:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:13:58] 初始化输出 buffer，总时长 19.62s（313922 samples）
[2025-11-19 04:13:58] 开始发送 0012_0028.wav，总帧 1227，时长 19.62s
[2025-11-19 04:13:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.509, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.149, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.243, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.368, 'turn': 0, 'state': 'LISTEN', 'content': '枕头高度多少对颈椎最好'}}
[2025-11-19 04:14:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.425, 'infer_time': 0.177, 'content': '枕头高度以8到12厘米为宜。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.686, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:03] 收到 tts_done, timestamp=4.686s
[2025-11-19 04:14:03] 在 4.69s 插入 TTS（3.28s）
[2025-11-19 04:14:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.089}}
[2025-11-19 04:14:08] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.073, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:09] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.805, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:09] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.806, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:18] 音频发送完毕，用时 20.24s
[2025-11-19 04:14:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:14:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0028_output.wav，时长 19.62s
[2025-11-19 04:14:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0028_output.wav
[2025-11-19 04:14:18] 处理完成: 0012_0028.wav
[2025-11-19 04:14:18] -----------------------------------
[2025-11-19 04:14:18] 开始处理文件: 0012_0032.wav
[2025-11-19 04:14:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:14:18] 初始化输出 buffer，总时长 19.03s（304480 samples）
[2025-11-19 04:14:18] 开始发送 0012_0032.wav，总帧 1190，时长 19.03s
[2025-11-19 04:14:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.137, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.777, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.875, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.056, 'infer_time': 0.177, 'content': '边境小镇常有异域风情和特色小吃。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.071, 'turn': 0, 'state': 'LISTEN', 'content': '边境小镇通常有什么特色'}}
[2025-11-19 04:14:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.321, 'infer_time': 0.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:23] 收到 tts_done, timestamp=4.321s
[2025-11-19 04:14:23] 在 4.32s 插入 TTS（3.35s）
[2025-11-19 04:14:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.679}}
[2025-11-19 04:14:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.39, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.122, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:29] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.123, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:38] 音频发送完毕，用时 19.55s
[2025-11-19 04:14:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:14:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0012_0032_output.wav，时长 19.03s
[2025-11-19 04:14:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0012_0032_output.wav
[2025-11-19 04:14:38] 处理完成: 0012_0032.wav
[2025-11-19 04:14:38] -----------------------------------
[2025-11-19 04:14:38] 开始处理文件: 0013_0003.wav
[2025-11-19 04:14:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:14:38] 初始化输出 buffer，总时长 21.53s（344481 samples）
[2025-11-19 04:14:38] 开始发送 0013_0003.wav，总帧 1346，时长 21.53s
[2025-11-19 04:14:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.917, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.735, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.39, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.49, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.67, 'turn': 0, 'state': 'LISTEN', 'content': '最近是商场周年庆有哪些值得关注的折扣活动'}}
[2025-11-19 04:14:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.725, 'infer_time': 0.23, 'content': '商场周年庆通常有全场折扣、满减和品牌特卖活动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.115, 'infer_time': 0.385, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:14:45] 收到 tts_done, timestamp=7.115s
[2025-11-19 04:14:45] 在 7.12s 插入 TTS（5.28s）
[2025-11-19 04:14:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.971}}
[2025-11-19 04:14:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.977, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.706, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:14:51] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 12.707, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:00] 音频发送完毕，用时 22.08s
[2025-11-19 04:15:00] WebSocket 已关闭，结束接收循环
[2025-11-19 04:15:00] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0003_output.wav，时长 21.53s
[2025-11-19 04:15:00] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0003_output.wav
[2025-11-19 04:15:00] 处理完成: 0013_0003.wav
[2025-11-19 04:15:00] -----------------------------------
[2025-11-19 04:15:00] 开始处理文件: 0013_0004.wav
[2025-11-19 04:15:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:15:00] 初始化输出 buffer，总时长 19.36s（309760 samples）
[2025-11-19 04:15:00] 开始发送 0013_0004.wav，总帧 1210，时长 19.36s
[2025-11-19 04:15:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.24, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.843, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.442, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.095, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.192, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.393, 'turn': 0, 'state': 'LISTEN', 'content': '新手钓鱼应该选择什么样的鱼竿'}}
[2025-11-19 04:15:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.476, 'infer_time': 0.279, 'content': '新手建议选轻便的碳素竿，长度在3.6到4.5米之间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.877, 'infer_time': 0.397, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:05] 收到 tts_done, timestamp=4.877s
[2025-11-19 04:15:05] 在 4.88s 插入 TTS（5.50s）
[2025-11-19 04:15:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.66}}
[2025-11-19 04:15:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.699, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.43, 'infer_time': 0.08, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:11] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.431, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:20] 音频发送完毕，用时 19.79s
[2025-11-19 04:15:20] WebSocket 已关闭，结束接收循环
[2025-11-19 04:15:20] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0004_output.wav，时长 19.36s
[2025-11-19 04:15:20] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0004_output.wav
[2025-11-19 04:15:20] 处理完成: 0013_0004.wav
[2025-11-19 04:15:20] -----------------------------------
[2025-11-19 04:15:20] 开始处理文件: 0013_0008.wav
[2025-11-19 04:15:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:15:20] 初始化输出 buffer，总时长 17.76s（284159 samples）
[2025-11-19 04:15:20] 开始发送 0013_0008.wav，总帧 1110，时长 17.76s
[2025-11-19 04:15:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.966, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.621, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.71, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.811, 'turn': 0, 'state': 'LISTEN', 'content': '怎样提高工作室的专注力'}}
[2025-11-19 04:15:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.897, 'infer_time': 0.184, 'content': '专注力需靠习惯培养，建议番茄工作法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.201, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:23] 收到 tts_done, timestamp=3.201s
[2025-11-19 04:15:23] 在 3.20s 插入 TTS（4.06s）
[2025-11-19 04:15:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.273}}
[2025-11-19 04:15:28] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 7.979, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:29] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.707, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:29] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 8.708, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:38] 音频发送完毕，用时 18.10s
[2025-11-19 04:15:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:15:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0008_output.wav，时长 17.76s
[2025-11-19 04:15:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0008_output.wav
[2025-11-19 04:15:38] 处理完成: 0013_0008.wav
[2025-11-19 04:15:38] -----------------------------------
[2025-11-19 04:15:38] 开始处理文件: 0013_0021.wav
[2025-11-19 04:15:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:15:38] 初始化输出 buffer，总时长 19.38s（310081 samples）
[2025-11-19 04:15:38] 开始发送 0013_0021.wav，总帧 1212，时长 19.38s
[2025-11-19 04:15:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.386, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.039, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.135, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.305, 'infer_time': 0.166, 'content': '公众人物压力大，言行易被放大。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.341, 'turn': 0, 'state': 'LISTEN', 'content': '为什么明星容易发生人设崩塌事件'}}
[2025-11-19 04:15:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.542, 'infer_time': 0.232, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:15:43] 收到 tts_done, timestamp=4.542s
[2025-11-19 04:15:43] 在 4.54s 插入 TTS（2.88s）
[2025-11-19 04:15:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.66}}
[2025-11-19 04:15:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.667, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.399, 'infer_time': 0.081, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:48] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.4, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:15:58] 音频发送完毕，用时 19.83s
[2025-11-19 04:15:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:15:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0021_output.wav，时长 19.38s
[2025-11-19 04:15:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0021_output.wav
[2025-11-19 04:15:58] 处理完成: 0013_0021.wav
[2025-11-19 04:15:58] -----------------------------------
[2025-11-19 04:15:58] 开始处理文件: 0013_0030.wav
[2025-11-19 04:15:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:15:58] 初始化输出 buffer，总时长 21.17s（338721 samples）
[2025-11-19 04:15:58] 开始发送 0013_0030.wav，总帧 1324，时长 21.17s
[2025-11-19 04:15:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.218, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.873, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.971, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.125, 'infer_time': 0.148, 'content': '查询专利商标局官网可验证', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.135, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一个创意是否受到知识产权保护'}}
[2025-11-19 04:16:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.342, 'infer_time': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:04] 收到 tts_done, timestamp=6.342s
[2025-11-19 04:16:04] 在 6.34s 插入 TTS（2.97s）
[2025-11-19 04:16:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 10.5}}
[2025-11-19 04:16:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 11.675, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 12.405, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:10] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 12.405, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:20] 音频发送完毕，用时 21.75s
[2025-11-19 04:16:20] WebSocket 已关闭，结束接收循环
[2025-11-19 04:16:20] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0030_output.wav，时长 21.17s
[2025-11-19 04:16:20] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0030_output.wav
[2025-11-19 04:16:20] 处理完成: 0013_0030.wav
[2025-11-19 04:16:20] -----------------------------------
[2025-11-19 04:16:20] 开始处理文件: 0013_0032.wav
[2025-11-19 04:16:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:16:20] 初始化输出 buffer，总时长 19.29s（308640 samples）
[2025-11-19 04:16:20] 开始发送 0013_0032.wav，总帧 1206，时长 19.29s
[2025-11-19 04:16:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.357, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.011, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.105, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.292, 'turn': 0, 'state': 'LISTEN', 'content': '日本传统婚礼有哪些特别仪式'}}
[2025-11-19 04:16:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.312, 'infer_time': 0.203, 'content': '日本传统婚礼有交换戒指、喝交杯酒等仪式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.643, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:24] 收到 tts_done, timestamp=4.643s
[2025-11-19 04:16:24] 在 4.64s 插入 TTS（4.48s）
[2025-11-19 04:16:28] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.68}}
[2025-11-19 04:16:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.588, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.32, 'infer_time': 0.079, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:30] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.32, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:39] 音频发送完毕，用时 19.75s
[2025-11-19 04:16:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:16:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0013_0032_output.wav，时长 19.29s
[2025-11-19 04:16:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0013_0032_output.wav
[2025-11-19 04:16:39] 处理完成: 0013_0032.wav
[2025-11-19 04:16:39] -----------------------------------
[2025-11-19 04:16:39] 开始处理文件: 0014_0009.wav
[2025-11-19 04:16:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:16:39] 初始化输出 buffer，总时长 19.43s（310880 samples）
[2025-11-19 04:16:39] 开始发送 0014_0009.wav，总帧 1215，时长 19.43s
[2025-11-19 04:16:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.603, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.537, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.191, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.29, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.432, 'turn': 0, 'state': 'LISTEN', 'content': '春天和秋天最适合去哪里郊游'}}
[2025-11-19 04:16:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.482, 'infer_time': 0.187, 'content': '春天去杭州西湖，秋天选香山赏枫。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.811, 'infer_time': 0.323, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:16:44] 收到 tts_done, timestamp=4.811s
[2025-11-19 04:16:44] 在 4.81s 插入 TTS（4.26s）
[2025-11-19 04:16:49] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.432}}
[2025-11-19 04:16:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.869, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.597, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:50] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.598, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:16:59] 音频发送完毕，用时 19.99s
[2025-11-19 04:16:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:16:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0009_output.wav，时长 19.43s
[2025-11-19 04:16:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0009_output.wav
[2025-11-19 04:16:59] 处理完成: 0014_0009.wav
[2025-11-19 04:16:59] -----------------------------------
[2025-11-19 04:16:59] 开始处理文件: 0014_0016.wav
[2025-11-19 04:16:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:16:59] 初始化输出 buffer，总时长 19.99s（319840 samples）
[2025-11-19 04:16:59] 开始发送 0014_0016.wav，总帧 1250，时长 19.99s
[2025-11-19 04:17:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.298, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.976, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.629, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.725, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.935, 'turn': 0, 'state': 'LISTEN', 'content': '当风筝时如何判断风力是否合适'}}
[2025-11-19 04:17:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.952, 'infer_time': 0.224, 'content': '观察周围环境，树叶摇动但树枝不晃就是好风力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.359, 'infer_time': 0.401, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:05] 收到 tts_done, timestamp=5.359s
[2025-11-19 04:17:05] 在 5.36s 插入 TTS（5.58s）
[2025-11-19 04:17:09] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.264}}
[2025-11-19 04:17:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.445, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 11.178, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:11] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 11.179, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:20] 音频发送完毕，用时 20.57s
[2025-11-19 04:17:20] WebSocket 已关闭，结束接收循环
[2025-11-19 04:17:20] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0016_output.wav，时长 19.99s
[2025-11-19 04:17:20] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0016_output.wav
[2025-11-19 04:17:20] 处理完成: 0014_0016.wav
[2025-11-19 04:17:20] -----------------------------------
[2025-11-19 04:17:20] 开始处理文件: 0014_0018.wav
[2025-11-19 04:17:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:17:20] 初始化输出 buffer，总时长 18.95s（303202 samples）
[2025-11-19 04:17:20] 开始发送 0014_0018.wav，总帧 1185，时长 18.95s
[2025-11-19 04:17:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.13, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.783, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.879, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.001, 'turn': 0, 'state': 'LISTEN', 'content': '如何在工作中保持长时间专注'}}
[2025-11-19 04:17:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.052, 'infer_time': 0.169, 'content': '设定目标，分段工作，定时休息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.292, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:24] 收到 tts_done, timestamp=4.292s
[2025-11-19 04:17:24] 在 4.29s 插入 TTS（2.98s）
[2025-11-19 04:17:28] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.45}}
[2025-11-19 04:17:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.361, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.12, 'infer_time': 0.107, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:30] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.12, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:39] 音频发送完毕，用时 19.47s
[2025-11-19 04:17:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:17:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0018_output.wav，时长 18.95s
[2025-11-19 04:17:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0018_output.wav
[2025-11-19 04:17:39] 处理完成: 0014_0018.wav
[2025-11-19 04:17:39] -----------------------------------
[2025-11-19 04:17:39] 开始处理文件: 0014_0027.wav
[2025-11-19 04:17:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:17:39] 初始化输出 buffer，总时长 19.29s（308641 samples）
[2025-11-19 04:17:39] 开始发送 0014_0027.wav，总帧 1206，时长 19.29s
[2025-11-19 04:17:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.502, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.156, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.252, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.417, 'turn': 0, 'state': 'LISTEN', 'content': '第一次去东京旅游应该怎么规划行程'}}
[2025-11-19 04:17:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.483, 'infer_time': 0.227, 'content': '建议先去浅草寺，然后逛秋叶原和银座。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.793, 'infer_time': 0.304, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:17:44] 收到 tts_done, timestamp=4.793s
[2025-11-19 04:17:44] 在 4.79s 插入 TTS（4.07s）
[2025-11-19 04:17:48] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.893}}
[2025-11-19 04:17:49] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.64, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.373, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:50] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.373, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:17:59] 音频发送完毕，用时 19.83s
[2025-11-19 04:17:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:17:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0027_output.wav，时长 19.29s
[2025-11-19 04:17:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0027_output.wav
[2025-11-19 04:17:59] 处理完成: 0014_0027.wav
[2025-11-19 04:17:59] -----------------------------------
[2025-11-19 04:17:59] 开始处理文件: 0014_0028.wav
[2025-11-19 04:17:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:17:59] 初始化输出 buffer，总时长 19.29s（308641 samples）
[2025-11-19 04:17:59] 开始发送 0014_0028.wav，总帧 1206，时长 19.29s
[2025-11-19 04:17:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.607, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.261, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.358, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.521, 'turn': 0, 'state': 'LISTEN', 'content': '交警查处酒驾一般会采取哪些措施'}}
[2025-11-19 04:18:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.539, 'infer_time': 0.176, 'content': '扣留驾照，罚款拘留，记分处理。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.874, 'infer_time': 0.329, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:04] 收到 tts_done, timestamp=4.874s
[2025-11-19 04:18:04] 在 4.87s 插入 TTS（4.46s）
[2025-11-19 04:18:08] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.888}}
[2025-11-19 04:18:09] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.697, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:10] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.429, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:10] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.43, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:19] 音频发送完毕，用时 19.83s
[2025-11-19 04:18:19] WebSocket 已关闭，结束接收循环
[2025-11-19 04:18:19] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0028_output.wav，时长 19.29s
[2025-11-19 04:18:19] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0028_output.wav
[2025-11-19 04:18:19] 处理完成: 0014_0028.wav
[2025-11-19 04:18:19] -----------------------------------
[2025-11-19 04:18:19] 开始处理文件: 0014_0030.wav
[2025-11-19 04:18:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:18:19] 初始化输出 buffer，总时长 19.59s（313441 samples）
[2025-11-19 04:18:19] 开始发送 0014_0030.wav，总帧 1225，时长 19.59s
[2025-11-19 04:18:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.631, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.726, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.859, 'turn': 0, 'state': 'LISTEN', 'content': '买房时应该优先考虑地段还是户型'}}
[2025-11-19 04:18:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.89, 'infer_time': 0.16, 'content': '地段更重要，影响升值和生活便利。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.178, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:24] 收到 tts_done, timestamp=5.178s
[2025-11-19 04:18:24] 在 5.18s 插入 TTS（3.87s）
[2025-11-19 04:18:29] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.355}}
[2025-11-19 04:18:29] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 10.029, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:30] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.756, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:30] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.757, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:39] 音频发送完毕，用时 20.15s
[2025-11-19 04:18:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:18:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0014_0030_output.wav，时长 19.59s
[2025-11-19 04:18:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0014_0030_output.wav
[2025-11-19 04:18:39] 处理完成: 0014_0030.wav
[2025-11-19 04:18:39] -----------------------------------
[2025-11-19 04:18:39] 开始处理文件: 0015_0003.wav
[2025-11-19 04:18:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:18:39] 初始化输出 buffer，总时长 17.98s（287680 samples）
[2025-11-19 04:18:39] 开始发送 0015_0003.wav，总帧 1124，时长 17.98s
[2025-11-19 04:18:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.069, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.719, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.806, 'infer_time': 0.083, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.935, 'turn': 0, 'state': 'LISTEN', 'content': '买天气应该怎么防护'}}
[2025-11-19 04:18:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.961, 'infer_time': 0.151, 'content': '雾霾天减少外出，戴口罩防护。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.186, 'infer_time': 0.22, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:18:43] 收到 tts_done, timestamp=3.186s
[2025-11-19 04:18:43] 在 3.19s 插入 TTS（2.67s）
[2025-11-19 04:18:47] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 7.632}}
[2025-11-19 04:18:48] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.171, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 8.9, 'infer_time': 0.078, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:48] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 8.9, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:18:58] 音频发送完毕，用时 18.33s
[2025-11-19 04:18:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:18:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0003_output.wav，时长 17.98s
[2025-11-19 04:18:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0003_output.wav
[2025-11-19 04:18:58] 处理完成: 0015_0003.wav
[2025-11-19 04:18:58] -----------------------------------
[2025-11-19 04:18:58] 开始处理文件: 0015_0008.wav
[2025-11-19 04:18:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:18:58] 初始化输出 buffer，总时长 19.32s（309120 samples）
[2025-11-19 04:18:58] 开始发送 0015_0008.wav，总帧 1208，时长 19.32s
[2025-11-19 04:18:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.632, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.282, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.375, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.537, 'infer_time': 0.157, 'content': '合理分配养老金，确保基本生活需求。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.542, 'turn': 0, 'state': 'LISTEN', 'content': '休后如何规划养老金才能保证生活质量'}}
[2025-11-19 04:19:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.804, 'infer_time': 0.262, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:02] 收到 tts_done, timestamp=4.804s
[2025-11-19 04:19:02] 在 4.80s 插入 TTS（3.49s）
[2025-11-19 04:19:07] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.957}}
[2025-11-19 04:19:07] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.56, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:08] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.288, 'infer_time': 0.076, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:08] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.289, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:17] 音频发送完毕，用时 19.75s
[2025-11-19 04:19:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:19:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0008_output.wav，时长 19.32s
[2025-11-19 04:19:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0008_output.wav
[2025-11-19 04:19:17] 处理完成: 0015_0008.wav
[2025-11-19 04:19:17] -----------------------------------
[2025-11-19 04:19:17] 开始处理文件: 0015_0012.wav
[2025-11-19 04:19:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:19:17] 初始化输出 buffer，总时长 19.61s（313760 samples）
[2025-11-19 04:19:17] 开始发送 0015_0012.wav，总帧 1226，时长 19.61s
[2025-11-19 04:19:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.306, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.797, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.449, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.547, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.673, 'turn': 0, 'state': 'LISTEN', 'content': '什么说保护野生动物物对生态系统很重要'}}
[2025-11-19 04:19:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.717, 'infer_time': 0.166, 'content': '因为它们维持生态平衡，促进物种多样性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.003, 'infer_time': 0.282, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:22] 收到 tts_done, timestamp=5.003s
[2025-11-19 04:19:22] 在 5.00s 插入 TTS（3.63s）
[2025-11-19 04:19:27] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 9.171}}
[2025-11-19 04:19:27] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.944, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:28] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.677, 'infer_time': 0.082, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:28] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.678, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:37] 音频发送完毕，用时 20.07s
[2025-11-19 04:19:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:19:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0012_output.wav，时长 19.61s
[2025-11-19 04:19:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0012_output.wav
[2025-11-19 04:19:37] 处理完成: 0015_0012.wav
[2025-11-19 04:19:37] -----------------------------------
[2025-11-19 04:19:37] 开始处理文件: 0015_0016.wav
[2025-11-19 04:19:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:19:37] 初始化输出 buffer，总时长 19.09s（305441 samples）
[2025-11-19 04:19:37] 开始发送 0015_0016.wav，总帧 1194，时长 19.09s
[2025-11-19 04:19:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.388, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.038, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.132, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.318, 'turn': 0, 'state': 'LISTEN', 'content': '双香疗法中哪些精油适合缓解焦虑'}}
[2025-11-19 04:19:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.357, 'infer_time': 0.221, 'content': '薰衣草、洋甘菊和佛手柑精油有助于缓解焦虑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.705, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:19:42] 收到 tts_done, timestamp=4.705s
[2025-11-19 04:19:42] 在 4.71s 插入 TTS（4.65s）
[2025-11-19 04:19:46] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.748}}
[2025-11-19 04:19:47] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.386, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:48] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.114, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:48] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.115, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:19:57] 音频发送完毕，用时 19.51s
[2025-11-19 04:19:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:19:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0016_output.wav，时长 19.09s
[2025-11-19 04:19:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0016_output.wav
[2025-11-19 04:19:57] 处理完成: 0015_0016.wav
[2025-11-19 04:19:57] -----------------------------------
[2025-11-19 04:19:57] 开始处理文件: 0015_0026.wav
[2025-11-19 04:19:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:19:57] 初始化输出 buffer，总时长 19.09s（305442 samples）
[2025-11-19 04:19:57] 开始发送 0015_0026.wav，总帧 1194，时长 19.09s
[2025-11-19 04:19:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.494, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.237, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.374, 'turn': 0, 'state': 'LISTEN', 'content': '怎样合理安排一天的工作和学习时间'}}
[2025-11-19 04:20:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.408, 'infer_time': 0.166, 'content': '制定计划，专注高效，劳逸结合。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.704, 'infer_time': 0.291, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:02] 收到 tts_done, timestamp=4.704s
[2025-11-19 04:20:02] 在 4.70s 插入 TTS（3.69s）
[2025-11-19 04:20:06] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.755}}
[2025-11-19 04:20:06] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 9.36, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:07] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 10.089, 'infer_time': 0.077, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:07] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 10.09, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:17] 音频发送完毕，用时 19.52s
[2025-11-19 04:20:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:20:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0026_output.wav，时长 19.09s
[2025-11-19 04:20:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0026_output.wav
[2025-11-19 04:20:17] 处理完成: 0015_0026.wav
[2025-11-19 04:20:17] -----------------------------------
[2025-11-19 04:20:17] 开始处理文件: 0015_0032.wav
[2025-11-19 04:20:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:20:17] 初始化输出 buffer，总时长 18.59s（297440 samples）
[2025-11-19 04:20:17] 开始发送 0015_0032.wav，总帧 1162，时长 18.59s
[2025-11-19 04:20:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.848, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.501, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.591, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.737, 'turn': 0, 'state': 'LISTEN', 'content': '你家乡的广场有什么特色活动吗'}}
[2025-11-19 04:20:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.767, 'infer_time': 0.171, 'content': '我们那广场常有舞龙舞狮表演。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:21] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.003, 'infer_time': 0.23, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:21] 收到 tts_done, timestamp=4.003s
[2025-11-19 04:20:21] 在 4.00s 插入 TTS（2.93s）
[2025-11-19 04:20:25] 其他消息: {'event': 'vad_start', 'data': {'turn': 0, 'state': 'SPEAK', 'timestamp': 8.157}}
[2025-11-19 04:20:25] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 8.863, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:26] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 9.59, 'infer_time': 0.075, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你现在处于 SPEAK 状态，用户刚才在你说话时发出了一段语音。\n请根据语义判断他是否真的想打断你。\n如果是明确的反驳、否定、提出问题、要求停止、要求更正等，返回 'interrupt'；\n如果只是附和、回应、赞同或鼓励（例如“好的”“知道了”“说得好”“嗯嗯”“行”），\n请返回 'continue'。\n你只能返回这两个单词之一。不要解释、不要输出其它内容。\n\n以下是一些示例：\n用户：知道了。助手：continue\n用户：好得很。助手：continue\\n\n用户：你说得真棒。助手：continue\n用户：嗯嗯，对。助手：continue\n用户：我不同意你说的。助手：interrupt\n用户：不是这样的。助手：interrupt\n用户：别说了。助手：interrupt\n用户：停。助手：interrupt\n\n现在请判断当前用户这段语音的类型，只返回 'interrupt' 或 'continue'：\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:26] 其他消息: {'event': 'no_interrupt', 'data': {'timestamp': 9.591, 'turn': 0, 'state': 'SPEAK'}}
[2025-11-19 04:20:36] 音频发送完毕，用时 18.99s
[2025-11-19 04:20:36] WebSocket 已关闭，结束接收循环
[2025-11-19 04:20:36] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/0015_0032_output.wav，时长 18.59s
[2025-11-19 04:20:36] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/0015_0032_output.wav
[2025-11-19 04:20:36] 处理完成: 0015_0032.wav
[2025-11-19 04:20:36] -----------------------------------
[2025-11-19 04:20:36] 开始处理文件: clean_0001_0005.wav
[2025-11-19 04:20:36] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:20:36] 初始化输出 buffer，总时长 19.46s（311360 samples）
[2025-11-19 04:20:36] 开始发送 clean_0001_0005.wav，总帧 1217，时长 19.46s
[2025-11-19 04:20:36] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:39] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.904, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.996, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.152, 'turn': 0, 'state': 'LISTEN', 'content': 'still 徒步应该选择什么样的路线'}}
[2025-11-19 04:20:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.157, 'infer_time': 0.156, 'content': '新手徒步建议选择平坦安全的路线。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.386, 'infer_time': 0.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:40] 收到 tts_done, timestamp=4.386s
[2025-11-19 04:20:40] 在 4.39s 插入 TTS（2.88s）
[2025-11-19 04:20:55] 音频发送完毕，用时 19.84s
[2025-11-19 04:20:55] WebSocket 已关闭，结束接收循环
[2025-11-19 04:20:55] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0005_output.wav，时长 19.46s
[2025-11-19 04:20:55] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0005_output.wav
[2025-11-19 04:20:55] 处理完成: clean_0001_0005.wav
[2025-11-19 04:20:55] -----------------------------------
[2025-11-19 04:20:55] 开始处理文件: clean_0001_0006.wav
[2025-11-19 04:20:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:20:55] 初始化输出 buffer，总时长 19.11s（305760 samples）
[2025-11-19 04:20:55] 开始发送 clean_0001_0006.wav，总帧 1195，时长 19.11s
[2025-11-19 04:20:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.192, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.839, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.934, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:20:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.049, 'turn': 0, 'state': 'LISTEN', 'content': '怎样能有效扩大自己的社交圈'}}
[2025-11-19 04:21:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.106, 'infer_time': 0.168, 'content': '多参加兴趣活动，主动与人交流。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.349, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:00] 收到 tts_done, timestamp=4.349s
[2025-11-19 04:21:00] 在 4.35s 插入 TTS（2.96s）
[2025-11-19 04:21:15] 音频发送完毕，用时 19.52s
[2025-11-19 04:21:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:21:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0006_output.wav，时长 19.11s
[2025-11-19 04:21:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0006_output.wav
[2025-11-19 04:21:15] 处理完成: clean_0001_0006.wav
[2025-11-19 04:21:15] -----------------------------------
[2025-11-19 04:21:15] 开始处理文件: clean_0001_0009.wav
[2025-11-19 04:21:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:21:15] 初始化输出 buffer，总时长 22.43s（358880 samples）
[2025-11-19 04:21:15] 开始发送 clean_0001_0009.wav，总帧 1402，时长 22.43s
[2025-11-19 04:21:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.529, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:20] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.713, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 6.665, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 7.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.415, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 7.619, 'infer_time': 0.198, 'content': 'NVIDIA DLSS通过AI提升游戏画质和帧率', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 7.685, 'turn': 0, 'state': 'LISTEN', 'content': 'v i d i a 和 d l s s 技术具体是怎么工作的'}}
[2025-11-19 04:21:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.949, 'infer_time': 0.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:23] 收到 tts_done, timestamp=7.949s
[2025-11-19 04:21:23] 在 7.95s 插入 TTS（4.35s）
[2025-11-19 04:21:38] 音频发送完毕，用时 23.01s
[2025-11-19 04:21:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:21:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0009_output.wav，时长 22.43s
[2025-11-19 04:21:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0009_output.wav
[2025-11-19 04:21:38] 处理完成: clean_0001_0009.wav
[2025-11-19 04:21:38] -----------------------------------
[2025-11-19 04:21:38] 开始处理文件: clean_0001_0017.wav
[2025-11-19 04:21:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:21:38] 初始化输出 buffer，总时长 19.55s（312800 samples）
[2025-11-19 04:21:38] 开始发送 clean_0001_0017.wav，总帧 1222，时长 19.55s
[2025-11-19 04:21:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.425, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.073, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.168, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.349, 'turn': 0, 'state': 'LISTEN', 'content': '为什么沙雕视频这么容易让人上瘾'}}
[2025-11-19 04:21:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.35, 'infer_time': 0.178, 'content': '沙雕视频轻松搞笑，让人快速释放压力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.633, 'infer_time': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:21:43] 收到 tts_done, timestamp=4.633s
[2025-11-19 04:21:43] 在 4.63s 插入 TTS（3.63s）
[2025-11-19 04:21:58] 音频发送完毕，用时 19.96s
[2025-11-19 04:21:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:21:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0017_output.wav，时长 19.55s
[2025-11-19 04:21:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0017_output.wav
[2025-11-19 04:21:58] 处理完成: clean_0001_0017.wav
[2025-11-19 04:21:58] -----------------------------------
[2025-11-19 04:21:58] 开始处理文件: clean_0001_0021.wav
[2025-11-19 04:21:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:21:58] 初始化输出 buffer，总时长 20.00s（320000 samples）
[2025-11-19 04:21:58] 开始发送 clean_0001_0021.wav，总帧 1250，时长 20.00s
[2025-11-19 04:21:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.348, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.998, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.099, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.263, 'turn': 0, 'state': 'LISTEN', 'content': '初创企业应该如何合理规划启动资金'}}
[2025-11-19 04:22:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.272, 'infer_time': 0.169, 'content': '建议优先保障核心业务和关键人员开支。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.549, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:04] 收到 tts_done, timestamp=5.549s
[2025-11-19 04:22:04] 在 5.55s 插入 TTS（3.61s）
[2025-11-19 04:22:18] 音频发送完毕，用时 20.46s
[2025-11-19 04:22:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:22:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0021_output.wav，时长 20.00s
[2025-11-19 04:22:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0021_output.wav
[2025-11-19 04:22:18] 处理完成: clean_0001_0021.wav
[2025-11-19 04:22:18] -----------------------------------
[2025-11-19 04:22:18] 开始处理文件: clean_0001_0023.wav
[2025-11-19 04:22:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:22:18] 初始化输出 buffer，总时长 20.57s（329120 samples）
[2025-11-19 04:22:18] 开始发送 clean_0001_0023.wav，总帧 1286，时长 20.57s
[2025-11-19 04:22:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.379, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.027, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.126, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.303, 'infer_time': 0.172, 'content': '课桌涂鸦是学生表达个性的方式。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.336, 'turn': 0, 'state': 'LISTEN', 'content': '课桌涂鸦有什么有趣的历史或文化意义吗'}}
[2025-11-19 04:22:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.551, 'infer_time': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:24] 收到 tts_done, timestamp=5.551s
[2025-11-19 04:22:24] 在 5.55s 插入 TTS（3.11s）
[2025-11-19 04:22:39] 音频发送完毕，用时 21.04s
[2025-11-19 04:22:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:22:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0023_output.wav，时长 20.57s
[2025-11-19 04:22:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0023_output.wav
[2025-11-19 04:22:39] 处理完成: clean_0001_0023.wav
[2025-11-19 04:22:39] -----------------------------------
[2025-11-19 04:22:39] 开始处理文件: clean_0001_0026.wav
[2025-11-19 04:22:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:22:39] 初始化输出 buffer，总时长 20.49s（327840 samples）
[2025-11-19 04:22:39] 开始发送 clean_0001_0026.wav，总帧 1281，时长 20.49s
[2025-11-19 04:22:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.244, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.416, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.063, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.162, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.33, 'infer_time': 0.163, 'content': '氧气瓶、保暖衣物和防晒用品。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:45] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.345, 'turn': 0, 'state': 'LISTEN', 'content': '去高海拔地区旅行需要准备哪些特殊装备'}}
[2025-11-19 04:22:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.59, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:22:45] 收到 tts_done, timestamp=5.59s
[2025-11-19 04:22:45] 在 5.59s 插入 TTS（3.24s）
[2025-11-19 04:23:00] 音频发送完毕，用时 20.95s
[2025-11-19 04:23:00] WebSocket 已关闭，结束接收循环
[2025-11-19 04:23:00] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0026_output.wav，时长 20.49s
[2025-11-19 04:23:00] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0001_0026_output.wav
[2025-11-19 04:23:00] 处理完成: clean_0001_0026.wav
[2025-11-19 04:23:00] -----------------------------------
[2025-11-19 04:23:00] 开始处理文件: clean_0002_0003.wav
[2025-11-19 04:23:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:23:00] 初始化输出 buffer，总时长 19.24s（307840 samples）
[2025-11-19 04:23:00] 开始发送 clean_0002_0003.wav，总帧 1203，时长 19.24s
[2025-11-19 04:23:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.211, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.047, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.696, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.786, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.927, 'turn': 0, 'state': 'LISTEN', 'content': '年旅旅行有什么值得推荐的国内目的地'}}
[2025-11-19 04:23:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.954, 'infer_time': 0.164, 'content': '云南大理、四川九寨沟都很不错。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.198, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:05] 收到 tts_done, timestamp=4.198s
[2025-11-19 04:23:05] 在 4.20s 插入 TTS（3.09s）
[2025-11-19 04:23:20] 音频发送完毕，用时 19.61s
[2025-11-19 04:23:20] WebSocket 已关闭，结束接收循环
[2025-11-19 04:23:20] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0003_output.wav，时长 19.24s
[2025-11-19 04:23:20] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0003_output.wav
[2025-11-19 04:23:20] 处理完成: clean_0002_0003.wav
[2025-11-19 04:23:20] -----------------------------------
[2025-11-19 04:23:20] 开始处理文件: clean_0002_0006.wav
[2025-11-19 04:23:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:23:20] 初始化输出 buffer，总时长 19.25s（308000 samples）
[2025-11-19 04:23:20] 开始发送 clean_0002_0006.wav，总帧 1204，时长 19.25s
[2025-11-19 04:23:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.7, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.796, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.972, 'turn': 0, 'state': 'LISTEN', 'content': '末短途旅行有什么推荐的放松方式'}}
[2025-11-19 04:23:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.992, 'infer_time': 0.192, 'content': '泡温泉、骑行郊外或古镇漫步很放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.289, 'infer_time': 0.292, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:24] 收到 tts_done, timestamp=4.289s
[2025-11-19 04:23:24] 在 4.29s 插入 TTS（3.85s）
[2025-11-19 04:23:40] 音频发送完毕，用时 19.64s
[2025-11-19 04:23:40] WebSocket 已关闭，结束接收循环
[2025-11-19 04:23:40] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0006_output.wav，时长 19.25s
[2025-11-19 04:23:40] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0006_output.wav
[2025-11-19 04:23:40] 处理完成: clean_0002_0006.wav
[2025-11-19 04:23:40] -----------------------------------
[2025-11-19 04:23:40] 开始处理文件: clean_0002_0008.wav
[2025-11-19 04:23:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:23:40] 初始化输出 buffer，总时长 18.82s（301120 samples）
[2025-11-19 04:23:40] 开始发送 clean_0002_0008.wav，总帧 1177，时长 18.82s
[2025-11-19 04:23:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.15, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.952, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.599, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.694, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.833, 'turn': 0, 'state': 'LISTEN', 'content': '负面情绪会对身体健康产生哪些影响'}}
[2025-11-19 04:23:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.878, 'infer_time': 0.178, 'content': '长期负面情绪可能引发高血压、免疫力下降等问题。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.245, 'infer_time': 0.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:23:44] 收到 tts_done, timestamp=4.245s
[2025-11-19 04:23:44] 在 4.25s 插入 TTS（4.93s）
[2025-11-19 04:23:59] 音频发送完毕，用时 19.19s
[2025-11-19 04:23:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:23:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0008_output.wav，时长 18.82s
[2025-11-19 04:23:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0008_output.wav
[2025-11-19 04:23:59] 处理完成: clean_0002_0008.wav
[2025-11-19 04:23:59] -----------------------------------
[2025-11-19 04:23:59] 开始处理文件: clean_0002_0018.wav
[2025-11-19 04:23:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:23:59] 初始化输出 buffer，总时长 21.27s（340320 samples）
[2025-11-19 04:23:59] 开始发送 clean_0002_0018.wav，总帧 1330，时长 21.27s
[2025-11-19 04:23:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.828, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.959, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.607, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.845, 'infer_time': 0.234, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.046, 'infer_time': 0.196, 'content': '评估市场潜力需调研目标用户规模与需求匹配度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.085, 'turn': 0, 'state': 'LISTEN', 'content': '如何评估一个创业创新想法的市场权利'}}
[2025-11-19 04:24:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.418, 'infer_time': 0.366, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:05] 收到 tts_done, timestamp=6.418s
[2025-11-19 04:24:05] 在 6.42s 插入 TTS（4.60s）
[2025-11-19 04:24:21] 音频发送完毕，用时 21.75s
[2025-11-19 04:24:21] WebSocket 已关闭，结束接收循环
[2025-11-19 04:24:21] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0018_output.wav，时长 21.27s
[2025-11-19 04:24:21] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0018_output.wav
[2025-11-19 04:24:21] 处理完成: clean_0002_0018.wav
[2025-11-19 04:24:21] -----------------------------------
[2025-11-19 04:24:21] 开始处理文件: clean_0002_0024.wav
[2025-11-19 04:24:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:24:21] 初始化输出 buffer，总时长 18.59s（297440 samples）
[2025-11-19 04:24:21] 开始发送 clean_0002_0024.wav，总帧 1162，时长 18.59s
[2025-11-19 04:24:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.736, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.384, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.477, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.604, 'turn': 0, 'state': 'LISTEN', 'content': '任务分类有哪些常见的类型'}}
[2025-11-19 04:24:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.674, 'infer_time': 0.192, 'content': '任务分类有按紧急程度、重要性等常见类型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.036, 'infer_time': 0.357, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:25] 收到 tts_done, timestamp=4.036s
[2025-11-19 04:24:25] 在 4.04s 插入 TTS（4.98s）
[2025-11-19 04:24:40] 音频发送完毕，用时 18.92s
[2025-11-19 04:24:40] WebSocket 已关闭，结束接收循环
[2025-11-19 04:24:40] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0024_output.wav，时长 18.59s
[2025-11-19 04:24:40] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0024_output.wav
[2025-11-19 04:24:40] 处理完成: clean_0002_0024.wav
[2025-11-19 04:24:40] -----------------------------------
[2025-11-19 04:24:40] 开始处理文件: clean_0002_0032.wav
[2025-11-19 04:24:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:24:40] 初始化输出 buffer，总时长 18.79s（300640 samples）
[2025-11-19 04:24:40] 开始发送 clean_0002_0032.wav，总帧 1175，时长 18.79s
[2025-11-19 04:24:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.017, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.665, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.761, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.942, 'infer_time': 0.176, 'content': '我们学校注重实践教学，特色课程很丰富。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.947, 'turn': 0, 'state': 'LISTEN', 'content': '你的家乡学校有什么特别的教学特色吗'}}
[2025-11-19 04:24:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.221, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:24:44] 收到 tts_done, timestamp=4.221s
[2025-11-19 04:24:44] 在 4.22s 插入 TTS（3.51s）
[2025-11-19 04:24:59] 音频发送完毕，用时 19.17s
[2025-11-19 04:24:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:24:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0032_output.wav，时长 18.79s
[2025-11-19 04:24:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0032_output.wav
[2025-11-19 04:24:59] 处理完成: clean_0002_0032.wav
[2025-11-19 04:24:59] -----------------------------------
[2025-11-19 04:24:59] 开始处理文件: clean_0002_0034.wav
[2025-11-19 04:24:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:24:59] 初始化输出 buffer，总时长 18.21s（291360 samples）
[2025-11-19 04:24:59] 开始发送 clean_0002_0034.wav，总帧 1139，时长 18.21s
[2025-11-19 04:24:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.122, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.45, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.097, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.188, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.365, 'turn': 0, 'state': 'LISTEN', 'content': '怎样教小朋友唱儿歌更有趣'}}
[2025-11-19 04:25:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.381, 'infer_time': 0.189, 'content': '可以加入动作和道具，让小朋友边唱边玩。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.686, 'infer_time': 0.301, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:03] 收到 tts_done, timestamp=3.686s
[2025-11-19 04:25:03] 在 3.69s 插入 TTS（4.02s）
[2025-11-19 04:25:17] 音频发送完毕，用时 18.54s
[2025-11-19 04:25:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:25:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0034_output.wav，时长 18.21s
[2025-11-19 04:25:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0002_0034_output.wav
[2025-11-19 04:25:17] 处理完成: clean_0002_0034.wav
[2025-11-19 04:25:17] -----------------------------------
[2025-11-19 04:25:17] 开始处理文件: clean_0003_0003.wav
[2025-11-19 04:25:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:25:17] 初始化输出 buffer，总时长 19.15s（306400 samples）
[2025-11-19 04:25:17] 开始发送 clean_0003_0003.wav，总帧 1197，时长 19.15s
[2025-11-19 04:25:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.249, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.897, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:21] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.99, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.108, 'turn': 0, 'state': 'LISTEN', 'content': '北京现行政策具体是怎么规定的'}}
[2025-11-19 04:25:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.201, 'infer_time': 0.207, 'content': '北京限行政策按车牌尾号单双号限行。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.462, 'infer_time': 0.257, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:22] 收到 tts_done, timestamp=4.462s
[2025-11-19 04:25:22] 在 4.46s 插入 TTS（3.29s）
[2025-11-19 04:25:37] 音频发送完毕，用时 19.51s
[2025-11-19 04:25:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:25:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0003_output.wav，时长 19.15s
[2025-11-19 04:25:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0003_output.wav
[2025-11-19 04:25:37] 处理完成: clean_0003_0003.wav
[2025-11-19 04:25:37] -----------------------------------
[2025-11-19 04:25:37] 开始处理文件: clean_0003_0008.wav
[2025-11-19 04:25:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:25:37] 初始化输出 buffer，总时长 19.46s（311360 samples）
[2025-11-19 04:25:37] 开始发送 clean_0003_0008.wav，总帧 1217，时长 19.46s
[2025-11-19 04:25:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.765, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.413, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.509, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.674, 'turn': 0, 'state': 'LISTEN', 'content': '数字艺术和传统艺术的主要区别是什么'}}
[2025-11-19 04:25:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.696, 'infer_time': 0.183, 'content': '数字艺术依赖技术创作，传统艺术强调手工技艺。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.042, 'infer_time': 0.34, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:25:42] 收到 tts_done, timestamp=5.042s
[2025-11-19 04:25:42] 在 5.04s 插入 TTS（4.49s）
[2025-11-19 04:25:57] 音频发送完毕，用时 19.87s
[2025-11-19 04:25:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:25:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0008_output.wav，时长 19.46s
[2025-11-19 04:25:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0008_output.wav
[2025-11-19 04:25:57] 处理完成: clean_0003_0008.wav
[2025-11-19 04:25:57] -----------------------------------
[2025-11-19 04:25:57] 开始处理文件: clean_0003_0009.wav
[2025-11-19 04:25:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:25:57] 初始化输出 buffer，总时长 19.64s（314240 samples）
[2025-11-19 04:25:57] 开始发送 clean_0003_0009.wav，总帧 1228，时长 19.64s
[2025-11-19 04:25:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.31, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.955, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.604, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.696, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.87, 'turn': 0, 'state': 'LISTEN', 'content': '失恋后感觉特别痛苦该怎样么走出来'}}
[2025-11-19 04:26:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.928, 'infer_time': 0.227, 'content': '允许自己悲伤，慢慢重建生活。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.199, 'infer_time': 0.266, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:02] 收到 tts_done, timestamp=5.199s
[2025-11-19 04:26:02] 在 5.20s 插入 TTS（3.45s）
[2025-11-19 04:26:17] 音频发送完毕，用时 19.97s
[2025-11-19 04:26:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:26:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0009_output.wav，时长 19.64s
[2025-11-19 04:26:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0009_output.wav
[2025-11-19 04:26:17] 处理完成: clean_0003_0009.wav
[2025-11-19 04:26:17] -----------------------------------
[2025-11-19 04:26:17] 开始处理文件: clean_0003_0011.wav
[2025-11-19 04:26:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:26:17] 初始化输出 buffer，总时长 19.68s（314880 samples）
[2025-11-19 04:26:17] 开始发送 clean_0003_0011.wav，总帧 1230，时长 19.68s
[2025-11-19 04:26:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.95, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:21] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.599, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.694, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.892, 'turn': 0, 'state': 'LISTEN', 'content': '如何进行有效的深呼吸练习来缓解压力'}}
[2025-11-19 04:26:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.949, 'infer_time': 0.25, 'content': '找安静地方，吸气4秒，屏息7秒，呼气8秒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.295, 'infer_time': 0.341, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:22] 收到 tts_done, timestamp=5.295s
[2025-11-19 04:26:22] 在 5.29s 插入 TTS（4.69s）
[2025-11-19 04:26:37] 音频发送完毕，用时 20.04s
[2025-11-19 04:26:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:26:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0011_output.wav，时长 19.68s
[2025-11-19 04:26:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0011_output.wav
[2025-11-19 04:26:37] 处理完成: clean_0003_0011.wav
[2025-11-19 04:26:37] -----------------------------------
[2025-11-19 04:26:37] 开始处理文件: clean_0003_0014.wav
[2025-11-19 04:26:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:26:37] 初始化输出 buffer，总时长 18.87s（301920 samples）
[2025-11-19 04:26:37] 开始发送 clean_0003_0014.wav，总帧 1180，时长 18.87s
[2025-11-19 04:26:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.205, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.852, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.951, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.08, 'turn': 0, 'state': 'LISTEN', 'content': '景泰蓝制作的关键步骤有哪些'}}
[2025-11-19 04:26:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.202, 'infer_time': 0.248, 'content': '景泰蓝制作关键步骤有制胎掐丝点蓝烧蓝打磨抛光。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.604, 'infer_time': 0.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:41] 收到 tts_done, timestamp=4.604s
[2025-11-19 04:26:41] 在 4.60s 插入 TTS（5.56s）
[2025-11-19 04:26:56] 音频发送完毕，用时 19.21s
[2025-11-19 04:26:56] WebSocket 已关闭，结束接收循环
[2025-11-19 04:26:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0014_output.wav，时长 18.87s
[2025-11-19 04:26:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0014_output.wav
[2025-11-19 04:26:56] 处理完成: clean_0003_0014.wav
[2025-11-19 04:26:56] -----------------------------------
[2025-11-19 04:26:56] 开始处理文件: clean_0003_0017.wav
[2025-11-19 04:26:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:26:56] 初始化输出 buffer，总时长 18.85s（301600 samples）
[2025-11-19 04:26:56] 开始发送 clean_0003_0017.wav，总帧 1179，时长 18.85s
[2025-11-19 04:26:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:26:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.993, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.641, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.735, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.884, 'infer_time': 0.145, 'content': '投资失败后，调整心态很重要。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.927, 'turn': 0, 'state': 'LISTEN', 'content': '投资失败后应该如何调整心态'}}
[2025-11-19 04:27:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.143, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:00] 收到 tts_done, timestamp=4.143s
[2025-11-19 04:27:00] 在 4.14s 插入 TTS（3.41s）
[2025-11-19 04:27:15] 音频发送完毕，用时 19.20s
[2025-11-19 04:27:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:27:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0017_output.wav，时长 18.85s
[2025-11-19 04:27:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0017_output.wav
[2025-11-19 04:27:15] 处理完成: clean_0003_0017.wav
[2025-11-19 04:27:15] -----------------------------------
[2025-11-19 04:27:15] 开始处理文件: clean_0003_0030.wav
[2025-11-19 04:27:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:27:15] 初始化输出 buffer，总时长 21.83s（349280 samples）
[2025-11-19 04:27:15] 开始发送 clean_0003_0030.wav，总帧 1365，时长 21.83s
[2025-11-19 04:27:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.102, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.744, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.823, 'infer_time': 0.073, 'content': 'continue', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.841, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.49, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.593, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.759, 'infer_time': 0.161, 'content': '多模态大模型是最新突破。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.816, 'turn': 0, 'state': 'LISTEN', 'content': '人工智能领域最近有哪些突破性的创新发明'}}
[2025-11-19 04:27:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.97, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:22] 收到 tts_done, timestamp=6.97s
[2025-11-19 04:27:22] 在 6.97s 插入 TTS（2.55s）
[2025-11-19 04:27:38] 音频发送完毕，用时 22.37s
[2025-11-19 04:27:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:27:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0030_output.wav，时长 21.83s
[2025-11-19 04:27:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0003_0030_output.wav
[2025-11-19 04:27:38] 处理完成: clean_0003_0030.wav
[2025-11-19 04:27:38] -----------------------------------
[2025-11-19 04:27:38] 开始处理文件: clean_0004_0004.wav
[2025-11-19 04:27:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:27:38] 初始化输出 buffer，总时长 20.41s（326560 samples）
[2025-11-19 04:27:38] 开始发送 clean_0004_0004.wav，总帧 1276，时长 20.41s
[2025-11-19 04:27:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.21, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.932, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.581, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.699, 'infer_time': 0.114, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.876, 'infer_time': 0.172, 'content': '关闭非必要权限，定期清理APP数据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.896, 'turn': 0, 'state': 'LISTEN', 'content': '如何保护个人隐私数据不被手机 app 刻度收集'}}
[2025-11-19 04:27:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.171, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:27:44] 收到 tts_done, timestamp=6.171s
[2025-11-19 04:27:44] 在 6.17s 插入 TTS（3.65s）
[2025-11-19 04:27:59] 音频发送完毕，用时 20.92s
[2025-11-19 04:27:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:27:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0004_output.wav，时长 20.41s
[2025-11-19 04:27:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0004_output.wav
[2025-11-19 04:27:59] 处理完成: clean_0004_0004.wav
[2025-11-19 04:27:59] -----------------------------------
[2025-11-19 04:27:59] 开始处理文件: clean_0004_0006.wav
[2025-11-19 04:27:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:27:59] 初始化输出 buffer，总时长 19.42s（310720 samples）
[2025-11-19 04:27:59] 开始发送 clean_0004_0006.wav，总帧 1214，时长 19.42s
[2025-11-19 04:27:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.411, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.059, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.153, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.313, 'turn': 0, 'state': 'LISTEN', 'content': '在市中心找停车位有什么技巧吗'}}
[2025-11-19 04:28:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.348, 'infer_time': 0.192, 'content': '市中心停车确实难，建议用导航软件实时查看车位。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.729, 'infer_time': 0.375, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:03] 收到 tts_done, timestamp=4.729s
[2025-11-19 04:28:03] 在 4.73s 插入 TTS（5.25s）
[2025-11-19 04:28:18] 音频发送完毕，用时 19.85s
[2025-11-19 04:28:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:28:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0006_output.wav，时长 19.42s
[2025-11-19 04:28:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0006_output.wav
[2025-11-19 04:28:18] 处理完成: clean_0004_0006.wav
[2025-11-19 04:28:18] -----------------------------------
[2025-11-19 04:28:18] 开始处理文件: clean_0004_0008.wav
[2025-11-19 04:28:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:28:18] 初始化输出 buffer，总时长 20.94s（335040 samples）
[2025-11-19 04:28:18] 开始发送 clean_0004_0008.wav，总帧 1309，时长 20.94s
[2025-11-19 04:28:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.491, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.598, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.344, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.518, 'infer_time': 0.17, 'content': '通过声纹特征和机器学习模型识别。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.533, 'turn': 0, 'state': 'LISTEN', 'content': '语音助手是如何识别不同用户的声纹的'}}
[2025-11-19 04:28:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.803, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:24] 收到 tts_done, timestamp=5.803s
[2025-11-19 04:28:24] 在 5.80s 插入 TTS（3.67s）
[2025-11-19 04:28:40] 音频发送完毕，用时 21.44s
[2025-11-19 04:28:40] WebSocket 已关闭，结束接收循环
[2025-11-19 04:28:40] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0008_output.wav，时长 20.94s
[2025-11-19 04:28:40] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0008_output.wav
[2025-11-19 04:28:40] 处理完成: clean_0004_0008.wav
[2025-11-19 04:28:40] -----------------------------------
[2025-11-19 04:28:40] 开始处理文件: clean_0004_0014.wav
[2025-11-19 04:28:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:28:40] 初始化输出 buffer，总时长 18.94s（303040 samples）
[2025-11-19 04:28:40] 开始发送 clean_0004_0014.wav，总帧 1184，时长 18.94s
[2025-11-19 04:28:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.03, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.679, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.769, 'infer_time': 0.087, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.941, 'turn': 0, 'state': 'LISTEN', 'content': '怎样教孩子唱儿歌更有趣'}}
[2025-11-19 04:28:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.953, 'infer_time': 0.18, 'content': '可以加入动作和道具，让孩子边玩边唱。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.249, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:28:44] 收到 tts_done, timestamp=4.249s
[2025-11-19 04:28:44] 在 4.25s 插入 TTS（3.71s）
[2025-11-19 04:28:59] 音频发送完毕，用时 19.35s
[2025-11-19 04:28:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:28:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0014_output.wav，时长 18.94s
[2025-11-19 04:28:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0014_output.wav
[2025-11-19 04:28:59] 处理完成: clean_0004_0014.wav
[2025-11-19 04:28:59] -----------------------------------
[2025-11-19 04:28:59] 开始处理文件: clean_0004_0016.wav
[2025-11-19 04:28:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:28:59] 初始化输出 buffer，总时长 20.00s（320000 samples）
[2025-11-19 04:28:59] 开始发送 clean_0004_0016.wav，总帧 1250，时长 20.00s
[2025-11-19 04:28:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.664, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.358, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.007, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.103, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.303, 'turn': 0, 'state': 'LISTEN', 'content': '网购时怎样才能找到隐藏的优惠券'}}
[2025-11-19 04:29:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.315, 'infer_time': 0.207, 'content': '查看商品详情页或店铺首页，常有隐藏优惠券。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.668, 'infer_time': 0.347, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:05] 收到 tts_done, timestamp=5.668s
[2025-11-19 04:29:05] 在 5.67s 插入 TTS（4.79s）
[2025-11-19 04:29:20] 音频发送完毕，用时 20.48s
[2025-11-19 04:29:20] WebSocket 已关闭，结束接收循环
[2025-11-19 04:29:20] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0016_output.wav，时长 20.00s
[2025-11-19 04:29:20] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0016_output.wav
[2025-11-19 04:29:20] 处理完成: clean_0004_0016.wav
[2025-11-19 04:29:20] -----------------------------------
[2025-11-19 04:29:20] 开始处理文件: clean_0004_0027.wav
[2025-11-19 04:29:20] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:29:20] 初始化输出 buffer，总时长 19.63s（314080 samples）
[2025-11-19 04:29:20] 开始发送 clean_0004_0027.wav，总帧 1227，时长 19.63s
[2025-11-19 04:29:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.751, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.401, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.499, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.677, 'infer_time': 0.174, 'content': '虚拟偶像用技术呈现，传统靠真人表演。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.698, 'turn': 0, 'state': 'LISTEN', 'content': '虚拟偶像和传统偶像有什么区别'}}
[2025-11-19 04:29:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.997, 'infer_time': 0.316, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:25] 收到 tts_done, timestamp=4.997s
[2025-11-19 04:29:25] 在 5.00s 插入 TTS（4.14s）
[2025-11-19 04:29:40] 音频发送完毕，用时 20.09s
[2025-11-19 04:29:40] WebSocket 已关闭，结束接收循环
[2025-11-19 04:29:40] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0027_output.wav，时长 19.63s
[2025-11-19 04:29:40] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0027_output.wav
[2025-11-19 04:29:40] 处理完成: clean_0004_0027.wav
[2025-11-19 04:29:40] -----------------------------------
[2025-11-19 04:29:40] 开始处理文件: clean_0004_0031.wav
[2025-11-19 04:29:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:29:40] 初始化输出 buffer，总时长 19.50s（312000 samples）
[2025-11-19 04:29:40] 开始发送 clean_0004_0031.wav，总帧 1219，时长 19.50s
[2025-11-19 04:29:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.477, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.127, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.227, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.386, 'infer_time': 0.155, 'content': '我们学校有机器人和编程课。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.405, 'turn': 0, 'state': 'LISTEN', 'content': '你的家乡学校有什么特色课程吗'}}
[2025-11-19 04:29:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.597, 'infer_time': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:29:45] 收到 tts_done, timestamp=4.597s
[2025-11-19 04:29:45] 在 4.60s 插入 TTS（2.50s）
[2025-11-19 04:30:00] 音频发送完毕，用时 19.94s
[2025-11-19 04:30:00] WebSocket 已关闭，结束接收循环
[2025-11-19 04:30:00] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0031_output.wav，时长 19.50s
[2025-11-19 04:30:00] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0004_0031_output.wav
[2025-11-19 04:30:00] 处理完成: clean_0004_0031.wav
[2025-11-19 04:30:00] -----------------------------------
[2025-11-19 04:30:00] 开始处理文件: clean_0005_0003.wav
[2025-11-19 04:30:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:30:00] 初始化输出 buffer，总时长 18.91s（302560 samples）
[2025-11-19 04:30:00] 开始发送 clean_0005_0003.wav，总帧 1182，时长 18.91s
[2025-11-19 04:30:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.769, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.421, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.515, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.714, 'turn': 0, 'state': 'LISTEN', 'content': '快速网点一般提供哪些服务'}}
[2025-11-19 04:30:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.75, 'infer_time': 0.231, 'content': '快速网点通常提供快递收发、包裹寄送和物流查询等服务。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.14, 'infer_time': 0.384, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:04] 收到 tts_done, timestamp=4.14s
[2025-11-19 04:30:04] 在 4.14s 插入 TTS（5.24s）
[2025-11-19 04:30:19] 音频发送完毕，用时 19.31s
[2025-11-19 04:30:19] WebSocket 已关闭，结束接收循环
[2025-11-19 04:30:19] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0003_output.wav，时长 18.91s
[2025-11-19 04:30:19] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0003_output.wav
[2025-11-19 04:30:19] 处理完成: clean_0005_0003.wav
[2025-11-19 04:30:19] -----------------------------------
[2025-11-19 04:30:19] 开始处理文件: clean_0005_0006.wav
[2025-11-19 04:30:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:30:19] 初始化输出 buffer，总时长 19.85s（317600 samples）
[2025-11-19 04:30:19] 开始发送 clean_0005_0006.wav，总帧 1241，时长 19.85s
[2025-11-19 04:30:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.444, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.093, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.191, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.315, 'turn': 0, 'state': 'LISTEN', 'content': '拍摄夜景照片时需要注意哪些技巧'}}
[2025-11-19 04:30:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.544, 'infer_time': 0.349, 'content': '使用三脚架，调高ISO，慢门拍摄更清晰。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.906, 'infer_time': 0.355, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:24] 收到 tts_done, timestamp=4.906s
[2025-11-19 04:30:24] 在 4.91s 插入 TTS（4.58s）
[2025-11-19 04:30:39] 音频发送完毕，用时 20.28s
[2025-11-19 04:30:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:30:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0006_output.wav，时长 19.85s
[2025-11-19 04:30:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0006_output.wav
[2025-11-19 04:30:39] 处理完成: clean_0005_0006.wav
[2025-11-19 04:30:39] -----------------------------------
[2025-11-19 04:30:39] 开始处理文件: clean_0005_0016.wav
[2025-11-19 04:30:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:30:39] 初始化输出 buffer，总时长 20.26s（324160 samples）
[2025-11-19 04:30:39] 开始发送 clean_0005_0016.wav，总帧 1267，时长 20.26s
[2025-11-19 04:30:40] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.986, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.637, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.735, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.884, 'infer_time': 0.145, 'content': '基础设施和交通发展最明显。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.955, 'turn': 0, 'state': 'LISTEN', 'content': '你觉得这些年家乡变化最大的是什么'}}
[2025-11-19 04:30:45] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.141, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:30:45] 收到 tts_done, timestamp=5.141s
[2025-11-19 04:30:45] 在 5.14s 插入 TTS（3.18s）
[2025-11-19 04:31:00] 音频发送完毕，用时 20.76s
[2025-11-19 04:31:00] WebSocket 已关闭，结束接收循环
[2025-11-19 04:31:00] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0016_output.wav，时长 20.26s
[2025-11-19 04:31:00] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0016_output.wav
[2025-11-19 04:31:00] 处理完成: clean_0005_0016.wav
[2025-11-19 04:31:00] -----------------------------------
[2025-11-19 04:31:00] 开始处理文件: clean_0005_0020.wav
[2025-11-19 04:31:00] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:31:00] 初始化输出 buffer，总时长 19.85s（317600 samples）
[2025-11-19 04:31:00] 开始发送 clean_0005_0020.wav，总帧 1241，时长 19.85s
[2025-11-19 04:31:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.181, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:04] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.753, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:05] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.403, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.503, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:05] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.632, 'turn': 0, 'state': 'LISTEN', 'content': '为什么有些快递公司的物流速度特别快'}}
[2025-11-19 04:31:05] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.698, 'infer_time': 0.191, 'content': '因为它们有专属物流网络和自动化分拣系统。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.975, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:05] 收到 tts_done, timestamp=4.975s
[2025-11-19 04:31:05] 在 4.97s 插入 TTS（3.51s）
[2025-11-19 04:31:21] 音频发送完毕，用时 20.33s
[2025-11-19 04:31:21] WebSocket 已关闭，结束接收循环
[2025-11-19 04:31:21] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0020_output.wav，时长 19.85s
[2025-11-19 04:31:21] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0020_output.wav
[2025-11-19 04:31:21] 处理完成: clean_0005_0020.wav
[2025-11-19 04:31:21] -----------------------------------
[2025-11-19 04:31:21] 开始处理文件: clean_0005_0021.wav
[2025-11-19 04:31:21] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:31:21] 初始化输出 buffer，总时长 19.26s（308160 samples）
[2025-11-19 04:31:21] 开始发送 clean_0005_0021.wav，总帧 1204，时长 19.26s
[2025-11-19 04:31:21] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.209, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:24] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.134, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.786, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.877, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:25] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.032, 'infer_time': 0.151, 'content': '警惕陌生链接和索要信息的行为。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:25] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.054, 'turn': 0, 'state': 'LISTEN', 'content': '如何识别网络诈骗的常见手段'}}
[2025-11-19 04:31:25] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.271, 'infer_time': 0.235, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:25] 收到 tts_done, timestamp=4.271s
[2025-11-19 04:31:25] 在 4.27s 插入 TTS（3.11s）
[2025-11-19 04:31:40] 音频发送完毕，用时 19.70s
[2025-11-19 04:31:40] WebSocket 已关闭，结束接收循环
[2025-11-19 04:31:40] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0021_output.wav，时长 19.26s
[2025-11-19 04:31:40] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0021_output.wav
[2025-11-19 04:31:40] 处理完成: clean_0005_0021.wav
[2025-11-19 04:31:40] -----------------------------------
[2025-11-19 04:31:40] 开始处理文件: clean_0005_0028.wav
[2025-11-19 04:31:40] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:31:40] 初始化输出 buffer，总时长 18.49s（295840 samples）
[2025-11-19 04:31:40] 开始发送 clean_0005_0028.wav，总帧 1156，时长 18.49s
[2025-11-19 04:31:41] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.831, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.479, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.569, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.695, 'turn': 0, 'state': 'LISTEN', 'content': '双十一购物节怎么买最划算'}}
[2025-11-19 04:31:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.745, 'infer_time': 0.172, 'content': '提前加购，尾款时付更便宜。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.966, 'infer_time': 0.215, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:31:44] 收到 tts_done, timestamp=3.966s
[2025-11-19 04:31:44] 在 3.97s 插入 TTS（2.60s）
[2025-11-19 04:31:59] 音频发送完毕，用时 18.87s
[2025-11-19 04:31:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:31:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0028_output.wav，时长 18.49s
[2025-11-19 04:31:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0028_output.wav
[2025-11-19 04:31:59] 处理完成: clean_0005_0028.wav
[2025-11-19 04:31:59] -----------------------------------
[2025-11-19 04:31:59] 开始处理文件: clean_0005_0032.wav
[2025-11-19 04:31:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:31:59] 初始化输出 buffer，总时长 19.76s（316160 samples）
[2025-11-19 04:31:59] 开始发送 clean_0005_0032.wav，总帧 1235，时长 19.76s
[2025-11-19 04:32:00] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.278, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.978, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.626, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.72, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.89, 'infer_time': 0.166, 'content': '增加绿化能改善空气质量，降低噪音污染。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.931, 'turn': 0, 'state': 'LISTEN', 'content': '是增加绿化面积有哪些具体好处'}}
[2025-11-19 04:32:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.232, 'infer_time': 0.336, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:04] 收到 tts_done, timestamp=5.232s
[2025-11-19 04:32:04] 在 5.23s 插入 TTS（4.23s）
[2025-11-19 04:32:19] 音频发送完毕，用时 20.19s
[2025-11-19 04:32:19] WebSocket 已关闭，结束接收循环
[2025-11-19 04:32:19] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0032_output.wav，时长 19.76s
[2025-11-19 04:32:19] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0005_0032_output.wav
[2025-11-19 04:32:19] 处理完成: clean_0005_0032.wav
[2025-11-19 04:32:19] -----------------------------------
[2025-11-19 04:32:19] 开始处理文件: clean_0006_0001.wav
[2025-11-19 04:32:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:32:19] 初始化输出 buffer，总时长 19.42s（310720 samples）
[2025-11-19 04:32:19] 开始发送 clean_0006_0001.wav，总帧 1214，时长 19.42s
[2025-11-19 04:32:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:23] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.556, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:24] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.303, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:24] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.459, 'turn': 0, 'state': 'LISTEN', 'content': '网购时有哪些实用的比价技巧'}}
[2025-11-19 04:32:24] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.465, 'infer_time': 0.158, 'content': '用比价工具，关注促销时段。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.685, 'infer_time': 0.217, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:24] 收到 tts_done, timestamp=4.685s
[2025-11-19 04:32:24] 在 4.68s 插入 TTS（2.72s）
[2025-11-19 04:32:39] 音频发送完毕，用时 19.84s
[2025-11-19 04:32:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:32:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0001_output.wav，时长 19.42s
[2025-11-19 04:32:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0001_output.wav
[2025-11-19 04:32:39] 处理完成: clean_0006_0001.wav
[2025-11-19 04:32:39] -----------------------------------
[2025-11-19 04:32:39] 开始处理文件: clean_0006_0004.wav
[2025-11-19 04:32:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:32:39] 初始化输出 buffer，总时长 20.78s（332480 samples）
[2025-11-19 04:32:39] 开始发送 clean_0006_0004.wav，总帧 1299，时长 20.78s
[2025-11-19 04:32:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.815, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:44] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.325, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:45] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.198, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:45] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.848, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.947, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:45] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.138, 'infer_time': 0.187, 'content': '建议先看商场促销信息，再按需购买。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:46] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.193, 'turn': 0, 'state': 'LISTEN', 'content': '周末想去商场买些换季衣服有什么购物建议吗'}}
[2025-11-19 04:32:46] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.437, 'infer_time': 0.295, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:32:46] 收到 tts_done, timestamp=6.437s
[2025-11-19 04:32:46] 在 6.44s 插入 TTS（3.50s）
[2025-11-19 04:33:01] 音频发送完毕，用时 21.25s
[2025-11-19 04:33:01] WebSocket 已关闭，结束接收循环
[2025-11-19 04:33:01] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0004_output.wav，时长 20.78s
[2025-11-19 04:33:01] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0004_output.wav
[2025-11-19 04:33:01] 处理完成: clean_0006_0004.wav
[2025-11-19 04:33:01] -----------------------------------
[2025-11-19 04:33:01] 开始处理文件: clean_0006_0006.wav
[2025-11-19 04:33:01] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:33:01] 初始化输出 buffer，总时长 18.41s（294560 samples）
[2025-11-19 04:33:01] 开始发送 clean_0006_0006.wav，总帧 1151，时长 18.41s
[2025-11-19 04:33:01] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.175, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.746, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:04] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.394, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.484, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.595, 'turn': 0, 'state': 'LISTEN', 'content': '为什么购物会让人心情变好'}}
[2025-11-19 04:33:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.679, 'infer_time': 0.191, 'content': '购物能刺激大脑释放多巴胺，带来愉悦感。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:05] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.97, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:05] 收到 tts_done, timestamp=3.97s
[2025-11-19 04:33:05] 在 3.97s 插入 TTS（3.63s）
[2025-11-19 04:33:19] 音频发送完毕，用时 18.78s
[2025-11-19 04:33:19] WebSocket 已关闭，结束接收循环
[2025-11-19 04:33:19] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0006_output.wav，时长 18.41s
[2025-11-19 04:33:19] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0006_output.wav
[2025-11-19 04:33:19] 处理完成: clean_0006_0006.wav
[2025-11-19 04:33:19] -----------------------------------
[2025-11-19 04:33:19] 开始处理文件: clean_0006_0011.wav
[2025-11-19 04:33:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:33:19] 初始化输出 buffer，总时长 18.66s（298560 samples）
[2025-11-19 04:33:19] 开始发送 clean_0006_0011.wav，总帧 1167，时长 18.66s
[2025-11-19 04:33:20] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.022, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.67, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.763, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.955, 'turn': 0, 'state': 'LISTEN', 'content': '夜旅行去海边需要注意什么'}}
[2025-11-19 04:33:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.018, 'infer_time': 0.252, 'content': '防晒防中暑，注意安全别下深水。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.378, 'infer_time': 0.356, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:24] 收到 tts_done, timestamp=4.378s
[2025-11-19 04:33:24] 在 4.38s 插入 TTS（4.72s）
[2025-11-19 04:33:38] 音频发送完毕，用时 19.05s
[2025-11-19 04:33:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:33:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0011_output.wav，时长 18.66s
[2025-11-19 04:33:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0011_output.wav
[2025-11-19 04:33:38] 处理完成: clean_0006_0011.wav
[2025-11-19 04:33:38] -----------------------------------
[2025-11-19 04:33:38] 开始处理文件: clean_0006_0012.wav
[2025-11-19 04:33:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:33:38] 初始化输出 buffer，总时长 20.40s（326400 samples）
[2025-11-19 04:33:38] 开始发送 clean_0006_0012.wav，总帧 1275，时长 20.40s
[2025-11-19 04:33:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:40] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.492, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:43] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.691, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:44] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.339, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.433, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:44] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.576, 'infer_time': 0.139, 'content': '淘宝京东唯品会值得推荐', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:44] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.587, 'turn': 0, 'state': 'LISTEN', 'content': '能推荐几个适合买衣服的购物 app 吗'}}
[2025-11-19 04:33:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.766, 'infer_time': 0.186, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:33:44] 收到 tts_done, timestamp=5.766s
[2025-11-19 04:33:44] 在 5.77s 插入 TTS（2.30s）
[2025-11-19 04:33:59] 音频发送完毕，用时 20.84s
[2025-11-19 04:33:59] WebSocket 已关闭，结束接收循环
[2025-11-19 04:33:59] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0012_output.wav，时长 20.40s
[2025-11-19 04:33:59] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0012_output.wav
[2025-11-19 04:33:59] 处理完成: clean_0006_0012.wav
[2025-11-19 04:33:59] -----------------------------------
[2025-11-19 04:33:59] 开始处理文件: clean_0006_0025.wav
[2025-11-19 04:33:59] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:33:59] 初始化输出 buffer，总时长 18.21s（291360 samples）
[2025-11-19 04:33:59] 开始发送 clean_0006_0025.wav，总帧 1139，时长 18.21s
[2025-11-19 04:33:59] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.647, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.295, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.384, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.548, 'infer_time': 0.159, 'content': '我最喜欢玩捉迷藏和跳房子。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.57, 'turn': 0, 'state': 'LISTEN', 'content': '你小时候最喜欢玩什么游戏'}}
[2025-11-19 04:34:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.737, 'infer_time': 0.185, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:03] 收到 tts_done, timestamp=3.737s
[2025-11-19 04:34:03] 在 3.74s 插入 TTS（2.20s）
[2025-11-19 04:34:18] 音频发送完毕，用时 18.58s
[2025-11-19 04:34:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:34:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0025_output.wav，时长 18.21s
[2025-11-19 04:34:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0025_output.wav
[2025-11-19 04:34:18] 处理完成: clean_0006_0025.wav
[2025-11-19 04:34:18] -----------------------------------
[2025-11-19 04:34:18] 开始处理文件: clean_0006_0034.wav
[2025-11-19 04:34:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:34:18] 初始化输出 buffer，总时长 18.66s（298560 samples）
[2025-11-19 04:34:18] 开始发送 clean_0006_0034.wav，总帧 1167，时长 18.66s
[2025-11-19 04:34:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.092, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.741, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.837, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.974, 'turn': 0, 'state': 'LISTEN', 'content': '枕头高度对睡眠质量有什么影响'}}
[2025-11-19 04:34:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.009, 'infer_time': 0.167, 'content': '枕头过高或过低都会影响颈椎健康。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.305, 'infer_time': 0.291, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:22] 收到 tts_done, timestamp=4.305s
[2025-11-19 04:34:22] 在 4.30s 插入 TTS（3.74s）
[2025-11-19 04:34:37] 音频发送完毕，用时 19.05s
[2025-11-19 04:34:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:34:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0034_output.wav，时长 18.66s
[2025-11-19 04:34:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0006_0034_output.wav
[2025-11-19 04:34:37] 处理完成: clean_0006_0034.wav
[2025-11-19 04:34:37] -----------------------------------
[2025-11-19 04:34:37] 开始处理文件: clean_0007_0010.wav
[2025-11-19 04:34:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:34:37] 初始化输出 buffer，总时长 19.94s（319040 samples）
[2025-11-19 04:34:37] 开始发送 clean_0007_0010.wav，总帧 1247，时长 19.94s
[2025-11-19 04:34:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.049, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.696, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.791, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.961, 'infer_time': 0.165, 'content': '按区域分类商品，节省时间更高效。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.011, 'turn': 0, 'state': 'LISTEN', 'content': '去超市前怎么列购物清单比较高效'}}
[2025-11-19 04:34:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.226, 'infer_time': 0.26, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:34:42] 收到 tts_done, timestamp=5.226s
[2025-11-19 04:34:42] 在 5.23s 插入 TTS（3.35s）
[2025-11-19 04:34:57] 音频发送完毕，用时 20.37s
[2025-11-19 04:34:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:34:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0010_output.wav，时长 19.94s
[2025-11-19 04:34:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0010_output.wav
[2025-11-19 04:34:57] 处理完成: clean_0007_0010.wav
[2025-11-19 04:34:57] -----------------------------------
[2025-11-19 04:34:57] 开始处理文件: clean_0007_0018.wav
[2025-11-19 04:34:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:34:57] 初始化输出 buffer，总时长 20.12s（321920 samples）
[2025-11-19 04:34:57] 开始发送 clean_0007_0018.wav，总帧 1258，时长 20.12s
[2025-11-19 04:34:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:02] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.419, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.067, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.18, 'infer_time': 0.108, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:03] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.322, 'turn': 0, 'state': 'LISTEN', 'content': '现在有什么适合上班族的副业推荐吗'}}
[2025-11-19 04:35:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.335, 'infer_time': 0.15, 'content': '可以试试线上兼职或自由职业。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.563, 'infer_time': 0.223, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:03] 收到 tts_done, timestamp=5.563s
[2025-11-19 04:35:03] 在 5.56s 插入 TTS（2.66s）
[2025-11-19 04:35:18] 音频发送完毕，用时 20.57s
[2025-11-19 04:35:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:35:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0018_output.wav，时长 20.12s
[2025-11-19 04:35:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0018_output.wav
[2025-11-19 04:35:18] 处理完成: clean_0007_0018.wav
[2025-11-19 04:35:18] -----------------------------------
[2025-11-19 04:35:18] 开始处理文件: clean_0007_0021.wav
[2025-11-19 04:35:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:35:18] 初始化输出 buffer，总时长 19.67s（314720 samples）
[2025-11-19 04:35:18] 开始发送 clean_0007_0021.wav，总帧 1230，时长 19.67s
[2025-11-19 04:35:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.101, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.75, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.843, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.002, 'infer_time': 0.154, 'content': '完美主义可能引发焦虑和自我怀疑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.056, 'turn': 0, 'state': 'LISTEN', 'content': '完美主义会对心理健康产生什么影响'}}
[2025-11-19 04:35:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.266, 'infer_time': 0.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:23] 收到 tts_done, timestamp=5.266s
[2025-11-19 04:35:23] 在 5.27s 插入 TTS（3.29s）
[2025-11-19 04:35:38] 音频发送完毕，用时 20.09s
[2025-11-19 04:35:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:35:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0021_output.wav，时长 19.67s
[2025-11-19 04:35:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0021_output.wav
[2025-11-19 04:35:38] 处理完成: clean_0007_0021.wav
[2025-11-19 04:35:38] -----------------------------------
[2025-11-19 04:35:38] 开始处理文件: clean_0007_0025.wav
[2025-11-19 04:35:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:35:38] 初始化输出 buffer，总时长 19.50s（312000 samples）
[2025-11-19 04:35:38] 开始发送 clean_0007_0025.wav，总帧 1219，时长 19.50s
[2025-11-19 04:35:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.213, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.247, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:43] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.895, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.003, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.163, 'turn': 0, 'state': 'LISTEN', 'content': '深呼吸对身体有哪些具体好处'}}
[2025-11-19 04:35:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.209, 'infer_time': 0.202, 'content': '深呼吸能减压、助睡眠、提神醒脑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:44] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.555, 'infer_time': 0.343, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:44] 收到 tts_done, timestamp=5.555s
[2025-11-19 04:35:44] 在 5.55s 插入 TTS（4.08s）
[2025-11-19 04:35:58] 音频发送完毕，用时 19.93s
[2025-11-19 04:35:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:35:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0025_output.wav，时长 19.50s
[2025-11-19 04:35:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0025_output.wav
[2025-11-19 04:35:58] 处理完成: clean_0007_0025.wav
[2025-11-19 04:35:58] -----------------------------------
[2025-11-19 04:35:58] 开始处理文件: clean_0007_0026.wav
[2025-11-19 04:35:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:35:58] 初始化输出 buffer，总时长 18.75s（300000 samples）
[2025-11-19 04:35:58] 开始发送 clean_0007_0026.wav，总帧 1172，时长 18.75s
[2025-11-19 04:35:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:35:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.128, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.01, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.103, 'infer_time': 0.089, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.285, 'turn': 0, 'state': 'LISTEN', 'content': '白噪音为什么能帮助睡眠'}}
[2025-11-19 04:36:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.287, 'infer_time': 0.18, 'content': '白噪音能屏蔽干扰声，帮助大脑放松入睡。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.607, 'infer_time': 0.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:03] 收到 tts_done, timestamp=4.607s
[2025-11-19 04:36:03] 在 4.61s 插入 TTS（4.05s）
[2025-11-19 04:36:17] 音频发送完毕，用时 19.12s
[2025-11-19 04:36:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:36:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0026_output.wav，时长 18.75s
[2025-11-19 04:36:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0026_output.wav
[2025-11-19 04:36:17] 处理完成: clean_0007_0026.wav
[2025-11-19 04:36:17] -----------------------------------
[2025-11-19 04:36:17] 开始处理文件: clean_0007_0032.wav
[2025-11-19 04:36:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:36:17] 初始化输出 buffer，总时长 19.44s（311040 samples）
[2025-11-19 04:36:17] 开始发送 clean_0007_0032.wav，总帧 1215，时长 19.44s
[2025-11-19 04:36:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.015, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.664, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.76, 'infer_time': 0.092, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.902, 'turn': 0, 'state': 'LISTEN', 'content': '为什么指纹解锁有时候会识别失败'}}
[2025-11-19 04:36:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.941, 'infer_time': 0.177, 'content': '指纹识别失败可能因手指潮湿或有污渍', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.226, 'infer_time': 0.281, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:22] 收到 tts_done, timestamp=5.226s
[2025-11-19 04:36:22] 在 5.23s 插入 TTS（3.57s）
[2025-11-19 04:36:37] 音频发送完毕，用时 19.87s
[2025-11-19 04:36:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:36:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0032_output.wav，时长 19.44s
[2025-11-19 04:36:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0032_output.wav
[2025-11-19 04:36:37] 处理完成: clean_0007_0032.wav
[2025-11-19 04:36:37] -----------------------------------
[2025-11-19 04:36:37] 开始处理文件: clean_0007_0035.wav
[2025-11-19 04:36:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:36:37] 初始化输出 buffer，总时长 18.93s（302880 samples）
[2025-11-19 04:36:37] 开始发送 clean_0007_0035.wav，总帧 1184，时长 18.93s
[2025-11-19 04:36:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.572, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.644, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.293, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.4, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.547, 'infer_time': 0.144, 'content': '关注商场优惠券和会员折扣。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.586, 'turn': 0, 'state': 'LISTEN', 'content': '周末逛商场有什么省钱的技巧吗'}}
[2025-11-19 04:36:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.79, 'infer_time': 0.239, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:42] 收到 tts_done, timestamp=4.79s
[2025-11-19 04:36:42] 在 4.79s 插入 TTS（2.89s）
[2025-11-19 04:36:56] 音频发送完毕，用时 19.34s
[2025-11-19 04:36:56] WebSocket 已关闭，结束接收循环
[2025-11-19 04:36:56] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0035_output.wav，时长 18.93s
[2025-11-19 04:36:56] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0007_0035_output.wav
[2025-11-19 04:36:56] 处理完成: clean_0007_0035.wav
[2025-11-19 04:36:56] -----------------------------------
[2025-11-19 04:36:56] 开始处理文件: clean_0008_0003.wav
[2025-11-19 04:36:56] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:36:56] 初始化输出 buffer，总时长 18.10s（289600 samples）
[2025-11-19 04:36:56] 开始发送 clean_0008_0003.wav，总帧 1132，时长 18.10s
[2025-11-19 04:36:56] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:36:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.575, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.224, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.319, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.467, 'infer_time': 0.144, 'content': '制定购物清单，按需购买。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.515, 'turn': 0, 'state': 'LISTEN', 'content': '抢购时如何避免冲动消费'}}
[2025-11-19 04:37:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.673, 'infer_time': 0.203, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:00] 收到 tts_done, timestamp=3.673s
[2025-11-19 04:37:00] 在 3.67s 插入 TTS（2.44s）
[2025-11-19 04:37:15] 音频发送完毕，用时 18.43s
[2025-11-19 04:37:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:37:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0003_output.wav，时长 18.10s
[2025-11-19 04:37:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0003_output.wav
[2025-11-19 04:37:15] 处理完成: clean_0008_0003.wav
[2025-11-19 04:37:15] -----------------------------------
[2025-11-19 04:37:15] 开始处理文件: clean_0008_0008.wav
[2025-11-19 04:37:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:37:15] 初始化输出 buffer，总时长 18.22s（291520 samples）
[2025-11-19 04:37:15] 开始发送 clean_0008_0008.wav，总帧 1139，时长 18.22s
[2025-11-19 04:37:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.108, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.816, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.463, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.555, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.719, 'infer_time': 0.161, 'content': '恶意剪辑会误导公众，破坏信任。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.74, 'turn': 0, 'state': 'LISTEN', 'content': '恶意剪辑会对社会造成什么影响'}}
[2025-11-19 04:37:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.955, 'infer_time': 0.233, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:19] 收到 tts_done, timestamp=3.955s
[2025-11-19 04:37:19] 在 3.96s 插入 TTS（2.95s）
[2025-11-19 04:37:33] 音频发送完毕，用时 18.60s
[2025-11-19 04:37:33] WebSocket 已关闭，结束接收循环
[2025-11-19 04:37:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0008_output.wav，时长 18.22s
[2025-11-19 04:37:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0008_output.wav
[2025-11-19 04:37:33] 处理完成: clean_0008_0008.wav
[2025-11-19 04:37:33] -----------------------------------
[2025-11-19 04:37:33] 开始处理文件: clean_0008_0009.wav
[2025-11-19 04:37:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:37:33] 初始化输出 buffer，总时长 18.69s（299040 samples）
[2025-11-19 04:37:33] 开始发送 clean_0008_0009.wav，总帧 1169，时长 18.69s
[2025-11-19 04:37:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.109, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.194, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.843, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.951, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.084, 'turn': 0, 'state': 'LISTEN', 'content': '如何在作中有效优化时间管理'}}
[2025-11-19 04:37:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.118, 'infer_time': 0.164, 'content': '设定优先级，专注任务，减少干扰。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.429, 'infer_time': 0.308, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:38] 收到 tts_done, timestamp=4.429s
[2025-11-19 04:37:38] 在 4.43s 插入 TTS（3.83s）
[2025-11-19 04:37:52] 音频发送完毕，用时 19.11s
[2025-11-19 04:37:52] WebSocket 已关闭，结束接收循环
[2025-11-19 04:37:52] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0009_output.wav，时长 18.69s
[2025-11-19 04:37:52] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0009_output.wav
[2025-11-19 04:37:52] 处理完成: clean_0008_0009.wav
[2025-11-19 04:37:52] -----------------------------------
[2025-11-19 04:37:52] 开始处理文件: clean_0008_0018.wav
[2025-11-19 04:37:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:37:52] 初始化输出 buffer，总时长 19.52s（312320 samples）
[2025-11-19 04:37:52] 开始发送 clean_0008_0018.wav，总帧 1220，时长 19.52s
[2025-11-19 04:37:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.667, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.418, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.61, 'infer_time': 0.189, 'content': 'PMP证书能提升项目管理能力，增加职业竞争力。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.652, 'turn': 0, 'state': 'LISTEN', 'content': '调取 pmp 证书对职业发展有什么帮助'}}
[2025-11-19 04:37:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.97, 'infer_time': 0.356, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:37:57] 收到 tts_done, timestamp=4.97s
[2025-11-19 04:37:57] 在 4.97s 插入 TTS（4.81s）
[2025-11-19 04:38:12] 音频发送完毕，用时 19.97s
[2025-11-19 04:38:12] WebSocket 已关闭，结束接收循环
[2025-11-19 04:38:12] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0018_output.wav，时长 19.52s
[2025-11-19 04:38:12] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0018_output.wav
[2025-11-19 04:38:12] 处理完成: clean_0008_0018.wav
[2025-11-19 04:38:12] -----------------------------------
[2025-11-19 04:38:12] 开始处理文件: clean_0008_0019.wav
[2025-11-19 04:38:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:38:12] 初始化输出 buffer，总时长 18.89s（302240 samples）
[2025-11-19 04:38:12] 开始发送 clean_0008_0019.wav，总帧 1181，时长 18.89s
[2025-11-19 04:38:13] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.362, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.011, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.107, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.252, 'turn': 0, 'state': 'LISTEN', 'content': '企业如何建立有效的风险控制体系'}}
[2025-11-19 04:38:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.261, 'infer_time': 0.15, 'content': '建立风险识别、评估与应对机制', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.525, 'infer_time': 0.259, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:17] 收到 tts_done, timestamp=4.525s
[2025-11-19 04:38:17] 在 4.53s 插入 TTS（3.25s）
[2025-11-19 04:38:32] 音频发送完毕，用时 19.31s
[2025-11-19 04:38:32] WebSocket 已关闭，结束接收循环
[2025-11-19 04:38:32] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0019_output.wav，时长 18.89s
[2025-11-19 04:38:32] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0019_output.wav
[2025-11-19 04:38:32] 处理完成: clean_0008_0019.wav
[2025-11-19 04:38:32] -----------------------------------
[2025-11-19 04:38:32] 开始处理文件: clean_0008_0024.wav
[2025-11-19 04:38:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:38:32] 初始化输出 buffer，总时长 18.67s（298720 samples）
[2025-11-19 04:38:32] 开始发送 clean_0008_0024.wav，总帧 1167，时长 18.67s
[2025-11-19 04:38:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:34] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.071, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.72, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.82, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:35] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.972, 'turn': 0, 'state': 'LISTEN', 'content': '水军刷屏是怎么操作的'}}
[2025-11-19 04:38:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.037, 'infer_time': 0.213, 'content': '水军刷屏是通过大量账号发布重复内容，制造虚假热度。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:35] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.428, 'infer_time': 0.386, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:35] 收到 tts_done, timestamp=3.428s
[2025-11-19 04:38:35] 在 3.43s 插入 TTS（5.00s）
[2025-11-19 04:38:51] 音频发送完毕，用时 19.02s
[2025-11-19 04:38:51] WebSocket 已关闭，结束接收循环
[2025-11-19 04:38:51] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0024_output.wav，时长 18.67s
[2025-11-19 04:38:51] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0024_output.wav
[2025-11-19 04:38:51] 处理完成: clean_0008_0024.wav
[2025-11-19 04:38:51] -----------------------------------
[2025-11-19 04:38:51] 开始处理文件: clean_0008_0035.wav
[2025-11-19 04:38:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:38:51] 初始化输出 buffer，总时长 19.40s（310400 samples）
[2025-11-19 04:38:51] 开始发送 clean_0008_0035.wav，总帧 1213，时长 19.40s
[2025-11-19 04:38:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.422, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:55] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.07, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.179, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.311, 'turn': 0, 'state': 'LISTEN', 'content': '电竞比赛中 bp 环节为什么这么重要'}}
[2025-11-19 04:38:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.492, 'infer_time': 0.309, 'content': 'BP环节决定英雄选择，影响团队战术和比赛走向。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:56] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.907, 'infer_time': 0.409, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:38:56] 收到 tts_done, timestamp=4.907s
[2025-11-19 04:38:56] 在 4.91s 插入 TTS（5.36s）
[2025-11-19 04:39:11] 音频发送完毕，用时 19.81s
[2025-11-19 04:39:11] WebSocket 已关闭，结束接收循环
[2025-11-19 04:39:11] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0035_output.wav，时长 19.40s
[2025-11-19 04:39:11] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0008_0035_output.wav
[2025-11-19 04:39:11] 处理完成: clean_0008_0035.wav
[2025-11-19 04:39:11] -----------------------------------
[2025-11-19 04:39:11] 开始处理文件: clean_0009_0006.wav
[2025-11-19 04:39:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:39:11] 初始化输出 buffer，总时长 21.30s（340800 samples）
[2025-11-19 04:39:11] 开始发送 clean_0009_0006.wav，总帧 1332，时长 21.30s
[2025-11-19 04:39:11] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.96, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:16] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.358, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.011, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.111, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.277, 'infer_time': 0.161, 'content': '这其实是都市传说，没有科学依据。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:17] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.357, 'turn': 0, 'state': 'LISTEN', 'content': '听说很多学校都有第十三节楼梯的传说能具体讲讲吗'}}
[2025-11-19 04:39:17] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.556, 'infer_time': 0.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:17] 收到 tts_done, timestamp=6.556s
[2025-11-19 04:39:17] 在 6.56s 插入 TTS（3.43s）
[2025-11-19 04:39:33] 音频发送完毕，用时 21.86s
[2025-11-19 04:39:33] WebSocket 已关闭，结束接收循环
[2025-11-19 04:39:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0006_output.wav，时长 21.30s
[2025-11-19 04:39:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0006_output.wav
[2025-11-19 04:39:33] 处理完成: clean_0009_0006.wav
[2025-11-19 04:39:33] -----------------------------------
[2025-11-19 04:39:33] 开始处理文件: clean_0009_0007.wav
[2025-11-19 04:39:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:39:33] 初始化输出 buffer，总时长 19.48s（311680 samples）
[2025-11-19 04:39:33] 开始发送 clean_0009_0007.wav，总帧 1218，时长 19.48s
[2025-11-19 04:39:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.552, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.2, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.305, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.447, 'turn': 0, 'state': 'LISTEN', 'content': '智能交通系统如何改善城市拥堵问题'}}
[2025-11-19 04:39:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.483, 'infer_time': 0.173, 'content': '智能系统实时调控信号灯，优化车流。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:37] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.807, 'infer_time': 0.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:37] 收到 tts_done, timestamp=4.807s
[2025-11-19 04:39:37] 在 4.81s 插入 TTS（3.71s）
[2025-11-19 04:39:52] 音频发送完毕，用时 19.93s
[2025-11-19 04:39:52] WebSocket 已关闭，结束接收循环
[2025-11-19 04:39:52] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0007_output.wav，时长 19.48s
[2025-11-19 04:39:52] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0007_output.wav
[2025-11-19 04:39:52] 处理完成: clean_0009_0007.wav
[2025-11-19 04:39:52] -----------------------------------
[2025-11-19 04:39:52] 开始处理文件: clean_0009_0009.wav
[2025-11-19 04:39:52] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:39:52] 初始化输出 buffer，总时长 18.56s（296960 samples）
[2025-11-19 04:39:52] 开始发送 clean_0009_0009.wav，总帧 1160，时长 18.56s
[2025-11-19 04:39:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.18, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:55] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.838, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:56] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.487, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.586, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:56] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.72, 'turn': 0, 'state': 'LISTEN', 'content': '乘坐高铁和旅行有哪些优势'}}
[2025-11-19 04:39:56] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.761, 'infer_time': 0.17, 'content': '高铁速度快，准点率高，舒适安全。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.021, 'infer_time': 0.255, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:39:57] 收到 tts_done, timestamp=4.021s
[2025-11-19 04:39:57] 在 4.02s 插入 TTS（3.32s）
[2025-11-19 04:40:11] 音频发送完毕，用时 18.95s
[2025-11-19 04:40:11] WebSocket 已关闭，结束接收循环
[2025-11-19 04:40:11] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0009_output.wav，时长 18.56s
[2025-11-19 04:40:11] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0009_output.wav
[2025-11-19 04:40:11] 处理完成: clean_0009_0009.wav
[2025-11-19 04:40:11] -----------------------------------
[2025-11-19 04:40:11] 开始处理文件: clean_0009_0012.wav
[2025-11-19 04:40:11] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:40:11] 初始化输出 buffer，总时长 19.27s（308320 samples）
[2025-11-19 04:40:11] 开始发送 clean_0009_0012.wav，总帧 1205，时长 19.27s
[2025-11-19 04:40:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:15] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.41, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:16] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.058, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.152, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:16] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.315, 'turn': 0, 'state': 'LISTEN', 'content': '公园改造应该优先考虑哪些方面'}}
[2025-11-19 04:40:16] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.33, 'infer_time': 0.174, 'content': '生态、安全、功能和美观需统筹考虑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:16] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.668, 'infer_time': 0.333, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:16] 收到 tts_done, timestamp=4.668s
[2025-11-19 04:40:16] 在 4.67s 插入 TTS（4.36s）
[2025-11-19 04:40:31] 音频发送完毕，用时 19.69s
[2025-11-19 04:40:31] WebSocket 已关闭，结束接收循环
[2025-11-19 04:40:31] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0012_output.wav，时长 19.27s
[2025-11-19 04:40:31] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0012_output.wav
[2025-11-19 04:40:31] 处理完成: clean_0009_0012.wav
[2025-11-19 04:40:31] -----------------------------------
[2025-11-19 04:40:31] 开始处理文件: clean_0009_0017.wav
[2025-11-19 04:40:31] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:40:31] 初始化输出 buffer，总时长 19.49s（311840 samples）
[2025-11-19 04:40:31] 开始发送 clean_0009_0017.wav，总帧 1219，时长 19.49s
[2025-11-19 04:40:31] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:35] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.445, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:35] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.095, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:35] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.201, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:36] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.339, 'turn': 0, 'state': 'LISTEN', 'content': '你记忆中的家乡老屋有什么特别之处'}}
[2025-11-19 04:40:36] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.359, 'infer_time': 0.154, 'content': '老屋的青石板路最难忘', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:36] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.568, 'infer_time': 0.204, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:36] 收到 tts_done, timestamp=4.568s
[2025-11-19 04:40:36] 在 4.57s 插入 TTS（2.37s）
[2025-11-19 04:40:51] 音频发送完毕，用时 19.91s
[2025-11-19 04:40:51] WebSocket 已关闭，结束接收循环
[2025-11-19 04:40:51] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0017_output.wav，时长 19.49s
[2025-11-19 04:40:51] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0017_output.wav
[2025-11-19 04:40:51] 处理完成: clean_0009_0017.wav
[2025-11-19 04:40:51] -----------------------------------
[2025-11-19 04:40:51] 开始处理文件: clean_0009_0021.wav
[2025-11-19 04:40:51] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:40:51] 初始化输出 buffer，总时长 18.36s（293760 samples）
[2025-11-19 04:40:51] 开始发送 clean_0009_0021.wav，总帧 1148，时长 18.36s
[2025-11-19 04:40:51] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.177, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:54] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.628, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.276, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.374, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:55] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.538, 'turn': 0, 'state': 'LISTEN', 'content': '煎牛排时如何锁住肉汁'}}
[2025-11-19 04:40:55] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.577, 'infer_time': 0.199, 'content': '高温快煎锁住肉汁，别急着翻面。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:55] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.838, 'infer_time': 0.256, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:40:55] 收到 tts_done, timestamp=3.838s
[2025-11-19 04:40:55] 在 3.84s 插入 TTS（3.08s）
[2025-11-19 04:41:10] 音频发送完毕，用时 18.73s
[2025-11-19 04:41:10] WebSocket 已关闭，结束接收循环
[2025-11-19 04:41:10] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0021_output.wav，时长 18.36s
[2025-11-19 04:41:10] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0021_output.wav
[2025-11-19 04:41:10] 处理完成: clean_0009_0021.wav
[2025-11-19 04:41:10] -----------------------------------
[2025-11-19 04:41:10] 开始处理文件: clean_0009_0022.wav
[2025-11-19 04:41:10] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:41:10] 初始化输出 buffer，总时长 19.37s（309920 samples）
[2025-11-19 04:41:10] 开始发送 clean_0009_0022.wav，总帧 1211，时长 19.37s
[2025-11-19 04:41:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:13] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.624, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:14] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.274, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.37, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:14] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.496, 'turn': 0, 'state': 'LISTEN', 'content': '夏威夷有哪些适合新手的冲浪地点'}}
[2025-11-19 04:41:14] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.586, 'infer_time': 0.212, 'content': '威基基海滩和北岸的怀梅亚湾适合新手。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.856, 'infer_time': 0.265, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:15] 收到 tts_done, timestamp=4.856s
[2025-11-19 04:41:15] 在 4.86s 插入 TTS（3.45s）
[2025-11-19 04:41:30] 音频发送完毕，用时 19.84s
[2025-11-19 04:41:30] WebSocket 已关闭，结束接收循环
[2025-11-19 04:41:30] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0022_output.wav，时长 19.37s
[2025-11-19 04:41:30] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0009_0022_output.wav
[2025-11-19 04:41:30] 处理完成: clean_0009_0022.wav
[2025-11-19 04:41:30] -----------------------------------
[2025-11-19 04:41:30] 开始处理文件: clean_0010_0002.wav
[2025-11-19 04:41:30] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:41:30] 初始化输出 buffer，总时长 18.76s（300160 samples）
[2025-11-19 04:41:30] 开始发送 clean_0010_0002.wav，总帧 1173，时长 18.76s
[2025-11-19 04:41:30] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.144, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:33] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.888, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.538, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.627, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:34] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.799, 'infer_time': 0.167, 'content': '制定预算，自动转账，减少非必要开支。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:34] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.803, 'turn': 0, 'state': 'LISTEN', 'content': '怎样才能更好的实现储蓄目标'}}
[2025-11-19 04:41:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.093, 'infer_time': 0.29, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:34] 收到 tts_done, timestamp=4.093s
[2025-11-19 04:41:34] 在 4.09s 插入 TTS（3.90s）
[2025-11-19 04:41:49] 音频发送完毕，用时 19.15s
[2025-11-19 04:41:49] WebSocket 已关闭，结束接收循环
[2025-11-19 04:41:49] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0002_output.wav，时长 18.76s
[2025-11-19 04:41:49] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0002_output.wav
[2025-11-19 04:41:49] 处理完成: clean_0010_0002.wav
[2025-11-19 04:41:49] -----------------------------------
[2025-11-19 04:41:49] 开始处理文件: clean_0010_0003.wav
[2025-11-19 04:41:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:41:49] 初始化输出 buffer，总时长 19.29s（308640 samples）
[2025-11-19 04:41:49] 开始发送 clean_0010_0003.wav，总帧 1206，时长 19.29s
[2025-11-19 04:41:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.627, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:53] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.275, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.379, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:53] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.52, 'turn': 0, 'state': 'LISTEN', 'content': '为什么键盘侠喜欢在网上发表激进言论'}}
[2025-11-19 04:41:53] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.543, 'infer_time': 0.159, 'content': '匿名环境让人更敢表达极端观点。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.82, 'infer_time': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:41:54] 收到 tts_done, timestamp=4.82s
[2025-11-19 04:41:54] 在 4.82s 插入 TTS（3.29s）
[2025-11-19 04:42:09] 音频发送完毕，用时 19.69s
[2025-11-19 04:42:09] WebSocket 已关闭，结束接收循环
[2025-11-19 04:42:09] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0003_output.wav，时长 19.29s
[2025-11-19 04:42:09] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0003_output.wav
[2025-11-19 04:42:09] 处理完成: clean_0010_0003.wav
[2025-11-19 04:42:09] -----------------------------------
[2025-11-19 04:42:09] 开始处理文件: clean_0010_0005.wav
[2025-11-19 04:42:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:42:09] 初始化输出 buffer，总时长 18.16s（290560 samples）
[2025-11-19 04:42:09] 开始发送 clean_0010_0005.wav，总帧 1135，时长 18.16s
[2025-11-19 04:42:09] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:11] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.344, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:12] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.991, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.084, 'infer_time': 0.088, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:12] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.183, 'turn': 0, 'state': 'LISTEN', 'content': '自由泳换气时有什么技巧'}}
[2025-11-19 04:42:12] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.255, 'infer_time': 0.168, 'content': '头部转动要快，身体保持流线型。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.506, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:12] 收到 tts_done, timestamp=3.506s
[2025-11-19 04:42:12] 在 3.51s 插入 TTS（3.09s）
[2025-11-19 04:42:27] 音频发送完毕，用时 18.50s
[2025-11-19 04:42:27] WebSocket 已关闭，结束接收循环
[2025-11-19 04:42:27] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0005_output.wav，时长 18.16s
[2025-11-19 04:42:27] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0005_output.wav
[2025-11-19 04:42:27] 处理完成: clean_0010_0005.wav
[2025-11-19 04:42:27] -----------------------------------
[2025-11-19 04:42:27] 开始处理文件: clean_0010_0006.wav
[2025-11-19 04:42:27] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:42:27] 初始化输出 buffer，总时长 19.25s（308000 samples）
[2025-11-19 04:42:27] 开始发送 clean_0010_0006.wav，总帧 1204，时长 19.25s
[2025-11-19 04:42:27] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.178, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.599, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:31] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.248, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:31] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.353, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:32] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.493, 'turn': 0, 'state': 'LISTEN', 'content': '选购电竞显示器需要注意哪些参数'}}
[2025-11-19 04:42:32] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.541, 'infer_time': 0.182, 'content': '刷新率、响应时间、面板类型是关键参数。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:32] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.955, 'infer_time': 0.41, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:32] 收到 tts_done, timestamp=4.955s
[2025-11-19 04:42:32] 在 4.96s 插入 TTS（5.25s）
[2025-11-19 04:42:47] 音频发送完毕，用时 19.66s
[2025-11-19 04:42:47] WebSocket 已关闭，结束接收循环
[2025-11-19 04:42:47] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0006_output.wav，时长 19.25s
[2025-11-19 04:42:47] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0006_output.wav
[2025-11-19 04:42:47] 处理完成: clean_0010_0006.wav
[2025-11-19 04:42:47] -----------------------------------
[2025-11-19 04:42:47] 开始处理文件: clean_0010_0016.wav
[2025-11-19 04:42:47] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:42:47] 初始化输出 buffer，总时长 18.44s（295040 samples）
[2025-11-19 04:42:47] 开始发送 clean_0010_0016.wav，总帧 1153，时长 18.44s
[2025-11-19 04:42:47] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:50] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.818, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:50] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.466, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:50] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.571, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:51] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.744, 'turn': 0, 'state': 'LISTEN', 'content': '十九节一般有哪些特色活动'}}
[2025-11-19 04:42:51] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.784, 'infer_time': 0.209, 'content': '啤酒节通常有品酒、美食摊位和现场音乐表演。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:51] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.168, 'infer_time': 0.378, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:42:51] 收到 tts_done, timestamp=4.168s
[2025-11-19 04:42:51] 在 4.17s 插入 TTS（5.00s）
[2025-11-19 04:43:06] 音频发送完毕，用时 18.82s
[2025-11-19 04:43:06] WebSocket 已关闭，结束接收循环
[2025-11-19 04:43:06] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0016_output.wav，时长 18.44s
[2025-11-19 04:43:06] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0016_output.wav
[2025-11-19 04:43:06] 处理完成: clean_0010_0016.wav
[2025-11-19 04:43:06] -----------------------------------
[2025-11-19 04:43:06] 开始处理文件: clean_0010_0025.wav
[2025-11-19 04:43:06] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:43:06] 初始化输出 buffer，总时长 22.85s（365600 samples）
[2025-11-19 04:43:06] 开始发送 clean_0010_0025.wav，总帧 1429，时长 22.85s
[2025-11-19 04:43:06] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.172, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.957, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:10] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.816, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:11] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.462, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.563, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:11] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.783, 'turn': 0, 'state': 'LISTEN', 'content': '早晨起床后有哪些提升能量的仪式可以推荐'}}
[2025-11-19 04:43:11] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.784, 'infer_time': 0.216, 'content': '晨起喝温水，拉伸身体，晒会儿太阳。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:12] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.11, 'infer_time': 0.322, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:12] 收到 tts_done, timestamp=6.11s
[2025-11-19 04:43:12] 在 6.11s 插入 TTS（4.05s）
[2025-11-19 04:43:29] 音频发送完毕，用时 23.28s
[2025-11-19 04:43:29] WebSocket 已关闭，结束接收循环
[2025-11-19 04:43:29] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0025_output.wav，时长 22.85s
[2025-11-19 04:43:29] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0025_output.wav
[2025-11-19 04:43:29] 处理完成: clean_0010_0025.wav
[2025-11-19 04:43:29] -----------------------------------
[2025-11-19 04:43:29] 开始处理文件: clean_0010_0028.wav
[2025-11-19 04:43:29] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:43:29] 初始化输出 buffer，总时长 19.50s（312000 samples）
[2025-11-19 04:43:29] 开始发送 clean_0010_0028.wav，总帧 1219，时长 19.50s
[2025-11-19 04:43:29] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.241, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:31] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.829, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:32] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.417, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:33] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.065, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.171, 'infer_time': 0.102, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:33] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.313, 'turn': 0, 'state': 'LISTEN', 'content': '在菜市场砍价有什么实用技巧吗'}}
[2025-11-19 04:43:33] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.365, 'infer_time': 0.188, 'content': '多观察少说话，先问价再还价。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:34] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.634, 'infer_time': 0.264, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:34] 收到 tts_done, timestamp=4.634s
[2025-11-19 04:43:34] 在 4.63s 插入 TTS（3.14s）
[2025-11-19 04:43:49] 音频发送完毕，用时 19.84s
[2025-11-19 04:43:49] WebSocket 已关闭，结束接收循环
[2025-11-19 04:43:49] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0028_output.wav，时长 19.50s
[2025-11-19 04:43:49] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0010_0028_output.wav
[2025-11-19 04:43:49] 处理完成: clean_0010_0028.wav
[2025-11-19 04:43:49] -----------------------------------
[2025-11-19 04:43:49] 开始处理文件: clean_0011_0002.wav
[2025-11-19 04:43:49] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:43:49] 初始化输出 buffer，总时长 20.28s（324480 samples）
[2025-11-19 04:43:49] 开始发送 clean_0011_0002.wav，总帧 1268，时长 20.28s
[2025-11-19 04:43:49] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.141, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:53] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.157, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:54] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.804, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.904, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:54] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.096, 'infer_time': 0.188, 'content': '明确目标，专注当下，循序渐进放松。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:54] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.13, 'turn': 0, 'state': 'LISTEN', 'content': '冥想时如何设定有效的放松目标'}}
[2025-11-19 04:43:54] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.427, 'infer_time': 0.326, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:43:54] 收到 tts_done, timestamp=5.427s
[2025-11-19 04:43:54] 在 5.43s 插入 TTS（4.17s）
[2025-11-19 04:44:09] 音频发送完毕，用时 20.62s
[2025-11-19 04:44:09] WebSocket 已关闭，结束接收循环
[2025-11-19 04:44:09] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0002_output.wav，时长 20.28s
[2025-11-19 04:44:09] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0002_output.wav
[2025-11-19 04:44:09] 处理完成: clean_0011_0002.wav
[2025-11-19 04:44:09] -----------------------------------
[2025-11-19 04:44:09] 开始处理文件: clean_0011_0010.wav
[2025-11-19 04:44:09] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:44:09] 初始化输出 buffer，总时长 21.78s（348480 samples）
[2025-11-19 04:44:09] 开始发送 clean_0011_0010.wav，总帧 1362，时长 21.78s
[2025-11-19 04:44:10] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.174, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:14] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.988, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:15] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.636, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.735, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:15] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.873, 'infer_time': 0.133, 'content': '手机电磁波干扰音响信号', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:15] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.909, 'turn': 0, 'state': 'LISTEN', 'content': '为什么手机放在音响旁边会有滋滋的干扰声'}}
[2025-11-19 04:44:15] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.086, 'infer_time': 0.207, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:15] 收到 tts_done, timestamp=6.086s
[2025-11-19 04:44:15] 在 6.09s 插入 TTS（2.48s）
[2025-11-19 04:44:32] 音频发送完毕，用时 22.27s
[2025-11-19 04:44:32] WebSocket 已关闭，结束接收循环
[2025-11-19 04:44:32] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0010_output.wav，时长 21.78s
[2025-11-19 04:44:32] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0010_output.wav
[2025-11-19 04:44:32] 处理完成: clean_0011_0010.wav
[2025-11-19 04:44:32] -----------------------------------
[2025-11-19 04:44:32] 开始处理文件: clean_0011_0013.wav
[2025-11-19 04:44:32] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:44:32] 初始化输出 buffer，总时长 20.62s（329920 samples）
[2025-11-19 04:44:32] 开始发送 clean_0011_0013.wav，总帧 1289，时长 20.62s
[2025-11-19 04:44:32] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.895, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.543, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.661, 'infer_time': 0.114, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.836, 'infer_time': 0.17, 'content': '主动交朋友，多参加活动融入集体。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.888, 'turn': 0, 'state': 'LISTEN', 'content': '转学后如何快速适应新学校的环境'}}
[2025-11-19 04:44:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.138, 'infer_time': 0.297, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:38] 收到 tts_done, timestamp=6.138s
[2025-11-19 04:44:38] 在 6.14s 插入 TTS（3.60s）
[2025-11-19 04:44:53] 音频发送完毕，用时 21.10s
[2025-11-19 04:44:53] WebSocket 已关闭，结束接收循环
[2025-11-19 04:44:53] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0013_output.wav，时长 20.62s
[2025-11-19 04:44:53] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0013_output.wav
[2025-11-19 04:44:53] 处理完成: clean_0011_0013.wav
[2025-11-19 04:44:53] -----------------------------------
[2025-11-19 04:44:53] 开始处理文件: clean_0011_0014.wav
[2025-11-19 04:44:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:44:53] 初始化输出 buffer，总时长 18.76s（300160 samples）
[2025-11-19 04:44:53] 开始发送 clean_0011_0014.wav，总帧 1173，时长 18.76s
[2025-11-19 04:44:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.173, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:56] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.219, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:57] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.866, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.965, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:57] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.113, 'infer_time': 0.144, 'content': '番茄工作法很有效，试试看', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:57] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.145, 'turn': 0, 'state': 'LISTEN', 'content': '怎样设置高效的专注时段'}}
[2025-11-19 04:44:57] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.342, 'infer_time': 0.225, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:44:57] 收到 tts_done, timestamp=4.342s
[2025-11-19 04:44:57] 在 4.34s 插入 TTS（2.80s）
[2025-11-19 04:45:12] 音频发送完毕，用时 19.13s
[2025-11-19 04:45:12] WebSocket 已关闭，结束接收循环
[2025-11-19 04:45:12] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0014_output.wav，时长 18.76s
[2025-11-19 04:45:12] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0014_output.wav
[2025-11-19 04:45:12] 处理完成: clean_0011_0014.wav
[2025-11-19 04:45:12] -----------------------------------
[2025-11-19 04:45:12] 开始处理文件: clean_0011_0015.wav
[2025-11-19 04:45:12] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:45:12] 初始化输出 buffer，总时长 20.43s（326880 samples）
[2025-11-19 04:45:12] 开始发送 clean_0011_0015.wav，总帧 1277，时长 20.43s
[2025-11-19 04:45:12] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.788, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:17] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.437, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:17] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.54, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.706, 'turn': 0, 'state': 'LISTEN', 'content': '运动会开幕式有哪些需要注意的环节'}}
[2025-11-19 04:45:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.734, 'infer_time': 0.189, 'content': '流程安排、人员站位、音响调试和应急预案。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.07, 'infer_time': 0.33, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:18] 收到 tts_done, timestamp=6.07s
[2025-11-19 04:45:18] 在 6.07s 插入 TTS（4.32s）
[2025-11-19 04:45:33] 音频发送完毕，用时 20.90s
[2025-11-19 04:45:33] WebSocket 已关闭，结束接收循环
[2025-11-19 04:45:33] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0015_output.wav，时长 20.43s
[2025-11-19 04:45:33] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0015_output.wav
[2025-11-19 04:45:33] 处理完成: clean_0011_0015.wav
[2025-11-19 04:45:33] -----------------------------------
[2025-11-19 04:45:33] 开始处理文件: clean_0011_0030.wav
[2025-11-19 04:45:33] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:45:33] 初始化输出 buffer，总时长 19.48s（311680 samples）
[2025-11-19 04:45:33] 开始发送 clean_0011_0030.wav，总帧 1218，时长 19.48s
[2025-11-19 04:45:33] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.078, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:36] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.499, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:37] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.147, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.251, 'infer_time': 0.1, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:37] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.429, 'infer_time': 0.173, 'content': '找阴暗潮湿地方，别用手直接抓。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:37] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.455, 'turn': 0, 'state': 'LISTEN', 'content': '晚上捉萤火虫有什么技巧吗'}}
[2025-11-19 04:45:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.712, 'infer_time': 0.279, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:38] 收到 tts_done, timestamp=4.712s
[2025-11-19 04:45:38] 在 4.71s 插入 TTS（3.36s）
[2025-11-19 04:45:53] 音频发送完毕，用时 19.87s
[2025-11-19 04:45:53] WebSocket 已关闭，结束接收循环
[2025-11-19 04:45:53] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0030_output.wav，时长 19.48s
[2025-11-19 04:45:53] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0011_0030_output.wav
[2025-11-19 04:45:53] 处理完成: clean_0011_0030.wav
[2025-11-19 04:45:53] -----------------------------------
[2025-11-19 04:45:53] 开始处理文件: clean_0012_0002.wav
[2025-11-19 04:45:53] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:45:53] 初始化输出 buffer，总时长 20.56s（328960 samples）
[2025-11-19 04:45:53] 开始发送 clean_0012_0002.wav，总帧 1285，时长 20.56s
[2025-11-19 04:45:53] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:57] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 4.673, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:58] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.319, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.43, 'infer_time': 0.107, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:58] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.577, 'infer_time': 0.141, 'content': '越早开始准备养老金越好。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:58] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 5.627, 'turn': 0, 'state': 'LISTEN', 'content': '应该从什么时候开始准备养老金比较合适'}}
[2025-11-19 04:45:59] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.781, 'infer_time': 0.201, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:45:59] 收到 tts_done, timestamp=5.781s
[2025-11-19 04:45:59] 在 5.78s 插入 TTS（2.24s）
[2025-11-19 04:46:14] 音频发送完毕，用时 21.00s
[2025-11-19 04:46:14] WebSocket 已关闭，结束接收循环
[2025-11-19 04:46:14] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0002_output.wav，时长 20.56s
[2025-11-19 04:46:14] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0002_output.wav
[2025-11-19 04:46:14] 处理完成: clean_0012_0002.wav
[2025-11-19 04:46:14] -----------------------------------
[2025-11-19 04:46:14] 开始处理文件: clean_0012_0005.wav
[2025-11-19 04:46:14] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:46:14] 初始化输出 buffer，总时长 20.02s（320320 samples）
[2025-11-19 04:46:14] 开始发送 clean_0012_0005.wav，总帧 1252，时长 20.02s
[2025-11-19 04:46:14] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:17] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.402, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:18] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.051, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.146, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:18] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.31, 'turn': 0, 'state': 'LISTEN', 'content': '怎样才能养成早起的习惯呢'}}
[2025-11-19 04:46:18] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.325, 'infer_time': 0.174, 'content': '循序渐进调整作息，固定起床时间。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:18] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.614, 'infer_time': 0.285, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:18] 收到 tts_done, timestamp=4.614s
[2025-11-19 04:46:18] 在 4.61s 插入 TTS（3.61s）
[2025-11-19 04:46:34] 音频发送完毕，用时 20.42s
[2025-11-19 04:46:34] WebSocket 已关闭，结束接收循环
[2025-11-19 04:46:34] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0005_output.wav，时长 20.02s
[2025-11-19 04:46:34] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0005_output.wav
[2025-11-19 04:46:34] 处理完成: clean_0012_0005.wav
[2025-11-19 04:46:34] -----------------------------------
[2025-11-19 04:46:34] 开始处理文件: clean_0012_0006.wav
[2025-11-19 04:46:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:46:34] 初始化输出 buffer，总时长 20.39s（326240 samples）
[2025-11-19 04:46:34] 开始发送 clean_0012_0006.wav，总帧 1275，时长 20.39s
[2025-11-19 04:46:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.112, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.069, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.718, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.821, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.034, 'infer_time': 0.209, 'content': '户外广告牌设置需遵守城市规划、安全及环保规定。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.044, 'turn': 0, 'state': 'LISTEN', 'content': '户外广告牌的设置需要遵守哪些规定'}}
[2025-11-19 04:46:41] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.436, 'infer_time': 0.395, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:46:41] 收到 tts_done, timestamp=6.436s
[2025-11-19 04:46:41] 在 6.44s 插入 TTS（5.49s）
[2025-11-19 04:46:55] 音频发送完毕，用时 20.89s
[2025-11-19 04:46:55] WebSocket 已关闭，结束接收循环
[2025-11-19 04:46:55] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0006_output.wav，时长 20.39s
[2025-11-19 04:46:55] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0006_output.wav
[2025-11-19 04:46:55] 处理完成: clean_0012_0006.wav
[2025-11-19 04:46:55] -----------------------------------
[2025-11-19 04:46:55] 开始处理文件: clean_0012_0021.wav
[2025-11-19 04:46:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:46:55] 初始化输出 buffer，总时长 21.78s（348480 samples）
[2025-11-19 04:46:55] 开始发送 clean_0012_0021.wav，总帧 1362，时长 21.78s
[2025-11-19 04:46:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.479, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.127, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.236, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.423, 'turn': 0, 'state': 'LISTEN', 'content': '为什么哥特式建筑会有那么多汞和非福壁'}}
[2025-11-19 04:47:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.499, 'infer_time': 0.257, 'content': '哥特式建筑用拱和飞扶壁来支撑高墙，让窗户更大。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.872, 'infer_time': 0.367, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:02] 收到 tts_done, timestamp=6.872s
[2025-11-19 04:47:02] 在 6.87s 插入 TTS（4.74s）
[2025-11-19 04:47:17] 音频发送完毕，用时 22.32s
[2025-11-19 04:47:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:47:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0021_output.wav，时长 21.78s
[2025-11-19 04:47:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0021_output.wav
[2025-11-19 04:47:17] 处理完成: clean_0012_0021.wav
[2025-11-19 04:47:17] -----------------------------------
[2025-11-19 04:47:17] 开始处理文件: clean_0012_0028.wav
[2025-11-19 04:47:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:47:17] 初始化输出 buffer，总时长 19.63s（314080 samples）
[2025-11-19 04:47:17] 开始发送 clean_0012_0028.wav，总帧 1227，时长 19.63s
[2025-11-19 04:47:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.176, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.498, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.311, 'infer_time': 0.161, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.493, 'infer_time': 0.179, 'content': '枕头高度以8到12厘米为宜。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.515, 'turn': 0, 'state': 'LISTEN', 'content': '枕头高度多少对颈椎最好'}}
[2025-11-19 04:47:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.757, 'infer_time': 0.258, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:22] 收到 tts_done, timestamp=4.757s
[2025-11-19 04:47:22] 在 4.76s 插入 TTS（3.14s）
[2025-11-19 04:47:37] 音频发送完毕，用时 20.02s
[2025-11-19 04:47:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:47:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0028_output.wav，时长 19.63s
[2025-11-19 04:47:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0028_output.wav
[2025-11-19 04:47:37] 处理完成: clean_0012_0028.wav
[2025-11-19 04:47:37] -----------------------------------
[2025-11-19 04:47:37] 开始处理文件: clean_0012_0032.wav
[2025-11-19 04:47:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:47:37] 初始化输出 buffer，总时长 19.04s（304640 samples）
[2025-11-19 04:47:37] 开始发送 clean_0012_0032.wav，总帧 1190，时长 19.04s
[2025-11-19 04:47:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.132, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.78, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.874, 'infer_time': 0.09, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:41] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.996, 'turn': 0, 'state': 'LISTEN', 'content': '边境小镇通常有什么特色'}}
[2025-11-19 04:47:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.056, 'infer_time': 0.178, 'content': '边境小镇常有异域风情和特色小吃。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.329, 'infer_time': 0.268, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:42] 收到 tts_done, timestamp=4.329s
[2025-11-19 04:47:42] 在 4.33s 插入 TTS（3.41s）
[2025-11-19 04:47:57] 音频发送完毕，用时 19.40s
[2025-11-19 04:47:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:47:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0032_output.wav，时长 19.04s
[2025-11-19 04:47:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0012_0032_output.wav
[2025-11-19 04:47:57] 处理完成: clean_0012_0032.wav
[2025-11-19 04:47:57] -----------------------------------
[2025-11-19 04:47:57] 开始处理文件: clean_0013_0003.wav
[2025-11-19 04:47:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:47:57] 初始化输出 buffer，总时长 21.54s（344640 samples）
[2025-11-19 04:47:57] 开始发送 clean_0013_0003.wav，总帧 1347，时长 21.54s
[2025-11-19 04:47:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:47:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 0.916, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:03] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.73, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:03] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 6.379, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:03] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.482, 'infer_time': 0.098, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:04] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.716, 'infer_time': 0.229, 'content': '商场周年庆通常有全场折扣、满减和品牌特卖活动。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:04] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.741, 'turn': 0, 'state': 'LISTEN', 'content': '最近是商场周年庆有哪些值得关注的折扣活动'}}
[2025-11-19 04:48:04] tts_done: {'event': 'tts_done', 'data': {'timestamp': 7.13, 'infer_time': 0.408, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:04] 收到 tts_done, timestamp=7.13s
[2025-11-19 04:48:04] 在 7.13s 插入 TTS（5.31s）
[2025-11-19 04:48:19] 音频发送完毕，用时 22.02s
[2025-11-19 04:48:19] WebSocket 已关闭，结束接收循环
[2025-11-19 04:48:19] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0003_output.wav，时长 21.54s
[2025-11-19 04:48:19] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0003_output.wav
[2025-11-19 04:48:19] 处理完成: clean_0013_0003.wav
[2025-11-19 04:48:19] -----------------------------------
[2025-11-19 04:48:19] 开始处理文件: clean_0013_0004.wav
[2025-11-19 04:48:19] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:48:19] 初始化输出 buffer，总时长 19.37s（309920 samples）
[2025-11-19 04:48:19] 开始发送 clean_0013_0004.wav，总帧 1211，时长 19.37s
[2025-11-19 04:48:19] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.243, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.847, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.443, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:23] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.091, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.201, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.368, 'turn': 0, 'state': 'LISTEN', 'content': '新手钓鱼应该选择什么样的鱼竿'}}
[2025-11-19 04:48:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.478, 'infer_time': 0.272, 'content': '新手建议选2.7-3.6米的综合竿，轻便好上手。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:24] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.854, 'infer_time': 0.371, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:24] 收到 tts_done, timestamp=4.854s
[2025-11-19 04:48:24] 在 4.85s 插入 TTS（4.69s）
[2025-11-19 04:48:39] 音频发送完毕，用时 19.74s
[2025-11-19 04:48:39] WebSocket 已关闭，结束接收循环
[2025-11-19 04:48:39] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0004_output.wav，时长 19.37s
[2025-11-19 04:48:39] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0004_output.wav
[2025-11-19 04:48:39] 处理完成: clean_0013_0004.wav
[2025-11-19 04:48:39] -----------------------------------
[2025-11-19 04:48:39] 开始处理文件: clean_0013_0008.wav
[2025-11-19 04:48:39] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:48:39] 初始化输出 buffer，总时长 17.77s（284320 samples）
[2025-11-19 04:48:39] 开始发送 clean_0013_0008.wav，总帧 1111，时长 17.77s
[2025-11-19 04:48:39] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.14, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.962, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:41] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.61, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:41] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.7, 'infer_time': 0.086, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.831, 'turn': 0, 'state': 'LISTEN', 'content': '怎样提高工作室的专注力'}}
[2025-11-19 04:48:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.888, 'infer_time': 0.184, 'content': '专注力需靠习惯培养，建议番茄工作法。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.189, 'infer_time': 0.296, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:48:42] 收到 tts_done, timestamp=3.189s
[2025-11-19 04:48:42] 在 3.19s 插入 TTS（3.79s）
[2025-11-19 04:48:57] 音频发送完毕，用时 18.07s
[2025-11-19 04:48:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:48:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0008_output.wav，时长 17.77s
[2025-11-19 04:48:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0008_output.wav
[2025-11-19 04:48:57] 处理完成: clean_0013_0008.wav
[2025-11-19 04:48:57] -----------------------------------
[2025-11-19 04:48:57] 开始处理文件: clean_0013_0021.wav
[2025-11-19 04:48:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:48:57] 初始化输出 buffer，总时长 19.39s（310240 samples）
[2025-11-19 04:48:57] 开始发送 clean_0013_0021.wav，总帧 1212，时长 19.39s
[2025-11-19 04:48:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.386, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:01] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.033, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.129, 'infer_time': 0.091, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:01] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.265, 'turn': 0, 'state': 'LISTEN', 'content': '为什么明星容易发生人设崩塌事件'}}
[2025-11-19 04:49:01] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.301, 'infer_time': 0.168, 'content': '公众人物压力大，言行易被放大。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:01] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.558, 'infer_time': 0.253, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:01] 收到 tts_done, timestamp=4.558s
[2025-11-19 04:49:01] 在 4.56s 插入 TTS（3.20s）
[2025-11-19 04:49:16] 音频发送完毕，用时 19.76s
[2025-11-19 04:49:16] WebSocket 已关闭，结束接收循环
[2025-11-19 04:49:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0021_output.wav，时长 19.39s
[2025-11-19 04:49:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0021_output.wav
[2025-11-19 04:49:17] 处理完成: clean_0013_0021.wav
[2025-11-19 04:49:17] -----------------------------------
[2025-11-19 04:49:17] 开始处理文件: clean_0013_0030.wav
[2025-11-19 04:49:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:49:17] 初始化输出 buffer，总时长 21.18s（338880 samples）
[2025-11-19 04:49:17] 开始发送 clean_0013_0030.wav，总帧 1324，时长 21.18s
[2025-11-19 04:49:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.143, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 5.214, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 5.862, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 5.962, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 6.099, 'infer_time': 0.133, 'content': '查询专利商标局官网确认', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 6.192, 'turn': 0, 'state': 'LISTEN', 'content': '如何判断一个创意是否受到知识产权保护'}}
[2025-11-19 04:49:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 6.309, 'infer_time': 0.206, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:23] 收到 tts_done, timestamp=6.309s
[2025-11-19 04:49:23] 在 6.31s 插入 TTS（2.37s）
[2025-11-19 04:49:38] 音频发送完毕，用时 21.67s
[2025-11-19 04:49:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:49:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0030_output.wav，时长 21.18s
[2025-11-19 04:49:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0030_output.wav
[2025-11-19 04:49:38] 处理完成: clean_0013_0030.wav
[2025-11-19 04:49:38] -----------------------------------
[2025-11-19 04:49:38] 开始处理文件: clean_0013_0032.wav
[2025-11-19 04:49:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:49:38] 初始化输出 buffer，总时长 19.30s（308800 samples）
[2025-11-19 04:49:38] 开始发送 clean_0013_0032.wav，总帧 1207，时长 19.30s
[2025-11-19 04:49:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.142, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:42] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.355, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.002, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.11, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:43] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.307, 'infer_time': 0.193, 'content': '神前式婚礼很特别，新人喝交杯酒。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:43] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.314, 'turn': 0, 'state': 'LISTEN', 'content': '日本传统婚礼有哪些特别仪式'}}
[2025-11-19 04:49:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.6, 'infer_time': 0.286, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:49:43] 收到 tts_done, timestamp=4.6s
[2025-11-19 04:49:43] 在 4.60s 插入 TTS（3.48s）
[2025-11-19 04:49:58] 音频发送完毕，用时 19.68s
[2025-11-19 04:49:58] WebSocket 已关闭，结束接收循环
[2025-11-19 04:49:58] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0032_output.wav，时长 19.30s
[2025-11-19 04:49:58] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0013_0032_output.wav
[2025-11-19 04:49:58] 处理完成: clean_0013_0032.wav
[2025-11-19 04:49:58] -----------------------------------
[2025-11-19 04:49:58] 开始处理文件: clean_0014_0009.wav
[2025-11-19 04:49:58] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:49:58] 初始化输出 buffer，总时长 19.44s（311040 samples）
[2025-11-19 04:49:58] 开始发送 clean_0014_0009.wav，总帧 1215，时长 19.44s
[2025-11-19 04:49:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:00] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.602, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.533, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.181, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.279, 'infer_time': 0.094, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.404, 'turn': 0, 'state': 'LISTEN', 'content': '春天和秋天最适合去哪里郊游'}}
[2025-11-19 04:50:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.46, 'infer_time': 0.177, 'content': '春天去杭州西湖，秋天选北京香山。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:03] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.751, 'infer_time': 0.284, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:03] 收到 tts_done, timestamp=4.751s
[2025-11-19 04:50:03] 在 4.75s 插入 TTS（3.59s）
[2025-11-19 04:50:18] 音频发送完毕，用时 19.82s
[2025-11-19 04:50:18] WebSocket 已关闭，结束接收循环
[2025-11-19 04:50:18] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0009_output.wav，时长 19.44s
[2025-11-19 04:50:18] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0009_output.wav
[2025-11-19 04:50:18] 处理完成: clean_0014_0009.wav
[2025-11-19 04:50:18] -----------------------------------
[2025-11-19 04:50:18] 开始处理文件: clean_0014_0016.wav
[2025-11-19 04:50:18] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:50:18] 初始化输出 buffer，总时长 20.00s（320000 samples）
[2025-11-19 04:50:18] 开始发送 clean_0014_0016.wav，总帧 1250，时长 20.00s
[2025-11-19 04:50:18] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.179, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 1.296, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:22] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.967, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.614, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.714, 'infer_time': 0.096, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:23] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.886, 'turn': 0, 'state': 'LISTEN', 'content': '当风筝时如何判断风力是否合适'}}
[2025-11-19 04:50:23] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.896, 'infer_time': 0.179, 'content': '观察周围物体，感觉风力适中即可。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:23] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.163, 'infer_time': 0.263, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:23] 收到 tts_done, timestamp=5.163s
[2025-11-19 04:50:23] 在 5.16s 插入 TTS（3.37s）
[2025-11-19 04:50:38] 音频发送完毕，用时 20.40s
[2025-11-19 04:50:38] WebSocket 已关闭，结束接收循环
[2025-11-19 04:50:38] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0016_output.wav，时长 20.00s
[2025-11-19 04:50:38] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0016_output.wav
[2025-11-19 04:50:38] 处理完成: clean_0014_0016.wav
[2025-11-19 04:50:38] -----------------------------------
[2025-11-19 04:50:38] 开始处理文件: clean_0014_0018.wav
[2025-11-19 04:50:38] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:50:38] 初始化输出 buffer，总时长 18.96s（303360 samples）
[2025-11-19 04:50:38] 开始发送 clean_0014_0018.wav，总帧 1185，时长 18.96s
[2025-11-19 04:50:38] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.163, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.11, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.758, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.864, 'infer_time': 0.103, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.017, 'turn': 0, 'state': 'LISTEN', 'content': '如何在工作中保持长时间专注'}}
[2025-11-19 04:50:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.031, 'infer_time': 0.165, 'content': '设定目标，分段工作，定时休息。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:43] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.321, 'infer_time': 0.287, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:50:43] 收到 tts_done, timestamp=4.321s
[2025-11-19 04:50:43] 在 4.32s 插入 TTS（3.49s）
[2025-11-19 04:50:57] 音频发送完毕，用时 19.32s
[2025-11-19 04:50:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:50:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0018_output.wav，时长 18.96s
[2025-11-19 04:50:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0018_output.wav
[2025-11-19 04:50:57] 处理完成: clean_0014_0018.wav
[2025-11-19 04:50:57] -----------------------------------
[2025-11-19 04:50:57] 开始处理文件: clean_0014_0027.wav
[2025-11-19 04:50:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:50:57] 初始化输出 buffer，总时长 19.30s（308800 samples）
[2025-11-19 04:50:57] 开始发送 clean_0014_0027.wav，总帧 1207，时长 19.30s
[2025-11-19 04:50:58] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.113, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:01] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.5, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:02] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.149, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.247, 'infer_time': 0.095, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:02] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.39, 'turn': 0, 'state': 'LISTEN', 'content': '第一次去东京旅游应该怎么规划行程'}}
[2025-11-19 04:51:02] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.475, 'infer_time': 0.223, 'content': '建议先去浅草寺，然后逛秋叶原和银座。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:02] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.803, 'infer_time': 0.323, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:02] 收到 tts_done, timestamp=4.803s
[2025-11-19 04:51:02] 在 4.80s 插入 TTS（4.16s）
[2025-11-19 04:51:17] 音频发送完毕，用时 19.69s
[2025-11-19 04:51:17] WebSocket 已关闭，结束接收循环
[2025-11-19 04:51:17] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0027_output.wav，时长 19.30s
[2025-11-19 04:51:17] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0027_output.wav
[2025-11-19 04:51:17] 处理完成: clean_0014_0027.wav
[2025-11-19 04:51:17] -----------------------------------
[2025-11-19 04:51:17] 开始处理文件: clean_0014_0028.wav
[2025-11-19 04:51:17] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:51:17] 初始化输出 buffer，总时长 19.30s（308800 samples）
[2025-11-19 04:51:17] 开始发送 clean_0014_0028.wav，总帧 1207，时长 19.30s
[2025-11-19 04:51:17] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.146, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:21] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.635, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:22] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.283, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.394, 'infer_time': 0.107, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:22] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.556, 'infer_time': 0.157, 'content': '扣留驾照，罚款并可能拘留。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:22] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.586, 'turn': 0, 'state': 'LISTEN', 'content': '交警查处酒驾一般会采取哪些措施'}}
[2025-11-19 04:51:22] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.814, 'infer_time': 0.254, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:22] 收到 tts_done, timestamp=4.814s
[2025-11-19 04:51:22] 在 4.81s 插入 TTS（3.05s）
[2025-11-19 04:51:37] 音频发送完毕，用时 19.72s
[2025-11-19 04:51:37] WebSocket 已关闭，结束接收循环
[2025-11-19 04:51:37] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0028_output.wav，时长 19.30s
[2025-11-19 04:51:37] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0028_output.wav
[2025-11-19 04:51:37] 处理完成: clean_0014_0028.wav
[2025-11-19 04:51:37] -----------------------------------
[2025-11-19 04:51:37] 开始处理文件: clean_0014_0030.wav
[2025-11-19 04:51:37] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:51:37] 初始化输出 buffer，总时长 19.60s（313600 samples）
[2025-11-19 04:51:37] 开始发送 clean_0014_0030.wav，总帧 1225，时长 19.60s
[2025-11-19 04:51:37] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.145, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:41] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.98, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:42] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.629, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.74, 'infer_time': 0.104, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:42] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.888, 'turn': 0, 'state': 'LISTEN', 'content': '买房时应该优先考虑地段还是户型'}}
[2025-11-19 04:51:42] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.911, 'infer_time': 0.167, 'content': '地段更重要，影响未来价值和生活便利。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:42] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.23, 'infer_time': 0.314, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:42] 收到 tts_done, timestamp=5.23s
[2025-11-19 04:51:42] 在 5.23s 插入 TTS（3.84s）
[2025-11-19 04:51:57] 音频发送完毕，用时 20.03s
[2025-11-19 04:51:57] WebSocket 已关闭，结束接收循环
[2025-11-19 04:51:57] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0030_output.wav，时长 19.60s
[2025-11-19 04:51:57] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0014_0030_output.wav
[2025-11-19 04:51:57] 处理完成: clean_0014_0030.wav
[2025-11-19 04:51:57] -----------------------------------
[2025-11-19 04:51:57] 开始处理文件: clean_0015_0003.wav
[2025-11-19 04:51:57] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:51:57] 初始化输出 buffer，总时长 17.99s（287840 samples）
[2025-11-19 04:51:57] 开始发送 clean_0015_0003.wav，总帧 1125，时长 17.99s
[2025-11-19 04:51:57] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.272, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:51:59] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.066, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:00] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 2.713, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.802, 'infer_time': 0.085, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:00] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 2.916, 'turn': 0, 'state': 'LISTEN', 'content': '买天气应该怎么防护'}}
[2025-11-19 04:52:00] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 2.958, 'infer_time': 0.152, 'content': '雾霾天减少外出，出门戴口罩。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 3.209, 'infer_time': 0.246, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:00] 收到 tts_done, timestamp=3.209s
[2025-11-19 04:52:00] 在 3.21s 插入 TTS（3.01s）
[2025-11-19 04:52:15] 音频发送完毕，用时 18.29s
[2025-11-19 04:52:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:52:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0003_output.wav，时长 17.99s
[2025-11-19 04:52:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0003_output.wav
[2025-11-19 04:52:15] 处理完成: clean_0015_0003.wav
[2025-11-19 04:52:15] -----------------------------------
[2025-11-19 04:52:15] 开始处理文件: clean_0015_0008.wav
[2025-11-19 04:52:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:52:15] 初始化输出 buffer，总时长 19.33s（309280 samples）
[2025-11-19 04:52:15] 开始发送 clean_0015_0008.wav，总帧 1209，时长 19.33s
[2025-11-19 04:52:16] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.212, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:19] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.632, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:20] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.28, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.384, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:20] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.545, 'infer_time': 0.156, 'content': '合理分配养老金，确保基本生活需求。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:20] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.552, 'turn': 0, 'state': 'LISTEN', 'content': '休后如何规划养老金才能保证生活质量'}}
[2025-11-19 04:52:20] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.874, 'infer_time': 0.324, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:20] 收到 tts_done, timestamp=4.874s
[2025-11-19 04:52:20] 在 4.87s 插入 TTS（4.08s）
[2025-11-19 04:52:35] 音频发送完毕，用时 19.73s
[2025-11-19 04:52:35] WebSocket 已关闭，结束接收循环
[2025-11-19 04:52:35] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0008_output.wav，时长 19.33s
[2025-11-19 04:52:35] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0008_output.wav
[2025-11-19 04:52:35] 处理完成: clean_0015_0008.wav
[2025-11-19 04:52:35] -----------------------------------
[2025-11-19 04:52:35] 开始处理文件: clean_0015_0012.wav
[2025-11-19 04:52:35] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:52:35] 初始化输出 buffer，总时长 19.62s（313920 samples）
[2025-11-19 04:52:35] 开始发送 clean_0015_0012.wav，总帧 1227，时长 19.62s
[2025-11-19 04:52:35] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.307, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:39] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.796, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:40] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.444, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.549, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:40] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.717, 'infer_time': 0.164, 'content': '因为它们维持生态平衡，促进物种多样性。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:40] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.739, 'turn': 0, 'state': 'LISTEN', 'content': '什么说保护野生动物对生态系统很重要'}}
[2025-11-19 04:52:40] tts_done: {'event': 'tts_done', 'data': {'timestamp': 5.036, 'infer_time': 0.315, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:40] 收到 tts_done, timestamp=5.036s
[2025-11-19 04:52:40] 在 5.04s 插入 TTS（4.01s）
[2025-11-19 04:52:55] 音频发送完毕，用时 20.02s
[2025-11-19 04:52:55] WebSocket 已关闭，结束接收循环
[2025-11-19 04:52:55] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0012_output.wav，时长 19.62s
[2025-11-19 04:52:55] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0012_output.wav
[2025-11-19 04:52:55] 处理完成: clean_0015_0012.wav
[2025-11-19 04:52:55] -----------------------------------
[2025-11-19 04:52:55] 开始处理文件: clean_0015_0016.wav
[2025-11-19 04:52:55] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:52:55] 初始化输出 buffer，总时长 19.10s（305600 samples）
[2025-11-19 04:52:55] 开始发送 clean_0015_0016.wav，总帧 1194，时长 19.10s
[2025-11-19 04:52:55] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:58] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.388, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:59] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.036, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.132, 'infer_time': 0.093, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:52:59] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.303, 'turn': 0, 'state': 'LISTEN', 'content': '双香疗法中哪些精油适合缓解焦虑'}}
[2025-11-19 04:52:59] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.36, 'infer_time': 0.224, 'content': '薰衣草、洋甘菊和佛手柑精油有助于缓解焦虑。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:00] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.761, 'infer_time': 0.396, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:00] 收到 tts_done, timestamp=4.761s
[2025-11-19 04:53:00] 在 4.76s 插入 TTS（5.46s）
[2025-11-19 04:53:15] 音频发送完毕，用时 19.47s
[2025-11-19 04:53:15] WebSocket 已关闭，结束接收循环
[2025-11-19 04:53:15] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0016_output.wav，时长 19.10s
[2025-11-19 04:53:15] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0016_output.wav
[2025-11-19 04:53:15] 处理完成: clean_0015_0016.wav
[2025-11-19 04:53:15] -----------------------------------
[2025-11-19 04:53:15] 开始处理文件: clean_0015_0026.wav
[2025-11-19 04:53:15] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:53:15] 初始化输出 buffer，总时长 19.10s（305600 samples）
[2025-11-19 04:53:15] 开始发送 clean_0015_0026.wav，总帧 1194，时长 19.10s
[2025-11-19 04:53:15] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.172, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:18] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 3.492, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:19] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 4.137, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.241, 'infer_time': 0.099, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:19] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 4.413, 'infer_time': 0.167, 'content': '制定计划，专注高效，劳逸结合。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:19] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 4.455, 'turn': 0, 'state': 'LISTEN', 'content': '怎样合理安排一天的工作和学习时间'}}
[2025-11-19 04:53:19] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.681, 'infer_time': 0.263, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:19] 收到 tts_done, timestamp=4.681s
[2025-11-19 04:53:19] 在 4.68s 插入 TTS（3.26s）
[2025-11-19 04:53:34] 音频发送完毕，用时 19.50s
[2025-11-19 04:53:34] WebSocket 已关闭，结束接收循环
[2025-11-19 04:53:34] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0026_output.wav，时长 19.10s
[2025-11-19 04:53:34] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0026_output.wav
[2025-11-19 04:53:34] 处理完成: clean_0015_0026.wav
[2025-11-19 04:53:34] -----------------------------------
[2025-11-19 04:53:34] 开始处理文件: clean_0015_0032.wav
[2025-11-19 04:53:34] 已连接后端: ws://127.0.0.1:18000/realtime
[2025-11-19 04:53:34] 初始化输出 buffer，总时长 18.60s（297600 samples）
[2025-11-19 04:53:34] 开始发送 clean_0015_0032.wav，总帧 1163，时长 18.60s
[2025-11-19 04:53:34] 其他消息: {'event': 'vad_start', 'data': {'timestamp': 0.208, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:37] 其他消息: {'event': 'vad_done', 'data': {'timestamp': 2.848, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:38] 其他消息: {'event': 'vad_640_done', 'data': {'timestamp': 3.495, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.6, 'infer_time': 0.101, 'content': 'end', 'prompt': [{'role': 'system', 'content': "你需要从日常对话的角度,而不是语法的角度去判断这句话是否说完了。\n首先，如果你认为用户这句话明显没有说完，请只输出字符串'continue'。\n以下是例子：\nuser：骑行时适合听什么 assistant：continue\nuser：游泳后洗澡时应该注意 assistant：continue\nuser：体温调节睡眠时应该注意 assistant：continue\nuser：周杰伦演唱会门票 assistant：continue\nuser：如何利用番茄工作法 assistant：continue\n\n如果你认为用户已经说完，请只输出字符串'end'。不要输出其他内容。\n"}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:38] 其他消息: {'event': 'asr_done', 'data': {'timestamp': 3.732, 'turn': 0, 'state': 'LISTEN', 'content': '你家乡的广场有什么特色活动吗'}}
[2025-11-19 04:53:38] 其他消息: {'event': 'llm_done', 'data': {'timestamp': 3.781, 'infer_time': 0.177, 'content': '我们那广场常有舞龙舞狮表演。', 'prompt': [{'role': 'system', 'content': '你是一个自然聊天的语音助手，要像朋友一样回答用户的问题，只回复15个字\n不要用问句回答，不要输出任何格式说明，必须根据你听到的语言回答对应的语言，只有中文or英文\n只有用户提到“重复”“重新”，才需要参考历史信息进行重复回答，否则不要关注历史信息\n如果用户否定你，例如“不是这样的”“你说的不对”必须肯定用户说的内容是对的，并附带解释一下为什么对的内容\n根据用户音频进行回应：\n'}, {'role': 'user', 'content': [{'type': 'audio_url', 'audio_url': {'url': '<AUDIO_BASE64_OMITTED>'}}]}], 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:38] tts_done: {'event': 'tts_done', 'data': {'timestamp': 4.013, 'infer_time': 0.227, 'turn': 0, 'state': 'LISTEN'}}
[2025-11-19 04:53:38] 收到 tts_done, timestamp=4.013s
[2025-11-19 04:53:38] 在 4.01s 插入 TTS（2.67s）
[2025-11-19 04:53:53] 音频发送完毕，用时 18.95s
[2025-11-19 04:53:53] WebSocket 已关闭，结束接收循环
[2025-11-19 04:53:53] 已保存对齐音频: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0032_output.wav，时长 18.60s
[2025-11-19 04:53:53] 已保存 TTS 输出: exp/exp13/dev_zh/User Real-time Backchannels/clean_0015_0032_output.wav
[2025-11-19 04:53:53] 处理完成: clean_0015_0032.wav
[2025-11-19 04:53:53] -----------------------------------
[2025-11-19 04:53:53] ========== 全部处理完成 (zh) ==========
